/*! permutive-javascript-sdk v20.9.2 (web) (built 2024-09-05T13:19:34.003Z) */(()=>{"use strict";var __webpack_modules__={2688:(e,t,n)=>{function r(e){return e instanceof Error?e:new Error("string"==typeof e?e:JSON.stringify(e))}n.d(t,{w:()=>r})},787:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(3735),i=n(2884);function a(e){return(0,r.zG)((0,i.Y3)((()=>JSON.parse(e))),(0,i.fS)(r.gn))}},9097:(e,t,n)=>{n.r(t),n.d(t,{SspAddon:()=>F,load:()=>L,realService:()=>A,sspService:()=>q,stubService:()=>M});var r=n(2851),i=n(9853),a=n(3735),o=n(3328),s=n(2116),c=n(1828),u=n(7341),l=(n(856),n(365)),d=n(7407),f=(n(3992),n(8377));const g=e=>[e,d.of(e)],m=f.li,p=f.Yg,h=e=>g(l.F2(e));var v=n(2884);const b="RefEventual",_=e=>t=>r.vP((0,a.zG)(t,r.UI(m),r.UI(e)),(0,a.zG)(t,r.UI(p),r.UI(d.UI(e)))),y=e=>t=>r.vP((0,a.zG)(r.vP((0,a.zG)(e,r.UI(m)),(0,a.zG)(t,r.UI(m))),r.UI((e=>{let[t,n]=e;return n(t)}))),(0,a.zG)(r.vP((0,a.zG)(e,r.UI(p)),(0,a.zG)(t,r.UI(p))),r.UI((e=>{let[t,n]=e;return d.ap(t)(n)})))),w=r.UI(m),E={URI:b,map:(e,t)=>_(t)(e)},S={URI:b,map:E.map,ap:(e,t)=>y(t)(e)},I="RefEventualEither",k=e=>r.a9(h(e)),P=u.UI(E,l.dO),U=c.ap(S,l.G5),x=e=>(e=>t=>{const n=t();return(0,a.zG)(r.fF((()=>n)),r.UI(v.fS((()=>e))),r.UI((e=>(0,a.bc)(e,(()=>n)))))})(l.F2(e)),G={URI:I,map:(e,t)=>P(t)(e)},z={URI:I,map:G.map,ap:(e,t)=>U(t)(e)};n(7241);var D=n(2652);const C=(e,t)=>n=>({all:(0,a.zG)(n,P(e)),byAdServer:(0,D.mQ)((0,a.ls)(t,v.UI((e=>(0,a.zG)(n,P(e))))))});var T=n(3582),O=n(2751);const q=A;function M(e,t,n,i){return s.of({cohorts:v.YP,externalData:{[$]:r.a9(v.YP)}})}function A(e,t,n,u){const l=(0,i.Hn)(j),d=l("ssps",o.cS),f=l("all_cohort_mapping",{}),g=d.includes("google_pps"),m=l("affinity_enabled",!1);return(0,a.zG)(u.consent,s.KD([[e=>!e,s.of(k(v.YP))],s.K4((i=>{let{stopped:s}=i;const l=(0,a.zG)(u.cohorts,P((0,a.ls)(o.hX((e=>e in f)),o.tS((e=>f[e]))))),d=(0,a.zG)(r.vP(u.url,s),r.UI((e=>{let[t,n]=e;return(0,a.zG)(t,v.hX((()=>m&&!n)))})),r.UI(v.UI((n=>T.Y3((()=>e.req({method:"GET",url:t.getEndpointUrl("/standard-audiences/v1/affinity",v.YP,[["url",n]]),withCredentials:!1,dataType:"json"})),String)))),r.UI(v.UI(T.Vn((0,D.bw)((e=>n(`Failed to fetch affinity cohorts: ${e}`)))))),r.UI(v.UI(T.UI((e=>e.affinity_values)))),r.UI(v.fS((()=>T.of(o.bM())))),r.VS(x(o.bM())));return(0,a.zG)((0,c.gz)(z)(l,d),P(o.xH),P((e=>[...new Set(e)])),P(v.G))}))]),s.UI(r.xH),s.UI((e=>({cohorts:(0,a.zG)(e,P(v.fS((()=>o.bM()))),C((e=>e),(e=>"dfp"===e.id&&g?v.G(R):v.YP)),v.G),externalData:{[$]:(0,a.zG)(w(e),r.UI(v.Uo),r.UI(v.xH),r.UI(v.UI(R)),r.D8(v.Eh(o.Eh(O.Eq))),r.UI(v.UI((e=>({ssps:d,cohorts:e})))))}}))))}const R=e=>[...new Set(e.map((e=>e.replace(/-ac$/,"").replace(/-aw$/,"").replace(/-c$/,""))))],j="ssp",L=e=>{(0,i.Hn)(j)("auto_init",!1)&&e.q.push({functionName:"addon",arguments:[j,{}]})};class F{constructor(e){}}const $="_pssps"},3992:(e,t,n)=>{n.d(t,{GL:()=>s,HJ:()=>c,N1:()=>l,NC:()=>r,RP:()=>i,SF:()=>d,UM:()=>u,ho:()=>g,iE:()=>f});const r=performance.now(),i=(new Date).getTime();let a=[],o=!1;const s=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return c((()=>e(...n)))},c=(e,t)=>{if(!o){const n=self.setTimeout(e,t);return()=>self.clearTimeout(n)}let n;const r=()=>{void 0!==n&&o&&a.length<1e4&&a.push([n,performance.now()]),n=void 0},i=[self.setTimeout((()=>{n=performance.now(),self.requestAnimationFrame(r),e()}),t),self.setTimeout(r,t)];return()=>{void 0===n&&i.forEach((e=>self.clearTimeout(e)))}},u=(e,t)=>{if(!o){const n=self.setInterval(e,t);return()=>self.clearInterval(n)}let n=!1,r=()=>{};const i=self.setInterval((()=>{r=c((()=>{n||e()}))}),t);return()=>{n=!0,r(),self.clearInterval(i)}},l=e=>()=>{return t=e(),new Promise(((e,n)=>t.then(s(e),s(n))));var t},d=e=>{const t=l(e);return()=>new Promise((e=>c((()=>e(t())))))},f=()=>{const e=a;return a=[],e},g=e=>{o=e}},2851:(e,t,n)=>{n.d(t,{ap:()=>y,a9:()=>v,Ue:()=>m,gS:()=>p,D8:()=>x,VS:()=>w,xH:()=>E,En:()=>h,p4:()=>U,fF:()=>P,UI:()=>_,Rp:()=>S,vP:()=>I,bw:()=>G,YP:()=>b});var r=n(2688),i=n(365),a=n(3735),o=n(2884),s=n(3328),c=n(2652);function u(e){let t=e,n=[],r=!1;return{addListener(e){if(r)return()=>{};let i=t;const a=()=>{Object.is(t,i)||(i=t,e(t))};n=[...n,a];return()=>{n=n.filter((e=>e!==a))}},notify(e){if(r)throw new Error("Ref bug: Attempted to notify a terminated notifier");Object.is(e,t)||(t=e,n.forEach((e=>e())))},terminate(){r=!0,n=[]}}}function l(e,t){let n=0;return function(){try{if(n++>0)throw new Error(e);return t(...arguments)}finally{n--}}}function d(e,t){let n=[...new Set(e)].filter((e=>"final"!==e.state));if(0===n.length)return{state:"final",onStateChange:()=>()=>{}};const r=()=>0===n.length?"final":n.some((e=>"might_change"===e.state))?"might_change":"nominal",[i,a]=f(r(),(e=>"might_change"!==e&&t())),o=()=>a(r());return n.forEach((t=>{t.onStateChange((t=>{switch(t){case"final":n=e.filter((e=>"final"!==e.state)),o();break;case"might_change":a("might_change");break;case"nominal":o();break;default:throw new Error(`Ref bug: Invalid state ${t}`)}}))})),i}function f(e,t){if("final"===e)return[{state:"final",onStateChange:()=>()=>{}},()=>{}];const{terminate:n,notify:r,addListener:i}=u(e),a={state:e,onStateChange:i},o=l("Disallowed recursion in Branch.",(e=>{if("final"===a.state){if("final"===e)return;throw new Error(`Attempted to change state of final branch to ${e}.`)}try{null==t||t(e),a.state=e,r(e)}finally{"final"===e&&n()}}));return[a,o]}var g=n(6392);function m(e){const[t,n,r]=function(){const[e,t]=f("nominal"),n=l("Disallowed recursion in Branch.",(n=>{if("final"===e.state)throw new Error("Attempted to mutate a finalized Ref.");const r=e.state;try{t("might_change"),n()}finally{t(r)}}));return[e,n,()=>t("final")]}(),[i,a]=z(t,e);return[i,e=>n((()=>a(e))),r]}function p(e){let t=e.empty;const n=()=>()=>{const n=t;return t=e.empty,n},[r,i,a]=m(n());return[r,r=>{t=e.concat(t,r),i(n())},a]}function h(e,t){return n=>{let r=new Array(e).fill(t.empty);return new Array(e).fill(null).map(((e,i)=>(0,a.zG)(n,_(g.UI((e=>{const n=t.concat(r[i],e);return r=r.map(((n,r)=>r===i?t.empty:t.concat(n,e))),n}))))))}}function v(e){return{get current(){return e},onChange:()=>()=>{},branch:{state:"final",onStateChange:()=>()=>{}}}}function b(e){return t=>{const n=t.onChange(e);return e(t.current),n}}function _(e,t){if(t){const[n,r]=z(t.branch,e(t.current));return t.onChange((t=>r(e(t)))),n}return t=>_(e,t)}const y=e=>w((t=>_(t)(e)));function w(e,t){return t?E(_(e,t)):t=>E(_(e,t))}function E(e){if("final"===e.branch.state)return e.current;const[t,n]=function(e,t){let n=t;const r=[e.state,n.state].includes("might_change")?"might_change":"nominal",[i,a]=f(r),o=e=>t=>{switch(t){case"final":a(e().state);break;case"might_change":a("might_change");break;case"nominal":"might_change"===e().state?a("might_change"):a("nominal");break;default:throw new Error(`Ref bug: Unexpected upstream state ${t}`)}};e.onStateChange(o((()=>n)));const s=o((()=>e));let c=n.onStateChange(s);return[i,e=>{n=e,c(),c=e.onStateChange(s),s(n.state)}]}(e.branch,e.current.branch),[r,i]=z(t,e.current.current);let a=e.current.onChange(i);return e.onChange((e=>{a(),a=e.onChange(i),n(e.branch),i(e.current)})),r}function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{if(2===t.length){let n=t[0];return _((e=>(n=t[1](n,e),n)),e)}let n=o.bM();return _((e=>{const r=t[0](n,e);return n=o.G(r),r}),e)}}function I(){if(0===arguments.length||D(arguments.length<=0?void 0:arguments[0]))return k(...arguments);const e=arguments.length<=0?void 0:arguments[0],t=Object.keys(e);return(0,a.zG)(Object.values(e),(e=>k(...e)),_((0,a.ls)(s.Su(((e,n)=>[t[e],n])),Object.fromEntries)))}function k(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return v([]);if(1===t.length)return _((e=>[e]))(t[0]);let r=!1;t.forEach((e=>e.onChange((()=>{if("might_change"!==e.branch.state)throw new Error("Ref bug: Received a change notification without a `might_change` state.");r=!0}))));const i=t.map((0,c.vg)("branch")),a=()=>{r&&(r=!1,u(t.map((e=>e.current))))},o=d(i,a),[s,u]=z(o,t.map((e=>e.current)));return s}function P(e){const[t,n,r]=m(o.YP);return e().then((0,a.ls)(o.G,n,r)),t}function U(e){const[t,n,s]=m(o.YP);return e.then(i.F2).catch((0,a.ls)(r.w,i.t$)).then((0,a.ls)(o.G,n,s)),t}function x(e){const t=e.hasOwnProperty("equals")?e.equals:e;return function(e){return t=>{if("final"===t.branch.state)return t;let n=o.YP;return _((t=>{if(o.Wi(n))return n=o.G(t),t;const r=e(n.value,t);return n=o.G(r),r}),t)}}(((e,n)=>t(e,n)?e:n))}function G(e){return t=>(b(e)(t),t)}function z(e,t){if("final"===e.state)return[v(t),()=>{}];const n=u(t);e.onStateChange((e=>{"final"===e&&n.terminate()}));let r=t;return[{get current(){return r},onChange:n.addListener,branch:e},l("Disallowed recursion in Ref.",(e=>{r=e,n.notify(r)}))]}function D(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&"function"==typeof e.onChange}},2116:(e,t,n)=>{n.d(t,{K4:()=>c,KD:()=>p,UI:()=>d,ak:()=>m,bw:()=>f,dQ:()=>u,of:()=>l,vP:()=>g});var r=n(2851),i=n(3735),a=n(2652),o=n(4923),s=n(2884);const c=e=>(0,i.ls)((t=>{let{previousState:n,...r}=t;return e(r)}),(e=>({value:e,state:r.a9(void 0)}))),u=i.yR,l=(0,i.ls)(i.a9,c),d=e=>t=>(0,i.ls)(t,(0,a.rO)({value:e})),f=e=>t=>(0,i.ls)(t,(0,a.rO)({value:(0,a.bw)(e)}));function g(e){return t=>{let{previousState:n,...a}=t;const s=b(n)?n:{},c=(0,i.zG)(e,o.Su(((e,t)=>t({previousState:s[e],...a}))));return{value:(0,i.zG)(c,o.UI((e=>e.value))),state:(0,i.zG)(c,o.UI((e=>e.state)),(e=>r.vP(e)))}}}function m(e,t){return n=>(0,i.ls)((0,a.rO)({previousState:v}),(a=>{const o=n(a),s=t(o.value)({...a,previousState:a.previousState[e]});return{value:(0,i.zG)([o.value,s.value],(t=>{let[n,r]=t;if(!b(n))throw new Error("Service.bind() was passed an upstream Service with a non-record value.");return{...n,[e]:r}})),state:(0,i.zG)(r.vP(o.state,s.state),r.UI((t=>{let[n,r]=t;if(void 0===n)return{[e]:r};if(!b(n))throw new Error("Service.bind() was passed an upstream Service with a non-record state.");return{...n,[e]:r}})))}}))}const p=e=>{const t=e.slice(0,-1),n=e.slice(-1)[0],o=[...t.map((e=>{let[t,n]=e;return[t,(0,i.a9)(n)]})),(0,i.a9)(n)];return s=(0,a.lo)(o),(0,i.ls)(r.UI(s),h);var s};function h(e){const t=(0,i.zG)(e,r.Rp(0,(e=>e+1)));return n=>{let{previousState:a,stopped:o,...c}=n;return(0,i.zG)(r.vP(e,t),r.Rp(((e,n)=>{let[u,l]=n;return(0,i.zG)(e,s.UI((e=>e.state.current)),s.fS((()=>a)),(e=>u({previousState:e,stopped:(0,i.zG)(r.vP(o,t),r.UI((e=>{let[t,n]=e;return t||n!==l}))),...c})))})),(e=>({value:r.UI((e=>e.value),e),state:r.VS((e=>e.state),e)})))}}function v(e){return b(e)?e:{}}function b(e){return"object"==typeof e&&null!==e}},6967:(e,t,n)=>{n(2497)},8612:(e,t,n)=>{n.d(t,{lg:()=>p,Bt:()=>v});var r=n(5851),i=n(3735),a=n(2884),o=n(2751),s=n(2652);class c{userId;network;api;logger;constructor(e,t,n,r){this.userId=e,this.network=t,this.api=n,this.logger=r}tag="appnexus";ttlInSeconds=86400;usedForThirdPartyData=!0;url="https://ib.adnxs.com/getuidj";invalidAliases=["","0","-1"];getId(){return this.logger.debug("identities[appnexus]: start HTTP request"),(0,s.G6)(navigator.userAgent)?Promise.resolve({type:"skipped"}):this.api.appnexus(this.url).then((e=>(this.logger.debug("identities[appnexus]: end HTTP request"),{type:"attempted",result:(0,i.zG)((0,a.DT)((e=>this.isValidAlias(e.uid)))(e),(0,a.UI)((e=>e.uid)))})),(e=>({type:"attempted",result:a.YP})))}reset(){return Promise.resolve()}isValidAlias(e){return!!e&&-1===this.invalidAliases.indexOf(e)}}class u{config;network;api;userId;logger;url;resetUrl;constructor(e,t,n,r,i){this.config=e,this.network=t,this.api=n,this.userId=r,this.logger=i,this.url=`https://10453011-272d-49cd-9043-1964fdb36fd8.${this.config.pxidHost}/${this.config.apiVersion}/pxid`,this.resetUrl=this.url+"/reset"}tag="pxid";ttlInSeconds=86400;usedForThirdPartyData=!1;getId(){return this.logger.debug("identities[pxid]: start HTTP request"),(0,s.G6)(navigator.userAgent)?Promise.resolve({type:"skipped"}):this.api.pxid(this.url).then((e=>(this.logger.debug("identities[pxid]: end HTTP request"),{type:"attempted",result:(0,a.ij)(e.uid)})),(e=>({type:"attempted",result:a.YP})))}reset(){return(0,s.G6)(navigator.userAgent)?Promise.resolve():this.api.pxidReset(this.resetUrl)}}var l=n(2851),d=n(4923),f=n(2197),g=n(365);const m=f.ff((e=>void 0===e));class p{metrics;trace;permutiveData;identityProviderEnv;logger;ref;setReady;thirdParty;rawRef;identityMapRef;setIdentityMap;providers={};static emailSHA256Regex=/^[a-f0-9]{64}$/;constructor(e,t,n,r,c){this.metrics=e,this.trace=t,this.permutiveData=n,this.identityProviderEnv=r,this.logger=c;const u=this.getCachedIdentitiesAndMigrateIfRequired(),[f,g]=l.Ue(u);this.identityMapRef=f,this.setIdentityMap=g,f.onChange((0,i.ls)(d.z7((e=>!h.has(e))),(0,s.bw)((e=>{this.logger.debug("[identities] Persisting",e),this.permutiveData.setData("identities",e)})))),this.rawRef=(0,i.zG)(f,l.UI((0,i.ls)(d.UI((e=>e.value)),d.hX(m))),l.D8(d.Eh(o.Eq)));const[p,v]=l.Ue(!1);this.ref=(0,i.zG)(l.vP(p,this.rawRef),l.UI((e=>{let[t,n]=e;return(0,i.zG)(n,(0,a.DT)((()=>t)))}))),this.setReady=()=>{e.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"identity_ready",time_origin:"sdk_init"}),v(!0)},this.thirdParty=this.prepareThirdPartyIdentities()}get identities(){return this.identityMapRef.current}prepareThirdPartyIdentities(){this.logger.debug("[Identities]","loading 3rd party identities");const e=this.metrics.startTimer("sdk_get_third_party_identities_task_duration_seconds",{}),t=this.trace.startSpan("load_tpd_ids"),n=[{load:e=>{return t=e.config,n=e.network,r=e.api,i=e.userId,o=e.logger,(0,a.G)(new u(t,n,r,i,o));var t,n,r,i,o}},{load:e=>{return t=e.userId,n=e.network,r=e.api,i=e.logger,(0,a.G)(new c(t,n,r,i));var t,n,r,i}},{load:e=>(e.cookies,e.messages,a.YP)},{load:e=>(e.cookies,a.YP)},{load:e=>(e.metrics,e.permutiveData,e.permutive,e.messages,a.YP)}],o=(0,r.oA)(n.map((e=>e.load(this.identityProviderEnv)))).map((e=>this.shouldAskForNewIdentity(e)?this.retrieveIdentity(e):Promise.resolve((0,i.bc)(e,this.getCachedTPDIdentity(e.tag)))));return Promise.all(o).then((e=>e.map((e=>{let[t,n]=e;return this.providers[t.tag]=t,this.mapTPDIdentityIfPresent(t.tag,n,t.ttlInSeconds)})))).then((e=>this.setIdentities(e))).then((0,s.bw)((()=>{this.metrics.stopTimer("sdk_get_third_party_identities_task_duration_seconds",e),t.finish()})))}getPrioritizedIdentities(e){const t={default:0,appnexus:1,pxid:1},n=Object.entries(e).map((e=>{let[t,{id:n,expiry:r,priority:i}]=e;return{tag:t,...n?{id:n}:{},...r?{expiry:r}:{},...void 0!==i?{priority:i}:{}}})),i=n.filter((e=>((e,t)=>!!e.id&&!(0,r.t9)(o.Eq)(e.tag,t))(e,Object.values(this.providers).map((e=>e.tag))))),s=n.filter((e=>((e,t)=>!!e.id&&!!(0,r.t9)(o.Eq)(e.tag,t))(e,Object.values(this.providers).map((e=>e.tag))))),c=(0,r.DZ)((e=>(0,a.ij)(e.priority)))(i),u=c.length>0?Math.max(...c):0,l=i.map((e=>void 0!==e.priority?{...e,priority:e.priority}:{...e,priority:u+1})),d=s.map((e=>void 0===t[e.tag]?{tag:e.tag,id:e.id,priority:u+b}:{tag:e.tag,id:e.id,priority:u+_}));return l.concat(d)}getIdentitiesMap(){return this.getFilteredIdentities(((e,t)=>!!t.value))}parseCustomerDefinedIdentities(e){const t=`Identify must be passed a non-empty string or list of { tag, id, priority? } tuples, value passed was '${JSON.stringify(e)}'`,n=e=>"string"==typeof e.id&&"string"==typeof e.tag,a=e=>"email_sha256"!==e.tag||p.emailSHA256Regex.test(e.id);return"string"==typeof e?(s=e).length>0?{left:[],right:[{id:s,tag:"default"}]}:{left:[t],right:[]}:Array.isArray(e)?(o=e,(0,i.zG)(o,r.tV((0,i.ls)(g.DT(n,(()=>t)),g.Y$(a,(()=>"Identify called with unsupported format of email_sha256 ID. The support format is hex-encoded 64 character long lowercase string.")))))):{left:[t],right:[]};var o,s}extractIdentifyFromQueue(e){let{global:t}=e;const n=()=>t.q.findIndex((e=>"identify"===e.functionName)),r=(e,i)=>{if(e<0)return i;const a=t.q.splice(e,1)[0],o=this.parseCustomerDefinedIdentities(a.arguments[0]);return r(n(),{left:i.left.concat(o.left),right:i.right.concat(o.right)})},{left:i,right:a}=r(n(),{left:[],right:[]});return i.forEach((e=>this.logger.warn("Invalid identity provided during init",e))),a}setIdentities(e){const t=e.reduce(((e,t)=>{let{tag:n,id:r,expiry:i,priority:a}=t;return void 0===this.identities[n]&&this.logger.debug(`identities[${n}]: added`),e[n]={...r?{value:r}:{},...i?{expiry:i}:{},...void 0!==a?{priority:a}:{}},e}),{}),n=this.rawRef.current;this.setIdentityMap({...this.identities,...t});const r=this.rawRef.current;return{identifyRequestRequired:()=>!d.xb(r)&&!d.Eh(o.Eq).equals(n,r)}}async reset(){this.setIdentityMap({}),await Promise.all(Object.values(this.providers).map((e=>e.reset())))}getFilteredIdentities(e){return(0,s.m8)(...Object.entries(this.identities).filter((t=>{let[n,r]=t;return e(n,r)})).map((e=>{let[t,{value:n,expiry:r,priority:a}]=e;return(0,i.bc)(t,{id:n,...r?{expiry:r}:{},...void 0!==a?{priority:a}:{}})})))}shouldAskForNewIdentity(e){var t;const n=(0,a.ij)(null===(t=this.identities)||void 0===t?void 0:t[e.tag]);return(0,a.g_)((()=>!0),this.isIdentityExpired)(n)}getCachedTPDIdentity(e){return this.identities[e]?(0,a.ij)(this.identities[e].value):a.YP}mapTPDIdentityIfPresent(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:86400;const r=()=>Date.now()+Math.floor(1e3*n);return(0,a.g_)((()=>({tag:e,expiry:r()})),(t=>({tag:e,id:t,expiry:r()})))(t)}retrieveIdentity(e){return e.getId().then((t=>"skipped"===t.type?(0,i.bc)(e,a.YP):(0,i.zG)(t.result,(t=>this.metrics.track({name:(0,a.pC)(t)?"sdk_third_party_identity_present_count":"sdk_third_party_identity_missing_count",value:1,labels:{identity_tag:e.tag}})),(n=>(0,i.bc)(e,t.result)))))}isIdentityExpired(e){return"number"==typeof e.expiry&&Date.now()>=e.expiry}getCachedIdentitiesAndMigrateIfRequired(){return(e=>(0,s.m8)(...Object.entries(e).filter((e=>{let[t,n]=e;return!this.isIdentityExpired(n)&&!h.has(t)}))))(this.permutiveData.getData("identities")||{})}}const h=new Set(["public","email","email_md5","email_sha256","ip_address"]),v=(e,t,n,i,a)=>{const s=(e,t)=>{const n=["(null)"];return n.indexOf(e)>-1||!!w[e]||(0,r.jV)(o.Eq)(t,n).length>0},c=e=>"721d6d85-35f0-4e35-bb38-13eb0d465158"===e,u={"be668577-07f5-444d-98e0-222b990951b1":s,"e43c8a90-d17b-4790-bfda-81b069b3b8c2":(e,t,n)=>["thestudentroom.co.uk"].some((e=>n.indexOf(e)>-1))&&(0,r.jV)(o.Eq)(t,["tsr-"]).length>0,"5d79bce7-5d2b-427e-a6c4-b89b6c7bf048":s,"366ab8da-5efa-4355-ab00-84db3b68ded2":e=>"96539955-4d7e-40df-882b-7e2fbacedb1c"===e||"345600e7-fb5f-48b1-9aa6-cde5396419b0"===e,"f3a06674-ebb9-4b9d-ba8f-0052018c0687":c,"38dadd0d-257a-4641-b332-b8b0fd20a6cb":c,"10453011-272d-49cd-9043-1964fdb36fd8":e=>"936ba6ac-9a8b-454d-ba98-facebd7553fe"===e},l={"fe68d1f7-c9f4-45b3-8905-7cda73d3fd74":e=>!!y[e]},d=u[e]||l[t];return!!d&&d(a,n,i)},b=2,_=3,y={},w={}},7658:(e,t,n)=>{n.d(t,{z:()=>r});class r{ingestIfEligible(e){return Promise.resolve()}}},922:(e,t,n)=>{n.d(t,{CL:()=>s,EW:()=>c,PH:()=>o,eV:()=>i,jH:()=>u,t2:()=>a});var r=n(9853);const i=(0,r.MU)("track_form_submission",!0),a=((0,r.MU)("track_pageview_complete",!0),(0,r.MU)("track_pageview_engagement",!0)),o=((0,r.$S)("sync_segments_cookie",!1),(0,r.$S)("track_slot_clicked",!0)),s=(0,r.$S)("track_slot_rendered",!0),c=(0,r.$S)("track_slot_viewable",!1),u=(0,r.$S)("track_targeting_keys",!1)},8975:(e,t,n)=>{n.d(t,{v:()=>o});class r{logger;permutive;id;segmentCode;triggerType;config;workspaceLevelConfig;prefix="[Activation]";constructor(e,t,n,r,i,a,o){this.logger=e,this.permutive=t,this.id=n,this.segmentCode=r,this.triggerType=i,this.config=a,this.workspaceLevelConfig=o}getSegmentCode(){return this.segmentCode}getTriggerType(){return this.triggerType}getConfig(){return this.config}getWorkspaceLevelConfig(){return this.workspaceLevelConfig}trackImpression(e){return this.trackActivation("impression",e)}trackConversion(e){return this.trackActivation("conversion",e)}trackActivation(e,t){const n={reaction_id:this.id,type:e};this.permutive.track("Reaction",n,t),this.logger.log(this.prefix,n.type,n)}}var i=n(9853);const a={dfp:{dfp:[103274,66696,65998,65975,65984,66011,136207,73164,65971,60219,66027,85242,72074,66045,86063,71937,106291,105732,66705,66008,114267,71953,66014,71958,124688,65995,71902,72004,71928,71986,72015,150328,72032,155797,66023,71975,71938,72033,65983,65977,99133,141565,66037,72043,71964,65997,72056,124692,66020,66051,141571,72058,71951,72071,72009,141569,66021,72036,107478,66016,86062,164684,72037,65992,66044,77498,66031,65974,71974,105126,65987,153456,65989,66157,66049,136561,122876,65966,71927,136562,141557,115581,125228,72681,72007,72020,65973,65981,141563,72069,71976,71931,72070,72011,71960,72013,97266,71961,71948,66018,71950,66015,72023,71971,71922,157581,71935,73166,122990,71918,154088,113218,71926,66002,72057,71952,66034,98385,103671,136570,71970,167759,72042,136563,72040,71949,72062,71965,142968,65972,71985,88695,71923,72044,71903,71917,65993,130380,136567,66007,72026,72031,167757,123342,71977,173531,141564,72038,65978,65969,72054,71932,65455,72059,122884,171932,66036,71957,66050,66010,66042,141558,71994,71901,66046,71980,173535,65970,66029,72028,71900,65976,123341,141562,72010,72016,65994,109284,105807,72049,65999,72002,71933,66156,65965,72035,65986,71999,66004,66697,71988,141560,89083,65990,66706,66047,71972,89082,66e3,120929,65979,110675,71921,148259,72073,66005,71990,85663,167850,72063,154087,71997,72024,98617,66013,123501,72030,71978,66019,66001,71979,136568,72027,71920,71954,71939,72025,71962,72039,65991,141559,131415,141561,72064,66041,72068,76469,71925,104041,158530,157576,66024,61825,72006,71995,99323,71936,97849,72048,89081,71983,137550,71987,66030,72014,66040,72008,66022,104860,71916,146605,173536,71991,72047,66012,97851,71993,72017,66048,136565,71963,72003,66704,157579,72034,101097,71984,72012,136566,71956,73165,66017,122441,72060,64821,72041,114499,66009,65980,72053,93629,123923,71929,71919,71924,148169,66043,165986,66025,72061,72066,71969,79652,71959,114299,73965,72e3,72046,71982,136199,88179,61780,71996,136200,72045,115678,72001,86061,89077,136205,65457,65985,146608,71915,71934,71981,67013,65967,65982,65456,66033,66026,71930,71989,72021,72005,72018,124682,65988,72022,97267,136202,89079,72711,71968,141566,72019,66028,122989,72055,85747,89086,134452,174914,65996,66039,71992,136564,173765,104864,72065,72075,65968,66032,71966,146607,141567,72072,71955,83156,72067,98608,71998,71967,66003,66035,153453,72029,71904,71973,66038,66006,71899,176358,140871,140869,140872,177173,177205,177267,177282,177283,177285,177286,177713,177714,176931,176930,178570,178717,181492,181493,181494,181495,181496,181497,181498,181499,183954,184178,185676,185679,185692,185693,185802,185804,187181,188447,188448,188449,188450,188451,188452,188586,190329,190330,190405,190406,190480,190481,190482,190483,190484,190485,190486,190488,190634,191837,191830,191971,192129,192131,192263,192271,191577,194689,194686,194838,194839,194840,194842,194971,194972,195076,195741,195742,199464,199465,199467,199469,199470,199471,199589,199590],dfp_legacy:{}},eyeota_pixel:[],dbm:{omitted:21},appnexus:{66038:27146842},appnexus_adserver:[65988,65992,71920,65966,65970,65979,65965,65990,71962,65973,67013],nativo:[],rubicon_ssp:[],smart:[],freewheel:[]};class o{logger;permutive;clientContext;constructor(e,t,n){this.logger=e,this.permutive=t,this.clientContext=n}getSpecializedActivations(e){return a[e]}getActivations(e){return(0,i.Hn)(e)("activationConfigs",[]).filter((e=>this.areContextCriteriaSatisfied(e))).map((e=>new r(this.logger,this.permutive,e.id,e.sc,e.tt,e.c,e.wc)))}areContextCriteriaSatisfied(e){const t=e.cc,n=e=>{const t=this.clientContext.getContext()[e.key];switch(e.comparison){case"EQUALS":return t===e.value;case"NOT_EQUALS":return t!==e.value;case"CONTAINS":return"string"==typeof t&&t.indexOf(e.value)>=0;case"NOT_CONTAINS":return"string"==typeof t&&t.indexOf(e.value)<0}};return!t||("AND"===(r=t).operator?r.criteria.every(n):r.criteria.some(n));var r}}},9853:(e,t,n)=>{n.d(t,{$S:()=>o,Hn:()=>i,MU:()=>a});const r={standard_cohorts:{auto_init:!0,activationConfigs:[]},piano:{auto_init:!1,activationConfigs:[]},rubicon_ssp:{auto_init:!0,publisher_id:"15366",activationConfigs:[]},classification_models:{auto_init:!0,activationConfigs:[]},dfp:{auto_init:!0,track_slot_rendered:!1,track_slot_viewable:!0,track_slot_clicked:!0,activationConfigs:[]},ssp:{auto_init:!0,ssps:["appnexus"],cohort_mapping:{1e7:"bgyz",10000001:"bhgp",10000002:"bhhc",10000003:"bhhg",10000004:"bhhk",10000005:"bhhp",10000006:"bhhv",10000007:"bhhy",10000008:"bhie",10000010:"bhis",10000011:"bhiz",10000012:"bhji",10000013:"bhjq",10000014:"bhka",10000015:"bhkl",10000016:"bhkr",10000017:"bhky",10000018:"bhlg",10000019:"bhli",10000020:"bhlo",10000021:"bhlp",10000022:"bhnd",10000023:"bhnl",10000024:"bhnp",10000025:"bhnw",10000026:"bhoj",10000035:"bgzb",10000036:"bhgq",10000037:"bhgs",10000038:"bhgw",10000039:"bhgy",10000040:"bhgz",10000041:"bhhe",10000042:"bhhh",10000043:"bhhw",10000044:"bhhx",10000045:"bhhz",10000046:"bhia",10000047:"bhif",10000048:"bhig",10000049:"bhii",10000050:"bhij",10000051:"bhik",10000052:"bhim",10000053:"bhip",10000054:"bhit",10000055:"bhiu",10000056:"bhiv",10000057:"bhiy",10000058:"bhjm",10000059:"bhjr",10000060:"bhjs",10000061:"bhjw",10000062:"bhjx",10000063:"bhkm",10000064:"bhir",10000065:"bhko",10000066:"bhkp",10000067:"bhkq",10000068:"bhkz",10000069:"bhla",10000070:"bhlb",10000071:"bhle",10000072:"bhlf",10000073:"bhlq",10000074:"bhlt",10000075:"bhlu",10000076:"bhlw",10000077:"bhlx",10000078:"bhly",10000079:"bhmb",10000080:"bhmi",10000081:"bhmj",10000082:"bhml",10000083:"bhmp",10000084:"bhmr",10000085:"bhmw",10000086:"bhmz",10000087:"bhne",10000088:"bhnf",10000089:"bhni",10000090:"bhnn",10000324:"bhhj",10000325:"bhhi",10000327:"bhku",10000328:"bhkt",10000329:"bhkw",10000330:"bhkv",10000687:"bgzc",10000688:"bgza",10000689:"bhha",10000690:"bhgt",10000691:"bhgx",10000692:"bhgv",10000693:"bhgr",10000694:"bhgu",10000695:"bhhb",10000696:"bhhd",10000697:"bhhf",10000698:"bhhl",10000699:"bhho",10000700:"bhhm",10000701:"bhhn",10000702:"bhhq",10000703:"bhht",10000704:"bhhu",10000705:"bhhs",10000706:"bhhr",10000707:"bhib",10000708:"bhid",10000709:"bhic",10000710:"bhio",10000711:"bhin",10000712:"bhil",10000713:"bhiq",10000714:"bhih",10000715:"bhiw",10000716:"bhix",10000717:"bhja",10000718:"bhjc",10000719:"bhjd",10000720:"bhje",10000721:"bhjf",10000722:"bhjb",10000723:"bhjg",10000724:"bhjh",10000725:"bhjo",10000726:"bhjk",10000727:"bhjn",10000728:"bhjj",10000729:"bhjl",10000730:"bhjy",10000731:"bhju",10000732:"bhjv",10000733:"bhjz",10000734:"bhjt",10000735:"bhkj",10000736:"bhkk",10000737:"bhki",10000738:"bhkd",10000739:"bhkc",10000740:"bhkf",10000741:"bhkh",10000742:"bhkb",10000743:"bhkg",10000744:"bhke",10000745:"bhjp",10000746:"bhkn",10000747:"bhkx",10000748:"bhks",10000749:"bhld",10000750:"bhlc",10000751:"bhlh",10000752:"bhlk",10000753:"bhlj",10000754:"bhll",10000755:"bhlm",10000756:"bhlv",10000757:"bhna",10000758:"bhmv",10000759:"bhmt",10000760:"bhmy",10000761:"bhmc",10000762:"bhmo",10000763:"bhls",10000764:"bhmq",10000765:"bhme",10000766:"bhmh",10000767:"bhlz",10000768:"bhlr",10000769:"bhnb",10000770:"bhmk",10000771:"bhmu",10000772:"bhmx",10000773:"bhmg",10000774:"bhmd",10000775:"bhmf",10000776:"bhnc",10000777:"bhmn",10000778:"bhmm",10000779:"bhma",10000780:"bhms",10000781:"bhng",10000782:"bhnj",10000783:"bhnh",10000784:"bhnk",10000785:"bhno",10000786:"bhnm",10000787:"bhnu",10000788:"bhnv",10000789:"bhns",10000790:"bhnt",10000791:"bhnq",10000792:"bhnr",10000793:"bhob",10000794:"bhny",10000795:"bhod",10000796:"bhoh",10000797:"bhog",10000798:"bhnz",10000799:"bhoa",10000800:"bhoe",10000801:"bhnx",10000802:"bhoc",10000803:"bhof"},all_cohort_mapping:{1e7:["bgyz"],10000001:["bhgp"],10000002:["bhhc"],10000003:["bhhg"],10000004:["bhhk"],10000005:["bhhp"],10000006:["bhhv"],10000007:["bhhy"],10000008:["bhie"],10000010:["bhis"],10000011:["bhiz"],10000012:["bhji"],10000013:["bhjq"],10000014:["bhka"],10000015:["bhkl"],10000016:["bhkr"],10000017:["bhky"],10000018:["bhlg"],10000019:["bhli"],10000020:["bhlo"],10000021:["bhlp"],10000022:["bhnd"],10000023:["bhnl"],10000024:["bhnp"],10000025:["bhnw"],10000026:["bhoj"],10000035:["bgzb"],10000036:["bhgq"],10000037:["bhgs"],10000038:["bhgw"],10000039:["bhgy"],10000040:["bhgz"],10000041:["bhhe"],10000042:["bhhh"],10000043:["bhhw"],10000044:["bhhx"],10000045:["bhhz"],10000046:["bhia"],10000047:["bhif"],10000048:["bhig"],10000049:["bhii"],10000050:["bhij"],10000051:["bhik"],10000052:["bhim"],10000053:["bhip"],10000054:["bhit"],10000055:["bhiu"],10000056:["bhiv"],10000057:["bhiy"],10000058:["bhjm"],10000059:["bhjr"],10000060:["bhjs"],10000061:["bhjw"],10000062:["bhjx"],10000063:["bhkm"],10000064:["bhir"],10000065:["bhko"],10000066:["bhkp"],10000067:["bhkq"],10000068:["bhkz"],10000069:["bhla"],10000070:["bhlb"],10000071:["bhle"],10000072:["bhlf"],10000073:["bhlq"],10000074:["bhlt"],10000075:["bhlu"],10000076:["bhlw"],10000077:["bhlx"],10000078:["bhly"],10000079:["bhmb"],10000080:["bhmi"],10000081:["bhmj"],10000082:["bhml"],10000083:["bhmp"],10000084:["bhmr"],10000085:["bhmw"],10000086:["bhmz"],10000087:["bhne"],10000088:["bhnf"],10000089:["bhni"],10000090:["bhnn"],10000324:["bhhj"],10000325:["bhhi"],10000327:["bhku"],10000328:["bhkt"],10000329:["bhkw"],10000330:["bhkv"],10000687:["bgzc"],10000688:["bgza"],10000689:["bhha"],10000690:["bhgt"],10000691:["bhgx"],10000692:["bhgv"],10000693:["bhgr"],10000694:["bhgu"],10000695:["bhhb"],10000696:["bhhd"],10000697:["bhhf"],10000698:["bhhl"],10000699:["bhho"],10000700:["bhhm"],10000701:["bhhn"],10000702:["bhhq"],10000703:["bhht"],10000704:["bhhu"],10000705:["bhhs"],10000706:["bhhr"],10000707:["bhib"],10000708:["bhid"],10000709:["bhic"],10000710:["bhio"],10000711:["bhin"],10000712:["bhil"],10000713:["bhiq"],10000714:["bhih"],10000715:["bhiw"],10000716:["bhix"],10000717:["bhja"],10000718:["bhjc"],10000719:["bhjd"],10000720:["bhje"],10000721:["bhjf"],10000722:["bhjb"],10000723:["bhjg"],10000724:["bhjh"],10000725:["bhjo"],10000726:["bhjk"],10000727:["bhjn"],10000728:["bhjj"],10000729:["bhjl"],10000730:["bhjy"],10000731:["bhju"],10000732:["bhjv"],10000733:["bhjz"],10000734:["bhjt"],10000735:["bhkj"],10000736:["bhkk"],10000737:["bhki"],10000738:["bhkd"],10000739:["bhkc"],10000740:["bhkf"],10000741:["bhkh"],10000742:["bhkb"],10000743:["bhkg"],10000744:["bhke"],10000745:["bhjp"],10000746:["bhkn"],10000747:["bhkx"],10000748:["bhks"],10000749:["bhld"],10000750:["bhlc"],10000751:["bhlh"],10000752:["bhlk"],10000753:["bhlj"],10000754:["bhll"],10000755:["bhlm"],10000756:["bhlv"],10000757:["bhna"],10000758:["bhmv"],10000759:["bhmt"],10000760:["bhmy"],10000761:["bhmc"],10000762:["bhmo"],10000763:["bhls"],10000764:["bhmq"],10000765:["bhme"],10000766:["bhmh"],10000767:["bhlz"],10000768:["bhlr"],10000769:["bhnb"],10000770:["bhmk"],10000771:["bhmu"],10000772:["bhmx"],10000773:["bhmg"],10000774:["bhmd"],10000775:["bhmf"],10000776:["bhnc"],10000777:["bhmn"],10000778:["bhmm"],10000779:["bhma"],10000780:["bhms"],10000781:["bhng"],10000782:["bhnj"],10000783:["bhnh"],10000784:["bhnk"],10000785:["bhno"],10000786:["bhnm"],10000787:["bhnu"],10000788:["bhnv"],10000789:["bhns"],10000790:["bhnt"],10000791:["bhnq"],10000792:["bhnr"],10000793:["bhob"],10000794:["bhny"],10000795:["bhod"],10000796:["bhoh"],10000797:["bhog"],10000798:["bhnz"],10000799:["bhoa"],10000800:["bhoe"],10000801:["bhnx"],10000802:["bhoc"],10000803:["bhof"]},affinity_enabled:!1,activationConfigs:[]},facebook_pixel_v2:{auto_init:!0,activationConfigs:[{id:"7c4db52e-2802-4865-8dcb-5c87331414c7",tt:"EveryTime",sc:94128,c:{},wc:{}},{id:"ba2cf7b0-6100-47f8-b41f-39659cc177d4",tt:"EveryTime",sc:97851,c:{},wc:{}},{id:"042030b7-9bb6-44ff-9ab0-1064b43cee89",tt:"EveryTime",sc:86063,c:{},wc:{}},{id:"091895ba-12d1-4a3c-8bf5-60a1da6e0d15",tt:"EveryTime",sc:94127,c:{},wc:{}},{id:"0fe79cce-205b-49d0-9a92-cce41bf1fee5",tt:"EveryTime",sc:98617,c:{},wc:{}},{id:"0a051977-4abe-440d-a71d-7803ebe52e02",tt:"EveryTime",sc:71967,c:{},wc:{}},{id:"22173417-ef70-40e5-9a75-c62826384e08",tt:"EveryTime",sc:89086,c:{},wc:{}},{id:"28e38578-4e2b-40be-bb2e-1cb820b219dd",tt:"EveryTime",sc:101097,c:{},wc:{}},{id:"2163711a-952d-4557-8d7b-c4d1a82e936e",tt:"EveryTime",sc:72038,c:{},wc:{}},{id:"21c891cd-a08a-4ee7-95a4-44ffc94a7e9d",tt:"EveryTime",sc:65455,c:{},wc:{}},{id:"2df1afd3-5022-4584-96fc-0b0831ecd5d4",tt:"EveryTime",sc:137550,c:{},wc:{}},{id:"511d8380-596f-48c2-b1f8-d6f780c5f31d",tt:"EveryTime",sc:89079,c:{},wc:{}},{id:"333cdbcc-61a0-47f5-a0db-d32953c6e7c3",tt:"EveryTime",sc:65965,c:{},wc:{}},{id:"5fee62fe-b082-4c71-b82d-d6e45eea1088",tt:"EveryTime",sc:99323,c:{},wc:{}},{id:"66437013-6886-45a1-9c1e-964501d8298a",tt:"EveryTime",sc:94129,c:{},wc:{}},{id:"67261b29-d79a-4a3f-94c0-e98d70e63f35",tt:"EveryTime",sc:86061,c:{},wc:{}},{id:"683985aa-73e7-4a76-9ed9-8690f90486b9",tt:"EveryTime",sc:72060,c:{},wc:{}},{id:"5f811ca3-63c2-459f-aa74-1a60722ae734",tt:"EveryTime",sc:85242,c:{},wc:{}},{id:"6b4c4222-ee70-472d-8ada-226f72b1912a",tt:"EveryTime",sc:71973,c:{},wc:{}},{id:"741acd11-ef5a-4afe-b0b8-5dbaed873a47",tt:"EveryTime",sc:94125,c:{},wc:{}},{id:"786b7481-0edd-4d8e-9457-6626a84da7f6",tt:"EveryTime",sc:97267,c:{},wc:{}},{id:"6b1fed6e-6981-419e-9559-59974b0e6045",tt:"EveryTime",sc:97266,c:{},wc:{}},{id:"7d7f59c6-dc3f-43a9-88f9-cce2a592b7bf",tt:"EveryTime",sc:89083,c:{},wc:{}},{id:"8c6a38c0-e59f-44fe-a600-5592cbcd1db2",tt:"EveryTime",sc:89077,c:{},wc:{}},{id:"945e9276-2350-45d3-866e-3f97beed3cb6",tt:"EveryTime",sc:103274,c:{},wc:{}},{id:"9ee2603f-2519-426d-b276-83b2635dad56",tt:"EveryTime",sc:89081,c:{},wc:{}},{id:"a32c60db-1e30-4590-aef1-74ac49b79abf",tt:"EveryTime",sc:72031,c:{},wc:{}},{id:"a3a3d74d-fd83-4952-bcd5-f20759437854",tt:"EveryTime",sc:94126,c:{},wc:{}},{id:"b8199195-22a4-48c2-9ecc-a1aebb387e2e",tt:"EveryTime",sc:97849,c:{},wc:{}},{id:"c6e5e965-4522-4e46-b780-68f3f70f92b5",tt:"EveryTime",sc:89082,c:{},wc:{}},{id:"cf7dc93c-ac86-4d33-8e0d-ed0f3d63d6e8",tt:"EveryTime",sc:64821,c:{},wc:{}},{id:"da17eccb-c31c-4d49-9cd7-e7978762b6a3",tt:"EveryTime",sc:65456,c:{},wc:{}},{id:"e09bad74-8074-4dc5-aea9-537765b74bab",tt:"EveryTime",sc:65457,c:{},wc:{}},{id:"de5d4f9f-b3b5-46d7-ad76-0884722c8684",tt:"EveryTime",sc:65967,c:{},wc:{}},{id:"e6d14ea7-0988-46e5-aba2-7ab747e7fdce",tt:"EveryTime",sc:65993,c:{},wc:{}},{id:"e115c140-3d2a-462f-908e-aea953e37142",tt:"EveryTime",sc:142968,c:{},wc:{}},{id:"f216f9d4-ad01-4bcf-b51e-6023b90c01f9",tt:"EveryTime",sc:86062,c:{},wc:{}},{id:"f479b8de-0adc-4e6c-996f-a156fef8b1db",tt:"EveryTime",sc:72039,c:{},wc:{}},{id:"4d764e20-9c2a-4f12-a15b-f0ab8f2fc719",tt:"EveryTime",sc:188586,c:{},wc:{}},{id:"1044f455-49f6-4863-a455-018265343ec8",tt:"EveryTime",sc:177267,c:{},wc:{}},{id:"1e30750f-f864-4c69-abdc-0a597996f979",tt:"EveryTime",sc:177282,c:{},wc:{}},{id:"3aaf0d7e-8f6a-46d2-b64b-058c558ef567",tt:"EveryTime",sc:188175,c:{},wc:{}}]},gam_log:{auto_init:!0,activationConfigs:[]},tracking_pixel:{auto_init:!0,activationConfigs:[]},dbm:{auto_init:!0,entity_id:5949432,product_type:"INVITE_PARTNER",activationConfigs:[]},twitter_pixel:{auto_init:!0,activationConfigs:[]},web:{auto_init:!1,engagement_edge_only:!0,segment_transition_edge_only:!0,activationConfigs:[]},appnexus:{auto_init:!0,member_id:3967,activationConfigs:[]},appnexus_adserver:{auto_init:!0,activationConfigs:[]},publishers:{auto_init:!1,add_alchemy_taxonomy:!0,add_alchemy_entities:!1,activationConfigs:[]}},i=e=>{const t=r[e];return(e,n)=>(null==t?void 0:t[e])??n},a=i("web"),o=i("dfp");i("facebook_pixel_v2")},2836:(e,t,n)=>{n.d(t,{z:()=>a,k:()=>o});var r=n(3030);class i{context;constructor(e){this.context=e}getContext(){return this.context}updateContext(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((e=>{let[t,n]=e;this.context[t]=n}))}}class a extends i{constructor(e){super(e)}getClient(){return Promise.resolve(o())}}const o=()=>{const e="PermutiveWebSDK/v20.9.2";return{type:"web",user_agent:navigator.userAgent?`${navigator.userAgent} ${e}`:e,url:(0,r.bk)(window.location.href),domain:window.location.hostname||"",title:document.title,referrer:(0,r.bk)(document.referrer)}}},1568:(e,t,n)=>{n.d(t,{J:()=>c});var r=n(3735),i=n(2884),a=n(7554);const o=e=>t=>class extends t{key=e;put(e){return this.db.then((t=>t.put(e,this.key))).then(r.Q1)}getIfPresent(){return this.db.then((e=>e.get(this.key))).then(i.ij)}reset(){return this.db.then((e=>e.delete(this.key)))}},s=e=>(0,r.zG)(class{db;constructor(e){this.db=Promise.resolve((0,a.E)(e.namespace,e.logger,e.consent))}},o(e));class c extends(s("permutive-unprocessed-pba")){constructor(e){super(e)}}},5700:(e,t,n)=>{n.d(t,{LP:()=>a,dG:()=>r,eP:()=>i});const r=4096,i=`Cookie exceeds maximum supported size of ${r} bytes for most browsers.`,a="Cookie is missing required parameters."},5619:(e,t,n)=>{n.d(t,{Eq:()=>d,X:()=>f,b:()=>l});var r=n(2851),i=n(2116),a=n(4268),o=n(2751),s=n(4011),c=n(3735),u=n(2884);const l=()=>({continent:void 0,environment:"",events_count:0,os:"",sample_rate:0,sdk_version:"",segments_count:0,session_count:0,session_init_count:0,session_view_count:0,user_agent:""}),d=a.n_({continent:{equals:(e,t)=>e===t},environment:o.Eq,events_count:s.Eq,os:o.Eq,sample_rate:s.Eq,sdk_version:o.Eq,segments_count:s.Eq,session_count:s.Eq,session_init_count:s.Eq,session_view_count:s.Eq,user_agent:o.Eq}),f=e=>{const t=m(e.userId),n=(0,c.zG)(r.vP(e.userId,e.sessionId),r.UI((e=>{let[t,n]=e;return`${t},${n}`})),m),a=String(Math.random()),o=(0,c.zG)(e.sdkVariant,u.UI((e=>`-${e}`)),u.fS((()=>""))),s={environment:"web",events_count:0,os:g(window.navigator.userAgent||""),sample_rate:e.sampleRate,sdk_version:"v20.9.2"+o,segments_count:0,user_agent:window.navigator.userAgent||""};return(0,c.zG)(i.vP({session_count:t(e.sessionId),session_init_count:n(r.a9(a)),session_view_count:n(e.viewId)}),i.UI((0,c.ls)((t=>r.vP({...t,continent:(0,c.zG)(e.continent,r.UI(u.FS))})),r.UI((e=>({...s,...e}))))))},g=e=>{const t=e.toLowerCase();return t.includes("windows")?"windows":t.includes("iphone")||t.includes("ipad")?"ios":t.includes("android")?"android":t.includes("macintosh")?"macos":t.includes("linux")?"linux":"unknown"},m=e=>t=>i.dQ((n=>{let{previousState:i}=n;const u=(0,c.zG)(r.vP(e,t),r.Rp(function(e){if(null!==e&&"object"==typeof e&&"scope"in e&&"lastValue"in e&&"count"in e)return e;return{scope:"",lastValue:"",count:1}}(i),((e,t)=>{let[n,r]=t;return{scope:n,lastValue:r,count:n!==e.scope?1:r!==e.lastValue?e.count+1:e.count}})),r.D8(a.n_({scope:o.Eq,lastValue:o.Eq,count:s.Eq})));return{state:u,value:(0,c.zG)(u,r.UI((e=>e.count)))}}))},6478:(e,t,n)=>{n.d(t,{p:()=>f});var r=n(2688),i=n(3735),a=n(2652),o=n(5619),s=n(2851),c=n(3328),u=n(3582),l=n(7407),d=n(3992);const f=e=>{let t=e.context.current;(0,i.zG)(e.context,s.D8(o.Eq),s.Rp((0,i.bc)(o.b(),o.b()),((e,t)=>{let[,n]=e;return(0,i.bc)(n,t)})),(e=>e.onChange((e=>{let[n,r]=e;o.Eq.equals({...n,continent:void 0},{...r,continent:void 0})||g({beacon:!1}),t=r}))));const n="[Metrics Reporter]";let f=!0;const g=async a=>{let{beacon:o}=a;const s=t,d=(0,i.zG)(u.of(e.metrics.consume()),u.Y$((()=>f),(()=>{})),u.tS(c.EQ((()=>u.of(void 0)),(t=>u.Y3((()=>(async(t,n)=>{if(!t)return e.api.metrics(n);if(!e.api.metricsBeacon(n))throw new Error("Failed to send beacon.")})(o,{context:s,items:t})),(i=>{f=!1,function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e.logger.error(n,...r)}(`Failed to publish metrics ${(0,r.w)(i).message}`,t)}))))),l.UI(i.Q1));return d()};(0,d.HJ)((()=>g({beacon:!1})),5e3),(0,a.Bf)((()=>g({beacon:!0})),{capture:!1})}},7575:(e,t,n)=>{n.d(t,{u:()=>r});class r{trace;metrics;messages;_isRealtime=!1;_isReady=!1;constructor(e,t,n){this.trace=e,this.metrics=t,this.messages=n}isRealtime(){return this._isRealtime}isReady(){return this._isReady}setAsRealtime(e){const t=performance.now();this._isRealtime=!0,this.trace.measureSinceInit("sdk_realtime").finish(),this.messages.emit("permutive:realtime"),this.metrics.trackTimeSinceInit("sdk_realtime_targeting_set_task_duration_seconds",{},t),this.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"sdk_realtime",time_origin:"sdk_init"},t),this.metrics.track({name:"sdk_user_segments_count",value:e,labels:{}})}setAsReady(){const e=performance.now();this._isReady=!0,this.trace.measureSinceInit("sdk_ready").finish(),this.messages.emit("permutive:ready"),this.metrics.trackTimeSinceInit("sdk_initialisation_task_duration_seconds",{},e),this.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"sdk_ready",time_origin:"sdk_init"},e),window.performance&&window.performance.memory&&(this.metrics.track({name:"sdk_heap_memory_bytes_used",value:window.performance.memory.usedJSHeapSize,labels:{}}),this.metrics.track({name:"sdk_heap_memory_limit_fraction_used",value:window.performance.memory.usedJSHeapSize/window.performance.memory.jsHeapSizeLimit,labels:{}}))}}},3898:(e,t,n)=>{n.d(t,{a:()=>_});var r=n(3735),i=n(4923),a=n(2751),o=(n(5605),i.dp,i.xb,function(e){return function(t){return Object.keys(t).sort(e.compare)}}),s=o(a.Df);i.dx,i.e$;i.Bu,i.P5,i.Su,i.UI;i.ri;function c(e){return i.vP(e)}i._r;i.jt;i.yW,i.G,i.t9;var u=i.HA,l=(i.nn,i.kp),d=i.CC,f=i.RF,g=(i.I8,i.mS,i.RJ,i._Y,i.V_),m=i.EW,p=i.nu,h=(i.SW,i.zV,i.Ub,i.vA,i.qS),v=(i.mK,function(e){return function(t){var n=o(e);return function(e,r){var i=n(e);if(0===i.length)return t.of({});for(var a=t.of({}),o=function(n){a=t.ap(t.map(a,(function(e){return function(t){return e[n]=t,e}})),r(n,e[n]))},s=0,c=i;s<c.length;s++){o(c[s])}return a}}});i.hX,i.DZ,i.uK,i.tV;i.oA,i.oh;var b="Record";i.Eh,i.uZ,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,i.nr,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df,a.Df;class _{config;localStorage;logger;permutiveData;cookies;externalData;constructor(e,t,n,r,i,a){this.config=e,this.localStorage=t,this.logger=n,this.permutiveData=r,this.cookies=i,this.externalData=a}async reset(){return this.logger.log("Resetting State"),(0,r.zG)(this.cookies.deleteCookie(this.config.cookieName),(e=>this.externalData.removeExternalData(this.config.cookieName)),(e=>s({_paols:!0,_papns:!0,_pcrdbs:!0,_pcrprs:!0,_pdfps:!0,_pfws:!0,_pnativo:!0,_prps:!0,_prubicons:!0,_psegs:!0,_psmart:!0,"permutive-id":!0,"permutive-loaded":!0,"permutive-prebid-rtd":!0,"permutive-events-cache":!0,_pssps:!0,_ppsts:!0}).forEach((e=>this.externalData.removeExternalData(e)))),(e=>this.permutiveData.reset()),(e=>Promise.all([this.localStorage.delete(this.config.permutiveDataMiscKey),this.localStorage.delete(this.config.permutiveDataQueriesKey)])),r.Q1)}}},7274:(e,t,n)=>{n.d(t,{u:()=>r});class r{permutiveData;permutiveReset;userId;viewId;logger;constructor(e,t,n,r,i){this.permutiveData=e,this.permutiveReset=t,this.userId=n,this.viewId=r,this.logger=i}getPermutiveData(e){return this.permutiveData.getData(e)}setPermutiveData(e,t){return this.permutiveData.setData(e,t)}getStateSizeInBytes(){return this.logger.warn("getStateSizeInBytes needs to be updated to reflect new event persistence"),this.permutiveData.getDataSize()}reset(){return this.permutiveReset.reset()}}},9880:(e,t,n)=>{n.d(t,{W:()=>r});class r{ref;constructor(e){this.ref=e}get(){return this.ref.current}}},7554:(e,t,n)=>{n.d(t,{E:()=>i});var r=n(8259);const i=(e,t,n)=>{const i=window.localStorage;return(0,r.rK)(i,"[Local Storage]",e,t,n)}},9332:(e,t,n)=>{n.d(t,{u:()=>i});n(2233);var r=n(8259);const i=(e,t,n)=>{const i=window.sessionStorage;return(0,r.rK)(i,"[Session Storage]",e,t,n)}},8259:(e,t,n)=>{n.d(t,{oP:()=>c,rK:()=>d});var r=n(2688),i=n(787),a=n(365),o=n(3735),s=n(4769);class c{storage;namespace;constructor(e,t){this.storage=e,this.namespace=t}async put(e,t){const n=this.namespace.getNamespacedStorageKey(t.toString());return this.storage.setItem(n,JSON.stringify(e)),t}async get(e){const t=this.namespace.getNamespacedStorageKey(e.toString()),n=this.storage.getItem(t);return null===n?null:(0,i.A)(n)}async delete(e){const t=this.namespace.getNamespacedStorageKey(e.toString());this.storage.removeItem(t)}async deleteStore(){}}const u=e=>{const{logger:t,consent:n,prefix:r}=e,i=(e,n)=>(t.debug(`${r} Failed to write ${String(n)} as consent is revoked`),Promise.resolve(n));return e=>class extends e{put=(0,s.v)(super.put.bind(this),i,(()=>!n.current))}},l=e=>{const{logger:t,prefix:n,storage:i}=e;return e=>class extends e{isSupported=null;isStorageSupported(){return null!==this.isSupported||(this.isSupported=a.Y3((()=>{const e="_permutive_ls_test";return i.setItem(e,e),i.getItem(e),i.removeItem(e),!0}),r.w),(0,o.zG)(this.isSupported,a.EQ((e=>{t.warn(`${n} Is NOT supported`,e)}),(()=>{t.debug(`${n} Is supported`)})))),this.isSupported}async put(e,t){return(0,o.zG)(this.isStorageSupported(),a.EQ((e=>{throw e}),(()=>super.put(e,t))))}async get(e){return(0,o.zG)(this.isStorageSupported(),a.EQ((()=>null),(()=>super.get(e))))}async delete(e){return(0,o.zG)(this.isStorageSupported(),a.EQ(o.Q1,(()=>super.delete(e))))}async deleteStore(){return(0,o.zG)(this.isStorageSupported(),a.EQ(o.Q1,(()=>super.deleteStore())))}}},d=(e,t,n,r,i)=>new((0,o.zG)(c,l({logger:r,prefix:t,storage:e}),u({logger:r,consent:i,prefix:t})))(e,n)},2497:(e,t,n)=>{n.d(t,{SD:()=>d});var r=n(2884),i=n(3328),a=n(4923),o=n(3735),s=n(2851),c=n(2652);const u={tradedesk:21,ddp:755,appnexus:32,pubmatic:76,neustar_fabrick:468},l="[TCF]",d=(e,t)=>{const[n,d,g]=(0,o.zG)(s.Ue(r.YP),(e=>{let[n,...i]=e;return[(0,o.zG)(n,s.bw(r.UI((e=>{t.debug(l,`Status "${e.type}"`,e)})))),...i]})),m=e.__tcfapi;if(m){const e=new Set(["tcloaded","useractioncomplete"]);m("addEventListener",2,((n,i)=>{i?"loaded"===n.cmpStatus&&e.has(n.eventStatus)&&(t.debug(l,"TCF API loaded",n),d(r.G({type:"loaded",data:n}))):(t.warn(l,"TCF API failed to register event listener"),d(r.G({type:"aborted"})),g())}))}else t.debug(l,"TCF API missing from the page"),d(r.G({type:"missing"})),g();const[p,h]=(0,o.zG)(s.gS(i.uZ()),(e=>{let[t,n]=e;return[t,(0,o.ls)(i.of,n)]}));return(0,o.zG)(s.vP(n,p),s.bw((e=>{let[n,i]=e;return(0,o.zG)(n,r.UI((e=>{const n=i();switch(t.debug(l,`Processing ${n.length} listeners`,n),e.type){case"missing":n.forEach((n=>{let[r,i]=n;t.debug(l,`Invoking ${r} as TCF API missing`),i(e)}));break;case"aborted":n.forEach((e=>{let[n]=e;t.debug(l,`Invoking ${n} skipped as TCF API aborted`)}));break;case"loaded":n.forEach((n=>{let[i,s]=n;(0,o.zG)(f(e.data),r.EQ((()=>{t.debug(l,`Invoking ${i} as GDPR does not apply`),s(e)}),(n=>(0,o.zG)(u,a.P5(i),r.tS((e=>(0,o.zG)(n,a.P5(e.toString())))),r.UI((n=>{n?(t.debug(l,`${i} has consent`,{vendor:i}),s(e)):t.debug(l,`${i} does not have consent`,{vendor:i})}))))))}))}})))}))),{registerVendorOnValidConsent:(e,t)=>h([e,t]),getStatusOrAbortOnTimeout:e=>new Promise((t=>{const i=setTimeout((()=>t({type:"aborted"})),e);(0,o.zG)(n,s.UI(r.UI((e=>{clearTimeout(i),t(e)}))))})).then((0,c.bw)((e=>t.debug(l,"TCF status resolved as",{status:e}))))}},f=e=>e.gdprApplies?r.G(e.vendor.consents):r.YP},6037:(e,t,n)=>{n.d(t,{C:()=>s});var r=n(5851),i=n(3735);n(7305);const a=(o=[[{name:"dfp",import:Promise.resolve().then(n.bind(n,4388))}],[{name:"appnexus_adserver",import:Promise.resolve().then(n.bind(n,2721))}],[{name:"classification_models",import:Promise.resolve().then(n.bind(n,6320))}],[],[{name:"appnexus",import:Promise.resolve().then(n.bind(n,3994))}],[],[],[{name:"dbm",import:Promise.resolve().then(n.bind(n,8431))}],[{name:"ddp",import:Promise.resolve().then(n.bind(n,9319))}],[],[{name:"facebook_pixel_v2",import:Promise.resolve().then(n.bind(n,4519))}],[],[],[{name:"gam_log",import:Promise.resolve().then(n.bind(n,6986))}],[],[],[],[{name:"piano",import:Promise.resolve().then(n.bind(n,7517))}],[],[],[{name:"publishers",import:Promise.resolve().then(n.bind(n,713))}],[],[],[{name:"rubicon_ssp",import:Promise.resolve().then(n.bind(n,8563))}],[],[{name:"tracking_pixel",import:Promise.resolve().then(n.bind(n,3792))}],[],[{name:"twitter_pixel",import:Promise.resolve().then(n.bind(n,926))}],[{name:"web",import:Promise.resolve().then(n.bind(n,4400))}],[],[],[{name:"ssp",import:Promise.resolve().then(n.bind(n,9097))}],[]],(0,i.zG)((0,r.xH)(o),(0,r.u4)({},((e,t)=>({...e,[t.name]:t.import})))));var o;const s=e=>{const t=Object.entries(a).map((async t=>{let[n,r]=t;return e.logger.log(`Loading addon ${n}`),(await r).load(e)}));return Promise.all(t)}},2721:(e,t,n)=>{n.r(t),n.d(t,{APPNEXUS_SEGMENTS_STORAGE_KEY:()=>c,AppNexusAdServerAddon:()=>f,appnexusAdServer:()=>g,load:()=>d});var r=n(9853),i=n(2652),a=n(3735),o=n(3328),s=n(2851);const c="_papns",u=()=>{try{return window.apntag.getTag()}catch{return{}}},l=e=>{try{return window.apntag.getTag(e)}catch{return}},d=e=>{if((0,r.Hn)("appnexus_adserver")("auto_init",!1)&&e.q.push({functionName:"addon",arguments:["appnexus_adserver",{}]}),void 0!==window.apntag&&window.apntag.anq&&window.apntag.anq.push){e.permutive.ready((0,i.Z_)(e.api,e.userId,(()=>{let t=!1;const n=u();Object.keys(n).forEach((e=>{n[e].displayed&&(t=!0)}));const r=t?"sdk_targeting_realtime_fail_count":"sdk_targeting_realtime_success_count";e.metrics.track({name:r,value:1,labels:{target:"appnexus"}})})),"realtime");const t=function(e){return(Array.isArray(e)?e:[e]).map((e=>e.toString()))},n=function(e,n){const r=[];return null!=n&&n.keywords&&Object.keys(n.keywords).forEach((e=>{r.push({key:e,value:t(n.keywords[e])})})),{slot:{target_id:e.targetId,tag_id:e.tagId,height:e.height,width:e.width,targeting:r},ad:{type:e.adType,source:e.source,creative_id:e.creativeId,auction_id:e.auctionId,buyer_member_id:e.buyerMemberId,brand_category_id:e.brandCategoryId,media_type_id:e.mediaTypeId,media_sub_type_id:e.mediaSubType}}},r=function(t,n){const r=(null==t?void 0:t.utiframeId)||(null==t?void 0:t.targetId);if(r){var i,a,o,s,c,u;let t=!1;window.addEventListener("blur",(function(){t&&e.permutive.track("AppNexusAdClick",n)})),null===(i=document)||void 0===i||null===(a=i.getElementById)||void 0===a||null===(o=a.call(i,r))||void 0===o||o.addEventListener("mouseover",(function(){t=!0})),null===(s=document)||void 0===s||null===(c=s.getElementById)||void 0===c||null===(u=c.call(s,r))||void 0===u||u.addEventListener("mouseout",(function(){t=!1}))}};window.__permutive=window.__permutive||{},window.__permutive.appnexusEvents=window.__permutive.appnexusEvents||[],window.__permutive.appnexusEvents.forEach((function(t){if("adLoaded"==t.eventType&&t.arg){const i=t.arg,a=l(i.targetId),o=n(i,a);e.permutive.track("AppNexusAdImpression",o),r(a,o)}})),window.apntag.anq.push((function(){window.apntag.onEvent("adLoaded",(t=>{if(t){const i=l(t.targetId),a=n(t,i);e.permutive.track("AppNexusAdImpression",a),r(i,a)}}))}))}};class f{options;logger;userId;api;activationManager;externalData;segments={cloudCohorts:[],live:[]};eligibleSegments={};constructor(e){this.options=e,this.logger=e.logger,this.userId=e.userId,this.api=e.api,this.activationManager=e.activationManager,this.externalData=e.externalData;const t=e.nextGenOutput.activations.xandr_ssp??s.a9([]);this.segments=this.initSegments(e.externalData,t.current),this.eligibleSegments={};const n=this.activationManager.getSpecializedActivations("appnexus_adserver");for(let e=0;e<n.length;e++){const t=n[e];this.eligibleSegments[t]=1}const r=this.options.nextGenOutput.queryLanguageCohorts.all;if(this.updateSegments(this.filterSegments(r.current)),window.apntag&&window.apntag.anq&&window.apntag.anq.push){const e=this;window.apntag.anq.push((function(){const t=window.apntag.defineTag;window.apntag.defineTag=function(n){t(n),(0,i.Z_)(e.api,e.userId,(function(){if(n.targetId){const t=r.current;e.updateSegments(e.filterSegments(t),n.targetId)}}))()}}))}r.onChange((0,i.Z_)(this.api,this.userId,(e=>this.updateIfNecessary(e)))),t.onChange((e=>{this.logger.debug("[appnexus] received updated cloud cohorts"),this.segments.cloudCohorts=[...e],this.updateSegments(this.segments.live)}))}get liveSegments(){return this.segments.live}initSegments(e,t){return{cloudCohorts:[...t],live:this.externalData.getExternalJsonData(c)??[]}}cacheAppnexusSegments(e){const t=JSON.stringify(e);this.externalData.setExternalData(c,t)}updateIfNecessary(e){const t=this.filterSegments(e);(0,i.cO)(t,this.segments.live)||this.updateSegments(t)}updateSegments(e,t){window.apntag&&window.apntag.anq&&window.apntag.anq.push&&window.apntag.anq.push((()=>{const n={permutive:[...e,...this.segments.cloudCohorts,"rts"]};t?window.apntag.setKeywords(t,n,{overrideKeyValue:!0}):Object.keys(u()).forEach((e=>window.apntag.setKeywords(e,n,{overrideKeyValue:!0})))})),this.cacheAppnexusSegments(e),this.segments.live=e,this.logger.debug("Appnexus live segments updated to",this.segments.live)}filterSegments(e){return e.filter((e=>e in this.eligibleSegments))}}const g=e=>{const t=(0,a.zG)(Object.values(e)??[],o.UI(String),(e=>new Set(e)));return{id:"xandr_ssp",filterCohorts:o.hX((e=>t.has(e)))}}},8254:(e,t,n)=>{n.d(t,{t:()=>i});var r=n(2652);function i(){return(0,r.a4)((()=>window.googletag),(()=>!!window.googletag),{waitTimeInMs:10,maxAttempts:200,exponentialBackOff:!1})}},7131:(e,t,n)=>{n.r(t),n.d(t,{createAddon:()=>I,getCachedDFPSegments:()=>E});var r=n(2688),i=n(365),a=n(3735),o=n(2884),s=n(3328),c=n(2851),u=n(9853),l=n(2652),d=n(8254);const f="_pdfps";n(5700);var g=n(5851),m=n(2751);let p=!1;let h=null;const v=(e,t)=>{const{logger:n}=t;(0,a.zG)(e,o.UI((e=>{!0!==p&&e.pubadsReady&&(h??=r=>{let{slot:i}=r;const{getContentUrl:o}=i;if(!o||"function"!=typeof o)return;(0,a.zG)(o(),(0,m.pn)("&trunc=1"))&&(n.debug("DFP content URL has been truncated!"),(e=>{let{metrics:t,logger:n}=e;p||(t.track({name:"sdk_targeting_size_limit_exceeded_count",value:1,labels:{target:"dfp"}}),p=!0,n.debug("DFP has exceeded targeting limit"))})(t),h&&e.pubads().removeEventListener("slotRenderEnded",h),h=null)},e.pubads().addEventListener("slotRenderEnded",h))})))},b=(e,t,n,r)=>{const{logger:i}=t;v(e,t);(0,a.zG)(e,o.UI((e=>(e=>{e.cmd.push((()=>{const{getTargeting:t,setTargeting:a}=e.pubads(),o=t("permutive")||[],s=Object.values(n.eligibleSegments).map(String).concat(n.allSeenCloudCohorts).concat("rts"),c=(0,g.uK)((e=>s.includes(e))),{left:u}=c(o),l=r.concat(u).concat("rts");i.debug("DFP setting GPT targeting to",l),a("permutive",l)}))})(e))))};var _=n(4388);const y={liveSegments:[],cloudCohorts:[],allSeenCloudCohorts:[],eligibleSegments:{}},w={segments:y,getGAMKeyValues:()=>({permutive:""})},E=e=>e.getExternalJsonData(f)||[],S=(e,t,n)=>{const{logger:i,externalData:a,api:o}=t;let s=n.map(String).concat(y.cloudCohorts);i.debug("DFP is updating with targeting values",s),b(e,t,y,s);try{a.setExternalJsonData(f,s)}catch(e){const t=(0,r.w)(e),n="DFP failed to set data. Got:";i.error(n,t),o.reportError(`${n} ${t.message}`)}return((e,t)=>{let{api:n,logger:r}=e;(0,u.$S)("sync_segments_cookie",!1)?(r.debug("DFP syncing segment cookie _pdfps"),n.segmentSync({key:f,value:t})):r.debug("DFP sync segments cookie not enabled, skipping sync")})(t,JSON.stringify(s)),i.debug("DFP live segments updated to",n),n},I=async e=>{const{api:t,logger:n,activationManager:r,messages:u,externalData:g,nextGenOutput:m,userId:p,cookies:h}=e,v=await(0,d.t)();o.Wi(v)&&n.error("[DFP]: unable to find google tag script on the page"),(0,a.zG)(v,o.UI((e=>(e=>e.cmd.push((()=>e.pubads().setTargeting("prmtvsdk","web"))))(e))));w.getGAMKeyValues=()=>({...(0,a.zG)((0,_.generateProjectSpecificKVs)(e),i.Vn((e=>{var n;return n=e,t.reportError(`[DFP] ${n}`,p.get()),e})),i.fS((()=>({})))),permutive:w.segments.liveSegments.join(",")}),y.eligibleSegments=(e=>{const t=e.getSpecializedActivations("dfp"),n={};for(const e of t.dfp)n[e]=e;for(const e of Object.keys(t.dfp_legacy)){const r=Number(e);n[r]=t.dfp_legacy[r]}return n})(r);const b=(0,a.zG)(m.queryLanguageCohorts.all,c.UI((e=>(n.debug("DFP received QL segments",{qlSegments:e}),((e,t)=>e.filter((e=>e in t)).map((e=>t[e])))(e,y.eligibleSegments)))),c.D8(l.cO)),E=m.activations.dfp??c.a9(s.bM()),I=(0,a.zG)(E,c.Rp(s.bM(),((e,t)=>[...new Set([...e,...t])])));return(0,a.zG)(c.vP(b,E,I),c.YP((0,l.Z_)(t,p,(t=>{let[r,i,a]=t;n.debug("DFP received updated cohorts",{filteredQlSegments:r,cloudCohorts:i}),y.cloudCohorts=i,y.allSeenCloudCohorts=a,y.liveSegments=S(v,e,r)})))),n.debug("DFP initialised with segments",y),u.on("permutive:reset",(0,l.Z_)(t,p,(()=>{n.debug("DFP received 'permutive:reset' event"),g.removeExternalData(f),h.deleteCookie(f)}))),u.emit("permutive:dfp:ready"),w}},4388:(e,t,n)=>{n.r(t),n.d(t,{generateProjectSpecificKVs:()=>U,load:()=>f});var r=n(2688),i=n(365),a=n(2884),o=n(3735),s=n(922),c=n(9853),u=n(2652),l=n(7131);const d={},f=e=>{(0,c.Hn)("dfp")("auto_init",!1)&&e.q.push({functionName:"addon",arguments:["dfp",{}]}),window.googletag=window.googletag||{},window.googletag.cmd.push((()=>g(e)))},g=e=>{e.permutive.ready((0,u.Z_)(e.api,e.userId,(()=>S(e.metrics))),"realtime");I(e.externalData);(0,o.zG)(U(e),i.tS((e=>i.Y3((()=>(0,u.qh)(e).forEach((e=>{let[t,n]=e;googletag.pubads().setTargeting(t,n)}))),r.w))),i.Vn((t=>e.api.reportError(`[DFP:load], ${t}`,e.userId.get())))),_(e.permutive),googletag.cmd.push((()=>{y(e.permutive),w(e.permutive)})),window.addEventListener("message",p(e.permutive),!1)},m=e=>{let{advertiserId:t,campaignId:n,lineItemId:r,creativeId:i}=e;return{advertiser_id:(0,u.rH)(t),campaign_id:(0,u.rH)(n),line_item_id:(0,u.rH)(r),creative_id:(0,u.rH)(i)}},p=e=>t=>{try{const n=JSON.parse(t.data);if(!n.permutive_type||"google_ad_click"!==n.permutive_type)return;const{ad_unit_path:r,creative_id:i,advertiser_id:a,order_id:o,line_item_id:s}=(null==n?void 0:n.data)??{},c=m({lineItemId:s,advertiserId:a,campaignId:o,creativeId:i});let u;Object.keys(d).some((e=>{const{slot:t,creative_id:n}=d[e];if((null==t?void 0:t.ad_unit_path)===r&&n===c.creative_id)return u=d[e],!0})),u=u??{...c,is_empty:!1},h(e,u)}catch{}},h=(e,t)=>{s.PH&&t&&e.track("SlotClicked",t)},v={},b=(e,t,n)=>{d[t]=n,E(e,n),v[t]&&v[t](),v[t]=P(e,t)},_=e=>{const t=googletag.pubadsReady&&googletag.pubads().getSlots();t&&t.forEach((t=>{const n=t.getResponseInformation();if(!n)return;const r={...m(n),is_empty:!1,service_name:"publisher_ads",slot:k(t)},i=t.getSlotElementId();b(e,i,r)}))},y=e=>{googletag.pubads().addEventListener("slotRenderEnded",(t=>{const n={...m(t),is_empty:t.isEmpty,service_name:t.serviceName,slot:k(t.slot)};if(t.size){const[e,r]=t.size;"number"==typeof e&&"number"==typeof r&&(n.width=e,n.height=r)}const r=t.slot.getSlotElementId();b(e,r,n)}))},w=e=>{s.EW&&googletag.pubads().addEventListener("impressionViewable",(t=>{let{slot:n,serviceName:r}=t;const i=n.getResponseInformation();if(!i)return;const a={...m(i),service_name:r,slot:k(n)};e.track("SlotViewable",a)}))},E=(e,t)=>{if(!s.CL)return;var n;n={...t,rendered_timestamp:Date.now()},e.track("SlotRendered",n)},S=e=>{let t=0;const n=googletag.pubadsReady&&googletag.pubads().getSlots();n&&n.forEach((e=>e.getResponseInformation()&&t++));const r=0===t?"sdk_targeting_realtime_success_count":"sdk_targeting_realtime_fail_count";e.track({name:r,value:1,labels:{target:"dfp"}})},I=e=>{const t=(0,l.getCachedDFPSegments)(e);googletag.cmd.push((()=>{const{getTargeting:e,setTargeting:n}=googletag.pubads(),r=e("permutive")||[];n("permutive",[...new Set([...t.map(String),...r])])}))},k=e=>{const t={ad_unit_path:e.getAdUnitPath(),slot_element_id:e.getSlotElementId()};return s.jH?{...t,...(()=>{const t={},n=[];let r=[];const i=(e,i)=>{const a="slot"===e?e=>t[e]=1:()=>{},o=i.getTargetingKeys();r=o;for(let o=0;o<r.length;o++){const s=r[o];if(void 0!==t[s]&&"service"===e)continue;const c=[],u=i.getTargeting(s);for(let e=0;e<u.length;e++)c.push(u[e].toString());c.length>0&&(a(s),n.push({key:s,value:c}))}};return i("slot",e),i("service",googletag.pubads()),{targeting_keys:n}})()}:t},P=(e,t)=>{let n=[];const r=()=>(0,o.zG)((0,o.bc)((0,o.zG)(a.Y3((()=>document.getElementById(t))),a.tS(a.ij),a.tS(a.KQ((e=>e.querySelector("iframe"))))),a.ij(document.activeElement)),a.RD,a.UI((n=>{let[r,i]=n;"hidden"===document.visibilityState&&r===i&&h(e,d[t])})));return document.addEventListener("visibilitychange",r),n.push((()=>document.removeEventListener("visibilitychange",r))),()=>{n.forEach((e=>e())),n=[]}},U=e=>{let{userId:t,viewId:n}=e;return i.Y3((()=>({})),r.w)}},6986:(e,t,n)=>{n.r(t),n.d(t,{GamLogAddon:()=>s,load:()=>o});var r=n(2884),i=n(9853),a=n(8254);const o=e=>{(0,i.Hn)("dfp")("auto_init",!1)&&e.q.push({functionName:"addon",arguments:["gam_log",{}]})};class s{options;constructor(e){this.options=e,this.setTargeting({puid:e.userId.get(),prmtvvid:e.viewId.get(),prmtvsid:e.sessionManager.getSessionId(),prmtvwid:"10453011-272d-49cd-9043-1964fdb36fd8"})}async setTargeting(e){r.g_((()=>this.options.logger.error("[GAM Log]: unable to find google tag script on the page")),(t=>{t.cmd.push((()=>Object.entries(e).forEach((e=>{let[n,r]=e;return t.pubads().setTargeting(n,r)}))))}))(await(0,a.t)())}}},7517:(e,t,n)=>{n.r(t),n.d(t,{load:()=>i});var r=n(2652);const i=e=>{{const t=t=>{const{permutive:n}=e,i={loginRequired:function(e){n.track("PianoLoginRequired",{template_id:e.templateId,offer_id:e.offerId,term_id:e.termId,container_selector:e.containerSelector,experience:{id:e.experienceId,execution_id:e.experienceExecutionId,action_id:e.experienceActionId},start_screen:e.startScreen},{useBeacon:!0})},showTemplate:function(e){const t=e.activeMeters?JSON.parse(e.activeMeters):[];n.track("PianoShowTemplate",{template_id:e.templateId,offer_id:e.offerId,container_selector:e.containerSelector,experience:{id:e.experienceId,execution_id:e.experienceExecutionId,action_id:e.experienceActionId},meters:t.map((e=>({name:e.meterName,max_views:e.maxViews,views:e.views,views_left:e.viewsLeft,total_views:e.totalViews})))})},showOffer:function(e){n.track("PianoShowOffer",{template_id:e.templateId,offer_id:e.offerId,container_selector:e.containerSelector,experience:{id:e.experienceId,execution_id:e.experienceExecutionId,action_id:e.experienceActionId}})},startCheckout:function(e){n.track("PianoCheckoutStart",{template_id:e.templateId,offer_id:e.offerId,term_id:e.termId,container_selector:e.containerSelector,experience:{id:e.experienceId},iframe_id:e.iframeId})},checkoutComplete:function(e){n.track("PianoCheckoutComplete",{user_id:e.uid,term_id:e.termId,term_conversion_id:e.termConversionId,resource_id:e.rid,charge_amount:e.chargeAmount,charge_currency:e.chargeCurrency,started_at:"string"==typeof e.startedAt?new Date(e.startedAt).toISOString():void 0,expires_at:"number"!=typeof e.expires||Number.isNaN(e.expires)?void 0:new Date(1e3*e.expires).toISOString()},{useBeacon:!0})},checkoutClose:function(e){n.track("PianoCheckoutClose",{state:e.state})},meterActive:function(e){n.track("PianoMeterActive",{name:e.meterName,max_views:e.maxViews,views:e.views,views_left:e.viewsLeft,total_views:e.totalViews})},meterExpired:function(e){n.track("PianoMeterExpired",{name:e.meterName,max_views:e.maxViews,views:e.views,views_left:e.viewsLeft,total_views:e.totalViews})}}[t]||function(){};return(0,r.Z_)(e.api,e.userId,i)},n=function(){window.tp=window.tp||[];["loginRequired","showTemplate","showOffer","startCheckout","checkoutComplete","checkoutClose","meterActive","meterExpired"].forEach((function(e){window.tp.push(["addHandler",e,t(e)])}))};(0,r.Z_)(e.api,e.userId,(function(){window.__permutive=window.__permutive||{},window.__permutive.pianoEvents=window.__permutive.pianoEvents||[],window.__permutive.pianoEvents.forEach((function(e){t(e.name)(e.e)})),n()}))()}}},8431:(e,t,n)=>{n.r(t),n.d(t,{load:()=>i});var r=n(9853);const i=e=>{(0,r.Hn)("dbm")("auto_init",!1)&&e.q.push({functionName:"addon",arguments:["dbm",{}]})}},9319:(e,t,n)=>{n.r(t),n.d(t,{DDPPixel:()=>c,load:()=>u});class r{options;storageKey;syncTimeoutSeconds;tcfStatus;constructor(e,t,n){this.options=e,this.storageKey=t,this.syncTimeoutSeconds=n,this.tcfStatus=e.tcfStatus,this.sendPixel()}sendPixel(){const e=this.options.permutiveData.getData(this.storageKey);e&&!this.isExpired(e)||this.makeUrl(this.options.config.apiKey,this.options.state.userId.get()).then((e=>{this.fire(e),this.options.permutiveData.setData(this.storageKey,(new Date).getTime())}))}fire(e){(new Image).src=e}isExpired(e){return isNaN(e)||(new Date).getTime()>e+1e3*this.syncTimeoutSeconds}}var i=n(365),a=n(3735),o=n(2652);const s=("https:"===location.protocol?"https:":"http:")+"//cm.g.doubleclick.net/pixel?google_nid=permutive_dmp&google_cm&type=ddp";class c extends r{constructor(e){super(e,"addon:ddp",86400)}async makeUrl(e,t){return(0,a.zG)(this.addGDPRParams(),i.Vn((0,o.bw)((e=>this.options.api.reportError(`Failed to make ddp url. ${e}`,t)))),i.EQ((()=>""),(n=>`${s}&k=${e}&u=${t}&${n}`)))}addGDPRParams(){return i.Y3((()=>{if("missing"===this.options.tcfStatus.type)return"gdpr=0";return`gdpr=1&gdpr_consent=${"loaded"===this.options.tcfStatus.type?this.options.tcfStatus.data.tcString:""}`}),(e=>`Failed to retrieve GDPR query params. Got ${e}`))}}const u=()=>{}},2460:(e,t,n)=>{n.d(t,{i:()=>r});class r{isFirstRun;cachedSegmentsMembership;constructor(e,t){this.isFirstRun=void 0===e.permutiveData.getData(t),this.cachedSegmentsMembership=new Set(e.nextGenOutput.queryLanguageCohorts.all.current),this.isFirstRun&&e.permutiveData.setData(t,!0),e.messages.on("permutive:reset",(()=>e.permutiveData.setData(t,!1)))}}},3994:(e,t,n)=>{n.r(t),n.d(t,{AppnexusPixel:()=>o,load:()=>s});var r=n(9853),i=n(2460);class a extends i.i{constructor(e,t,n){super(e,n);const r=e.activationManager.getSpecializedActivations(t);this.processSpecialisedActivations(e.permutive,r)}}class o extends a{constructor(e){super(e,"appnexus","addon:appnexus")}processSpecialisedActivations(e,t){if(this.isFirstRun)for(const e of this.cachedSegmentsMembership){const n=String(e);n in t&&this.firePixel(t[n])}e.on("SegmentEntry",(e=>{const n=e.properties.segment_number,r=String(n);r in t&&this.firePixel(t[r])}))}firePixel(e){(new Image).src=`https://secure.adnxs.com/seg?add=${e}&t=1`}}const s=e=>{(0,r.Hn)("appnexus")("auto_init",!1)&&e.q.push({functionName:"addon",arguments:["appnexus",{}]})}},4519:(e,t,n)=>{n.r(t),n.d(t,{FacebookV2Pixel:()=>u,load:()=>l});var r=n(9853),i=n(2652),a=n(3735),o=n(2460),s=n(7241);class c extends o.i{constructor(e,t,n){super(e,n);const r=(0,a.zG)(e.activationManager.getActivations(t),(0,s.vM)((e=>String(e.getSegmentCode()))));if(this.isFirstRun)for(const e of this.cachedSegmentsMembership){const t=String(e);t in r&&r[t].forEach((e=>this.fire(e,!0)))}e.permutive.on("SegmentEntry",(e=>{const t=e.properties.segment_number,n=String(t);n in r&&r[n].forEach((e=>this.fire(e,!0)))})),e.permutive.on("SegmentExit",(e=>{const t=e.properties.segment_number,n=String(t);n in r&&r[n].forEach((e=>this.fire(e,!1)))}))}}class u extends c{constructor(e){super(e,"facebook_pixel_v2","addon:facebook_pixel_v2")}fire(e,t){fbq("trackCustom",!0===t?"PermutiveSegmentEntry":"PermutiveSegmentExit",{segment_id:e.getSegmentCode()}),fbq("trackCustom",(!0===t?"PermutiveSegmentEntry_":"PermutiveSegmentExit_")+e.getSegmentCode()),e.trackImpression()}}const l=e=>{(0,r.Hn)("facebook_pixel_v2")("auto_init",!1)&&(0,i.a4)((()=>e.permutive.addon("facebook_pixel_v2",{})),(()=>"undefined"!=typeof fbq),{waitTimeInMs:1e3,maxAttempts:3})}},713:(e,t,n)=>{n.r(t),n.d(t,{PublishersAddon:()=>s,load:()=>o});var r=n(9853),i=n(2652),a=n(3992);const o=()=>{};class s{permutive;options;cancelTimer;totalCompletion=0;dirtyState;addAlchemyTaxonomy;documentId;eventInterval;article;addAlchemyEntities;constructor(e){this.permutive=e.permutive,this.options=e,this.eventInterval=e.eventInterval||5,this.documentId=e.documentId||null,this.article=e.article||null;const t=(0,r.Hn)("publishers");this.addAlchemyTaxonomy=t("add_alchemy_taxonomy",!1),this.addAlchemyEntities=t("add_alchemy_entities",!1),this.sendPageviewEvent();{this.dirtyState=!1;const t=()=>{this.dirtyState=!0};(e.dirtyEvents||["mousemove","click","scroll"]).map((function(e){window.addEventListener(e,t)}))}this.cancelTimer=(0,a.UM)(this.sendEngagementEvent(this.eventInterval,this.getCompletion),1e3*this.eventInterval)}reset(e){this.options.pageviewState.setState((0,i.rO)({viewId:i.k$})),this.documentId=e.documentId||null,this.article=e.article||null,this.totalCompletion=0,this.cancelTimer(),this.sendPageviewEvent(),this.cancelTimer=(0,a.UM)(this.sendEngagementEvent(this.eventInterval,this.getCompletion),1e3*this.eventInterval)}sendPageviewEvent(){let e;const t={isp_info:"$ip_isp_info",geo_info:"$ip_geo_info"};null!==this.documentId&&(t.$document=this.documentId,(this.addAlchemyTaxonomy||this.addAlchemyEntities)&&(e={},this.addAlchemyTaxonomy&&(e.taxonomy_labels="$alchemy_taxonomy_labels"),this.addAlchemyEntities&&(e.entity_names="$alchemy_entity_names"),t.alchemy=e)),null!==this.article&&(t.article=this.article,(this.addAlchemyTaxonomy||this.addAlchemyEntities)&&(e={},this.addAlchemyTaxonomy&&(e.taxonomy_labels="$alchemy_taxonomy_labels"),this.addAlchemyEntities&&(e.entity_names="$alchemy_entity_names"),t.article.alchemy=e)),this.permutive.track("Pageview",t)}getCompletion(){const e=document.documentElement.scrollHeight,t=window.pageYOffset+window.innerHeight;return t<=0?0:t>=e?1:t/e}sendEngagementEvent(e,t){const n=this;return(0,i.Z_)(this.options.api,this.options.userId,(()=>{if(n.dirtyState){const r={engaged_time:e};{const e=Math.max(n.totalCompletion,t());r.completion=e-n.totalCompletion,n.totalCompletion=e,n.dirtyState=!1}this.permutive.track("PageviewEngagement",r)}}))}}},8563:(e,t,n)=>{n.r(t),n.d(t,{RubiconSspAddon:()=>c,load:()=>s});var r=n(3735),i=n(2652),a=n(2851);const o="_prubicons",s=e=>{e.q.push({functionName:"addon",arguments:["rubicon_ssp",{}]})};class c{options;liveSegments=[];eligibleSegments={};constructor(e){this.options=e,this.liveSegments=e.externalData.getExternalJsonData(o)||[];const t=this.options.activationManager.getSpecializedActivations("rubicon_ssp");for(let e=0;e<t.length;e++)this.eligibleSegments[t[e]]=!0;(0,r.zG)(e.nextGenOutput.queryLanguageCohorts.all,a.YP((e=>this.updateIfNecessary(e))))}updateIfNecessary(e){const t=this.filterSegments(e);(0,i.cO)(t,this.liveSegments)||this.options.externalData.setExternalJsonData(o,t),this.liveSegments=t}filterSegments(e){return e.filter((e=>e in this.eligibleSegments))}}},3792:(e,t,n)=>{n.r(t),n.d(t,{PixelAddon:()=>o,load:()=>a});var r=n(9853),i=n(2652);const a=e=>{(0,r.Hn)("tracking_pixel")("auto_init",!1)&&e.q.push({functionName:"addon",arguments:["tracking_pixel",{}]})};class o{options;activations;latestStateByDomain;eligibleSegmentsForEntries;eligibleSegmentsForExits;constructor(e){const t=this;this.options=e,this.latestStateByDomain=this.options.permutiveData.getData("addon:tracking_pixel")||{},this.activations=this.options.activationManager.getActivations("tracking_pixel");const n=0===Object.keys(this.latestStateByDomain).length;this.eligibleSegmentsForEntries={},this.eligibleSegmentsForExits={};for(let e=0;e<this.activations.length;e++){const t=this.activations[e],n=t.getTriggerType(),r=t.getSegmentCode(),i=t.getConfig().pixel_url,a=this.extractPixelType(i);"OnEntry"===n?(a in this.eligibleSegmentsForEntries||(this.eligibleSegmentsForEntries[a]={}),this.eligibleSegmentsForEntries[a][r]=t):"OnExit"===n&&(a in this.eligibleSegmentsForExits||(this.eligibleSegmentsForExits[a]={}),this.eligibleSegmentsForExits[a][r]=t)}const r=e.nextGenOutput.queryLanguageCohorts.all;n&&(0,i.Z_)(e.api,e.userId,(()=>this.firePixelsIfNecessary(r.current))),r.onChange((0,i.Z_)(e.api,e.userId,(e=>t.firePixelsIfNecessary(e))))}extractPixelType(e){return e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0]}firePixelsIfNecessary(e){const t=Object.keys({...this.eligibleSegmentsForEntries,...this.eligibleSegmentsForExits}),n={},r=this.eligibleSegmentsForEntries,i=this.eligibleSegmentsForExits;t.forEach((t=>{n[t]=n[t]||[];for(let a=0;a<e.length;a++){const o=e[a];(r[t]&&r[t][o]||i[t]&&i[t][o])&&n[t].push(e[a])}})),t.forEach((e=>{const t=n[e]||[],a=Array.isArray(this.latestStateByDomain[e])?this.latestStateByDomain[e]:[];for(let n=0;n<t.length;n++){const i=t[n];if(-1===a.indexOf(i)){const t=r[e]&&r[e][i];"OnEntry"===(null==t?void 0:t.getTriggerType())&&this.firePixel(t)}}for(let n=0;n<a.length;n++){const r=a[n];if(-1===t.indexOf(r)){const t=i[e]&&i[e][r];"OnExit"===(null==t?void 0:t.getTriggerType())&&this.firePixel(t)}}})),this.latestStateByDomain=n,this.options.state.setPermutiveData("addon:tracking_pixel",this.latestStateByDomain)}firePixel(e){(new Image).src=e.getConfig().pixel_url,e.trackImpression()}}},4400:(e,t,n)=>{n.r(t),n.d(t,{WebAddon:()=>E,load:()=>w});var r=n(2688),i=n(365),a=n(3735),o=n(4011),s=n(2884),c=n(7209),u=n(922),l=n(9853),d=n(2652);const f=(0,l.MU)("add_alchemy_entities",!1),g=(0,l.MU)("add_alchemy_taxonomy",!1);function m(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{...e&&g?{taxonomy_labels:"$alchemy_taxonomy_labels"}:{},...e&&f?{entity_names:"$alchemy_entity_names"}:{},classifications_watson:{taxonomy_labels:"$taxonomy_labels"}}}function p(e,t,n,r){const i={isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",...h(),...e,...t};n.track("Pageview",i).then((e=>{e&&r.emit("permutive:event:pageview",e)}))}function h(){return{}}var v=n(3992);const b=["mousemove","click","scroll"],_=["email","tel","submit","reset","button","file","password","radio","checkbox"],y=["email","e-mail","password","tel","telephone","phone","name_first","name_last","sa_zip"],w=e=>{(0,l.Hn)("web")("auto_init",!1)&&e.q.push({functionName:"addon",arguments:["web",{auto_init:!0}]})};class E{permutive;options;api;clientContext;logger;dirtyState=!1;cancelEngagementTimer=()=>{};totalCompletion=0;totalEngagedTime=0;pageEngagementDetected;cleanupPageEngagementDetection=a.Q1;constructor(e){this.permutive=e.permutive,this.options=e,this.api=e.api,this.clientContext=e.clientContext,this.logger=e.logger,this.options.customProperties.setCustomProps(e.page||{});this.pageEngagementDetected=(()=>{this.dirtyState=!0}).bind(this),p(m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.permutive,this.options.messages),this.enablePageEngagementDetection(),"loading"!==document.readyState?this.attachListeners():window.addEventListener("DOMContentLoaded",this.attachListeners.bind(this),!1),u.t2&&(this.cancelEngagementTimer=this.registerEngagementInterval(this.getEventInterval()))}sendFormSubmissionEvent(e){{const t=e.currentTarget,n={form:{method:t.method||"GET",properties:this.serializeForm(t),..."string"==typeof t.id?{id:t.id}:{},...t.name&&"string"==typeof t.name?{name:t.name}:{},...t.action&&"string"==typeof t.action?{action:t.action}:{}}};this.permutive.track("FormSubmission",n)}}async trackEngagementInterval(e){const t=this.updateState(e);!function(e,t,n,r,i,a){const o={isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",engaged_time:e,total_engaged_time:t,...i,completion:n,total_completion:r};a.track("PageviewEngagement",o)}(t.engaged_time,t.total_engaged_time,t.completion,t.total_completion,this.options.customProperties.getCustomProps(),this.permutive)}async reset(e){this.disablePageEngagementDetection(),this.dirtyState=!1;const t=this.updateWebOptions(e);this.options.pageviewState.setState(((e,n)=>{var r,i;return{viewId:(null===(r=t.context)||void 0===r?void 0:r.view_id)??(0,d.k$)(),watsonEnabled:(null===(i=t.watson)||void 0===i?void 0:i.enabled)??n.watsonEnabled}})),this.totalCompletion=0,this.totalEngagedTime=0,this.options.customProperties.setCustomProps(this.options.page||{}),this.enablePageEngagementDetection(),p(m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.permutive,this.options.messages),u.t2&&(this.cancelEngagementTimer(),this.cancelEngagementTimer=this.registerEngagementInterval(this.getEventInterval()))}serializeForm(e){return[...e.getElementsByTagName("input")].filter((e=>!(!e.type||!e.id||e.disabled||e.checked||"fieldset"===e.nodeName.toLowerCase()||-1!==_.indexOf(e.type.toLowerCase())||-1!==y.indexOf(e.name.toLowerCase())))).map((e=>({name:e.name||e.id,value:e.value}))).filter((e=>e.value.length<120))}registerEngagementInterval(e){return(0,v.UM)((()=>{this.dirtyState&&this.trackEngagementInterval(e)}),1e3*e)}attachListeners(){const e=e=>"a"===e.tagName.toLowerCase(),t=e=>e instanceof Element,n=t=>e(t)?(0,s.G)(t):t.parentElement?e(t.parentElement)?(0,s.G)(t.parentElement):n(t.parentElement):s.YP;u.eV&&[].slice.call(document.getElementsByTagName("form"),0).forEach((e=>e.addEventListener("submit",(0,a.ls)(s.DT(this.canTrackPermutiveEvent("FormSubmission")),s.UI((0,d.Z_)(this.options.api,this.options.userId,this.sendFormSubmissionEvent.bind(this)))))));(0,l.MU)("track_link_click",!0)&&document.body.addEventListener("click",(0,a.ls)(s.DT(this.canTrackPermutiveEvent("LinkClick")),s.UI((e=>({event:e,anchor:(0,a.zG)(e.target,s.ij,s.tS(s.DT(t)),s.tS(n))}))),s.DZ((e=>{let{event:t,anchor:n}=e;return s.pC(n)?s.G({event:t,anchor:n.value}):s.YP})),s.UI((e=>{let{event:t,anchor:n}=e;return S(this.permutive,n,(r=t,!("_blank"===n.target||r.metaKey||r.ctrlKey||r.shiftKey||2===r.which||3===r.which)));var r}))),{capture:!0})}updateState(e){const t=Math.max(this.totalCompletion,this.getCurrentCompletion()),n=t-this.totalCompletion;return this.totalEngagedTime+=e,this.totalCompletion=t,this.dirtyState=!1,{engaged_time:e,total_engaged_time:this.totalEngagedTime,completion:n,total_completion:this.totalCompletion}}getCurrentCompletion(){if("function"==typeof this.options.getPageCompletion)return(0,a.zG)((0,i.Y3)((0,a.ls)(this.options.getPageCompletion,Number,(e=>isNaN(e)?0:e),(0,c.uZ)(o.Df)(0,1)),r.w),(0,i.EQ)((e=>(this.logger.warn("Web: invoking getPageCompletion threw an error. Got",e),0)),(e=>(this.logger.debug("Web: invoking getPageCompletion returned",e),e))));return(()=>{const e=document.documentElement.scrollHeight,t=window.pageYOffset+window.innerHeight;return t<=0?0:t>=e?1:t/e})()}registerPageEngagementCleanup(e){"function"==typeof e?this.cleanupPageEngagementDetection=()=>(0,i.Y3)((()=>{e(),this.cleanupPageEngagementDetection=a.Q1}),(e=>this.logger.warn("Page detection cleanup threw an error",(0,r.w)(e)))):this.logger.warn("No page detection cleanup was registered")}enablePageEngagementDetection(){this.options.addPageEngagementDetection&&(0,a.zG)(this.options.addPageEngagementDetection(this.pageEngagementDetected),(e=>this.registerPageEngagementCleanup(e))),this.setDirtyEventListenersTo(!0,this.getDirtyEvents())}disablePageEngagementDetection(){this.cleanupPageEngagementDetection(),this.setDirtyEventListenersTo(!1,this.getDirtyEvents())}setDirtyEventListenersTo(e,t){const n=e?window.addEventListener:window.removeEventListener;return t.forEach((e=>n(e,this.pageEngagementDetected))),null}getDirtyEvents(){return this.options.dirtyEvents||b}getEventInterval(){return this.options.eventInterval||5}canTrackPermutiveEvent(e){return t=>{var n,o;return(0,a.zG)(null===(n=this.options)||void 0===n||null===(o=n.filterPermutiveEvent)||void 0===o?void 0:o[e],s.DT((e=>"function"==typeof e)),s.tS((0,a.ls)((e=>i.Y3((()=>e(t)),(e=>new Error(`Threw an unexpected error: ${(0,r.w)(e)}`)))),i.tS(i.DT((e=>"boolean"==typeof e),(()=>new Error("Did not return a boolean")))),(0,d.bw)(i.Vn((t=>this.logger.error(`Filter predicate for "${e}" event failed`,t)))),s.Uo)),s.fS((()=>!0)))}}updateWebOptions(e){(0,d.Kn)(e)||(e={}),e.watson&&"object"==typeof e.watson&&"enabled"in e.watson&&"boolean"==typeof e.watson.enabled||delete e.watson,"object"==typeof e.filterPermutiveEvent&&null!==e.filterPermutiveEvent||delete e.filterPermutiveEvent,"context"in e&&!(0,d.Kn)(e.context)&&delete e.context;const t={addPageEngagementDetection:void 0,context:void 0,dirtyEvents:void 0,eventInterval:void 0,filterPermutiveEvent:void 0,getPageCompletion:void 0,page:void 0,watson:void 0};return this.options={...this.options,...t,...e}}}const S=(e,t,n)=>{if(window.location.href&&t.href){const r=0===t.href.indexOf("data:")?"NOT_URL":t.href;e.track("LinkClick",{dest_url:r},{useBeacon:n})}}},9078:(e,t,n)=>{n.d(t,{a:()=>r});class r{messages;handlers={};messageQueue={};constructor(e){var t,n;this.messages=e;null===(t=(n=window).addEventListener)||void 0===t||t.call(n,"message",(e=>{var t;"permutive"===(null==e||null===(t=e.data)||void 0===t?void 0:t.origin)&&this.handle(e)}),!1),this.messages.once("permutive:api:ready",(function(){var e,t;null===(e=(t=window).postMessage)||void 0===e||e.call(t,{origin:"permutive",type:"sdk-init"},"*")}))}listen(e,t){if(e in this.handlers||(this.handlers[e]=[]),this.handlers[e].push(t),e in this.messageQueue){const t=this.messageQueue[e];if(void 0===t)return;for(let e=0;e<t.length;e++){const n=t[e];this.handle(n)}}}handle(e){if(e.data.type in this.handlers)this.handlers[e.data.type].forEach((t=>{t(e)}));else{(this.messageQueue[e.data.type]??=[]).push(e)}}}},533:(e,t,n)=>{n.d(t,{o:()=>r,s:()=>i});class r extends Error{static errorName="NetworkRequestFailedError";name=r.errorName;constructor(){super(r.defaultMessage)}static get defaultMessage(){return"Network request failed"}}class i extends Error{static errorName="NetworkRequestTimeoutError";name=i.errorName;constructor(){super(i.defaultMessage)}static get defaultMessage(){return"Network request timed out"}}},7423:(e,t,n)=>{n.d(t,{F:()=>d});var r=n(2688),i=n(3735),a=n(2884),o=n(3328),s=n(3030),c=n(533),u=n(6392);class l{urls;config;network;metricsCollector;logger;webClient;prefix="[API]";constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>a.YP;this.urls=e,this.config=t,this.network=n,this.metricsCollector=r,this.logger=i,this.webClient=o}async reportError(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;const l=(0,r.w)(e);if(this.logError("Reporting error:\n",l),!this.config.sendClientErrors)return void this.logDebug("Send errors not enabled. Skipping");const d=(0,i.zG)(this.webClient,u.UI(a.fS((()=>{var e,t,n,r;return{domain:(null===(e=self.location)||void 0===e?void 0:e.hostname)??"",referrer:"document"in self?null===(t=self.document)||void 0===t?void 0:t.referrer:"",url:(null===(n=self.location)||void 0===n?void 0:n.href)??"",user_agent:(null===(r=navigator)||void 0===r?void 0:r.userAgent)??""}}))),u.UI((e=>{var r,i;const a={error_message:(null==l||null===(r=l.message)||void 0===r?void 0:r.toString())??"",stack_trace:null==l||null===(i=l.stack)||void 0===i?void 0:i.split("\n")},o=t?{user_id:t}:{};return{platform:"web",sdk_version:"v20.9.2",ql_runtime_version:"v10.0.2",timestamp:n,domain:e.domain,url:(0,s.bk)(e.url),referrer:(0,s.bk)(e.referrer),user_agent:e.user_agent,error_message:a.error_message??String(l),stack_trace:a.stack_trace,...o}}))),f=e=>this.network.req({url:this.urls.getSdkErrorsUrl("/errors",a.G(this.config.sdkErrorsApiVersion)),method:"POST",payload:[e],contentType:"text/plain",dataType:"text",withCredentials:!1}),g=e=>{this.metricsCollector.trackCounter({name:"sdk_http_generic_network_request_fail_count_total",value:1,labels:{network_error_type:e}})};await(0,i.zG)([c.o,c.s],o.Ew((e=>l.name===e.errorName||l.message.indexOf(e.errorName)>=0||l.message.indexOf(e.defaultMessage)>=0)),a.g_((()=>{const e=d();return f(e).catch((0,i.ls)(r.w,(e=>this.logError(e))))}),(async e=>g(e.errorName))))}logDebug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(this.prefix,...t)}logError(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(this.prefix,...t)}}class d extends l{identifyPromise;identify(e,t,n){const r=()=>this.reqWithMetrics(e,"sdk_http_identify_seconds",{url:this.urls.getEndpointUrl("/identify",a.G(this.config.apiVersion)),method:"POST",payload:{user_id:t.get(),aliases:n},contentType:"text/plain",dataType:"json",withCredentials:!0});return this.identifyPromise?this.identifyPromise=this.identifyPromise.then(r):this.identifyPromise=r()}metrics(e){return this.network.req({url:this.urls.getEndpointUrl("/internal/metrics",a.G(this.config.apiVersion)),method:"POST",payload:e,contentType:"text/plain",dataType:"text",withCredentials:!1})}metricsBeacon(e){return this.network.reqWithBeacon({url:this.urls.getEndpointUrl("/internal/metrics",a.G(this.config.apiVersion)),payload:e})}reset(e){return this.reqWithMetrics(e,"sdk_http_reset_seconds",{url:this.urls.getEndpointUrl("/reset",a.G(this.config.apiVersion)),method:"POST",payload:null,contentType:"text/plain",dataType:"json",withCredentials:!0})}segmentSync(e){return this.network.req({url:`https://${this.config.segmentSyncApiHost}/sync/${e.key}`,method:"POST",payload:`value=${encodeURIComponent(e.value)}`,contentType:"application/x-www-form-urlencoded",dataType:"json",withCredentials:!0})}appnexus(e){return this.network.req({url:e,method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!0,timeout:2e3})}pxid(e){return this.network.req({url:this.urls.makeAuthenticatedUrl(e),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!0,timeout:2e3})}queries(){const e={addons:{dfp:{activations:{dfp:[],dfp_legacy:{}},auto_init:!0,track_slot_rendered:!1,track_slot_viewable:!1,track_slot_clicked:!1,track_targeting_keys:!1,sync_segments_cookie:!1},web:{auto_init:!1,track_pageview_engagement:!0,track_pageview_complete:!0,track_form_submission:!1,track_link_click:!1,engagement_edge_only:!0,segment_transition_edge_only:!1}},queries:{queries:{},eventSegments:{},eventsLookup:[],literalsLookup:[],subexpressionsLookup:[],stateSyncReplays:[],propertiesLookup:[]},queries_metadata:{}},t=`${this.config.cdnBaseUrl.startsWith("dev.local:")?"http":"https"}://${this.config.cdnBaseUrl}/queries/10453011-272d-49cd-9043-1964fdb36fd8-amp.json`;return this.network.req({url:t,withCredentials:!1,dataType:"json",method:"GET"}).catch((()=>e))}pxidReset(e){return this.network.req({url:this.urls.makeAuthenticatedUrl(e),method:"POST",payload:null,contentType:"text/plain",dataType:"json",withCredentials:!0})}uploadCohortMemberships(e,t){return this.reqWithMetrics(e,"sdk_http_upload_cohort_memberships_seconds",{url:this.urls.getCCSCohortMembershipEndpointUrl("/amp/cohorts",a.G("alpha"),[["i",t.user_id]]),method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1})}reqWithMetrics(e,t,n){const r=e.startTimer(t,{});return this.network.req(n).then((n=>(0,i.zG)(e.stopTimer(t,r),(e=>n))))}}},7354:(e,t,n)=>{n.d(t,{E:()=>_});var r=n(365),i=n(3735),a=n(533),o=n(3992),s=n(2884),c=n(9384),u=function(e){return"Left"===e._tag},l=function(e){return"Right"===e._tag};function d(e){return{_tag:"Left",left:e}}function f(e){return{_tag:"Right",right:e}}function g(e,t){return{_tag:"Both",left:e,right:t}}var m=function(e,t,n){return function(r){switch(r._tag){case"Left":return e(r.left);case"Right":return t(r.right);case"Both":return n(r.left,r.right)}}},p=m;p(f,d,(function(e,t){return g(t,e)}));var h=f,v="These",b=(i.yR,i.yR,c.Xl,n(2652));class _{metrics;constructor(e){this.metrics=e}req(e){return this.reqImpl(e).then((e=>(0,i.MZ)(e)))}reqWithBeacon(e){var t,n;let{url:r,payload:i}=e;const a=JSON.stringify(i),o=(null===(t=navigator)||void 0===t||null===(n=t.sendBeacon)||void 0===n?void 0:n.call(t,r,JSON.stringify(i)))??!1;return this.trackRequestMetrics({is_beacon:!0,is_error:!o,request:{method:"POST",url:r,content_length:a.length}}),o}reqImpl(e){const t="arraybuffer",{url:n,dataType:u,contentType:l,method:d,withCredentials:m,timeout:p}=e;return new Promise(((h,v)=>{const _=new XMLHttpRequest,y="POST"===e.method?"string"==typeof(w=e.payload)?w:JSON.stringify(w):null;var w;const E=e=>this.trackRequestMetrics({is_beacon:!1,request:{method:d,url:n,content_length:(null==y?void 0:y.length)??0},response:e});_.onload=(0,o.GL)((()=>{var e,n;return(0,i.zG)(_.status,r.DT((e=>e<400),(()=>{const e="text"===_.responseType||""===_.responseType?_.responseText:"Couldn't access response text";return`Failed ajax request. Status code was ${_.status}. ${e}`})),r.tS((()=>"json"===u?_.responseText?r.Y3((()=>JSON.parse(_.responseText)),(e=>`Failed to parse response as JSON. Response was ${JSON.stringify(_.responseText)}. Got ${e}`)):r.F2(null):"text"===u?r.F2(_.responseText):r.F2(_.response))),(0,b.bw)((0,i.ls)(s.IS,(n={content_length:"text"===_.responseType||""===_.responseType?(null===(e=_.responseText)||void 0===e?void 0:e.length)??0:_.responseType===t?_.response.byteLength:0,response_time_ms:self.performance.now()-S,status_code:_.status},function(e){return c.Wi(e)?f(n):g(e.value,n)}),E)),r.EQ(v,h))})),_.onerror=(0,o.GL)((()=>{E(r.t$("network error")),v(new a.o)})),_.ontimeout=(0,o.GL)((()=>{E(r.t$("timeout")),v(new a.s)})),_.open(d,n,!0),l&&_.setRequestHeader("content-type",l),_.timeout=p||_.timeout,_.withCredentials=m||_.withCredentials,_.responseType="binary"===u?t:_.responseType;const S=self.performance.now();_.send(y)}))}trackRequestMetrics(e){var t;if(null===(t=this.metrics)||void 0===t||!t.isEnabled())return;const n=new URL(e.request.url).pathname;if(n.includes("metrics"))return;const r=t=>this.metrics.track({name:"sdk_http_request_count_total",value:1,labels:{request_method:e.request.method,request_path:n,request_content_length:e.request.content_length,...t}});var a;!0===e.is_beacon?r({is_beacon:!0,is_error:e.is_error}):(0,i.zG)((a=e.response,u(a)?c.YP:(l(a),c.G(a.right))),s.aD((()=>({})),(e=>({response_content_length:e.content_length,response_status:e.status_code,response_time_ms:e.response_time_ms}))),(t=>({is_beacon:!1,is_error:!l(e.response),...t})),r)}}},7548:(e,t,n)=>{n.d(t,{X:()=>i,k:()=>r});const r=e=>({id:e.id,name:e.name,time:new Date(e.time),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),i=e=>({id:e.id,name:e.name,time:(a(e.time)?e.time:new Date).toISOString(),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),a=e=>isFinite(e)&&e instanceof Date},9145:(e,t,n)=>{n.r(t),n.d(t,{startMaster:()=>ue});var r=n(2851),i=n(3735),a=n(2116),o=n(2884),s=n(3328),c=n(2652),u=n(6392),l=n(4923),d=n(1828),f=n(6017),g=n(7241);var m=n(7407),p=n(6862),h=n(7341),v=n(4870);function b(e,t){return function(n){return e.map(n,t.compact)}}function _(e,t,n){var r=b(e,t),a=(0,h.UI)(e,n);return function(e){return v.s4(r((0,i.zG)(e,a(o.IS))),r((0,i.zG)(e,a(o.EK))))}}function y(e,t){return function(n){return function(r){return e.map(r,(function(e){return t.filter(e,n)}))}}}function w(e,t){return function(n){return function(r){return e.map(r,(function(e){return t.filterMap(e,n)}))}}}function E(e,t){var n=y(e,t);return function(e){var t=n((0,f.ff)(e)),r=n(e);return function(e){return(0,v.s4)(t(e),r(e))}}}function S(e,t){var n=w(e,t);return function(e){return function(t){return(0,v.s4)((0,i.zG)(t,n((function(t){return(0,o.IS)(e(t))}))),(0,i.zG)(t,n((function(t){return(0,o.EK)(e(t))}))))}}}var I=n(9384);function k(e){return(0,i.ls)(o.G,e.of)}function P(e){return(0,i.a9)(e.of(o.YP))}function U(e){return function(t){return e.map(t,o.G)}}function x(e){return(0,i.ls)(o.ij,e.of)}function G(e){var t=x(e);return function(e){return(0,i.ls)(e,t)}}function z(e){var t=L(e),n=G(e);return function(e){return t(n(e))}}function D(e){return function(t){return(0,i.ls)(t,e.of)}}function C(e){var t=L(e),n=D(e);return function(e){return t(n(e))}}function T(e){return function(t){return function(n){return e.of(o.DT(t)(n))}}}function O(e){return(0,i.ls)(o.Uo,e.of)}function q(e){return function(t,n){return function(r){return e.map(r,o.EQ(t,n))}}}function M(e){return function(t,n){return function(r){return e.chain(r,o.EQ(t,n))}}}function A(e){return function(t){return function(n){return e.chain(n,o.EQ(t,e.of))}}}function R(e){return(0,h.UI)(e,o.dO)}function j(e){return(0,d.ap)(e,o.G5)}function L(e){var t=P(e);return function(n){return function(r){return e.chain(r,o.EQ((function(){return t()}),n))}}}function F(e){var t=k(e);return function(n){return function(r){return e.chain(r,o.EQ(n,t))}}}var $=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},N=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},B=k(m.PM),Y=(m.PM,m.of,m.PM,m.dO,m.UI(o.Uo)),Q=(m.dO,m.qo,m.UA,m.PM,function(e){return function(){return $(void 0,void 0,void 0,(function(){return N(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e().then(I.G)];case 1:return[2,t.sent()];case 2:return t.sent(),[2,I.YP];case 3:return[2]}}))}))}}),K=(m.PM,m.UA,m.PM,m.UA,R(m.dO)),H=j(m.Hi),W=B,V=L(m.UA),J=(m.UA,m.PM,m.dO,o.Ri,m.dO,o.Ri,o.dO,m.dO,o.xu,m.dO,o.xu,m.dO,o.xu,m.dO,o.xu,function(e,t){return(0,i.zG)(e,K(t))}),X=function(e,t){return(0,i.zG)(e,H(t))},Z=function(e,t){return(0,i.zG)(e,V(t))},ee="TaskOption",te={URI:ee,map:J},ne={URI:ee,map:J,ap:X,chain:Z},re=(I.F4,(0,h.YO)(te)),ie=(0,p.a)(ne),ae=(I.Xl,n(3992)),oe=n(8377);const se=(e,t)=>{const[n,a]=r.gS(s.uZ());return(0,i.zG)(t,r.UI(u.UI((t=>{s.Od(t)&&e.all().then((e=>(0,i.zG)(t,s.UI((0,oe.H5)((()=>e))),a)))}))),r.UI((e=>e()))),n},ce=(e,t)=>{let n=!1;return r.UI(u.UI((0,c.bw)((r=>{n||(n=(0,i.zG)(r,s.G((e=>{let[,t]=e;return"Pageview"===t.name}))),n&&e.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:t,time_origin:"sdk_init"}))}))))};function ue(e){let{eventsCacheFactory:t,metrics:p,trace:h,migratedStateMaps:v,worker:b,..._}=e;return e=>a.dQ((0,i.ls)((0,c.rO)({previousState:le}),(a=>{let{stopped:c,previousState:y}=a;(0,i.zG)(c,r.YP((e=>e&&b.stop()))),b.send({..._,migratedStateMaps:y.stateMigrated?{external:o.YP,internal:o.YP}:v(),previousState:y.workerState}),h.measureSinceInit("post_worker_config_duration").finish(),p.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"master_sent_worker_config",time_origin:"sdk_init"},performance.now());const w=h.startSpan("worker_config_response_duration"),E=b.next();E.then((()=>{w.finish(),p.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"master_received_worker_config_response",time_origin:"sdk_init"},performance.now())}));const S=((e,t)=>{const a=(0,i.zG)((()=>t),m.UI((e=>o.lo(!e))),V((()=>Y(e()))),re("eventsCache"),ie("eventsCacheService",(()=>(0,i.zG)((0,ae.N1)(Q((()=>Promise.resolve().then(n.bind(n,7476))))),K((e=>e.eventCacheService)))))),c=a();return e=>{let{priorCachedEventsRequests:t,...n}=e;return e=>{let{previousState:a,stopped:l}=e;const d=r.a9(u.of(s.bM())),[f,g]=r.Ue({eventsToPublish:r.a9(u.of(s.bM())),priorCachedEventsResponses:d,state:r.a9(a)});return c.then(o.EQ((()=>g({eventsToPublish:n.eventsToPublish,priorCachedEventsResponses:d,state:r.a9(void 0)})),(e=>{let{eventsCache:r,eventsCacheService:i}=e;const{state:o,value:{newEvents:s}}=i({eventsCache:r,eventsToProcessOnPageUnload:n.eventsToPublishOnPageUnload,newEvents:n.eventsToPublish})({previousState:a,stopped:l});g({eventsToPublish:s,priorCachedEventsResponses:se(r,t),state:o})}))),{state:(0,i.zG)(f,r.VS((e=>e.state))),value:(0,i.bc)((0,i.zG)(f,r.VS((e=>e.priorCachedEventsResponses))),{...n,eventsToPublish:(0,i.zG)(f,r.VS((e=>e.eventsToPublish)))})}}}})(t,E.then((e=>e.eventsCachedInWorker)));return(0,i.zG)((()=>b.read()),function(e,t){const n=e=>(0,i.zG)(e,l.Hd((e=>e in t)),(e=>{let{left:t,right:n}=e;return{buffers:n,nonBuffers:t}}));return a=>{const{buffers:o,nonBuffers:s}=n(e),[c,u]=r.Ue({...s,...(0,i.zG)(o,l.Su((e=>()=>{const n=o[e];return o[e]=t[e].empty,n})))});return(async()=>{for(;;){const e=(0,i.zG)(await a(),g.UI(n),g.ur({concat:(e,n)=>({nonBuffers:{...e.nonBuffers,...n.nonBuffers},buffers:(()=>{const r={...e.buffers};for(const e in n.buffers)r[e]=e in r?t[e].concat(r[e],n.buffers[e]):n.buffers[e];return r})()})})),r=(0,i.zG)(e.buffers,l.Su(((e,n)=>(o[e]=t[e].concat(o[e],n),()=>{const n=o[e];return o[e]=t[e].empty,n}))));u({...c.current,...e.nonBuffers,...r})}})(),(0,i.zG)(e,l.Su((e=>(0,i.zG)(c,r.UI((t=>t[e]))))))}}({activations:y.activations,cohorts:y.cohorts,context:{},eventsToPublish:s.cS,eventsToPublishOnPageUnload:s.cS,externalData:{},geoIP:o.YP,metrics:s.cS,priorCachedEventsRequests:s.cS,realtime:!1,state:y.workerState,transitionsSinceInit:{segmentsEntered:s.cS,segmentsExited:s.cS},workerStateFlushed:!1,stateMigratedThisInitialisation:!1},{eventsToPublish:s.uZ(),metrics:s.uZ(),priorCachedEventsRequests:s.uZ()}),(e=>{let{metrics:t,...n}=e;return t.onChange((e=>e().forEach((e=>p.track(e))))),n}),(t=>{let{workerStateFlushed:n,stateMigratedThisInitialisation:a,activations:g,cohorts:m,state:h,...v}=t;const{value:[_,w],state:E}=S(v)({stopped:c,previousState:y.masterEventsCache});return function(e,t,n){const a=(0,i.zG)(r.vP(t),r.UI((0,i.ls)(l.UI((e=>"function"==typeof e?e:u.of(e))),(0,d.Yt)(u.G5))));let s=a.current();e(s),(0,i.zG)(a,r.YP((t=>{const r=t(),a=(0,i.zG)(r,l.z7(((e,t)=>{var r;return t!==s[e]&&(null===(r=n[e])||void 0===r||!r.isEmpty(t))})),o.DT((0,f.ff)(l.xb)));o.pC(a)&&(s={...s,...a.value},e(a.value))})))}(b.send,{consent:e.consent,contextualCohorts:e.contextualCohorts,enrichmentReplacementMap:e.enrichmentReplacementMap,eventSourceId:e.eventSourceId,identities:e.identities,userId:e.userId,userIdIsNewlyGenerated:e.userIdIsNewlyGenerated,newEvents:(0,i.zG)(e.newEvents,ce(p,"pageview_sent_to_worker")),sessionId:e.sessionId,viewId:e.viewId,webClient:e.webClient,pageviewState:e.pageviewState,priorCachedEventsResponses:_},{newEvents:{isEmpty:s.xb},priorCachedEventsResponses:{isEmpty:s.xb}}),p.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"master_sent_worker_input",time_origin:"sdk_init"},performance.now()),{state:r.vP({activations:g,cohorts:m,masterEventsCache:E,workerState:h,stateMigrated:(0,i.zG)(r.vP(n,a),r.Rp(y.stateMigrated,((e,t)=>{let[n,r]=t;return e||n&&r})))}),value:{...w,stateMigratedThisInitialisation:a,activations:{dfp:r.UI((e=>e.dfp),g),xandr_ssp:r.UI((e=>e.xandr_ssp),g)},cohorts:{all:r.UI((e=>e.all),m),ql:r.UI((e=>e.ql),m),qlCustom:r.UI((e=>e.qlCustom),m),qlStandard:r.UI((e=>e.qlStandard),m)}}}}))})))}const le=e=>pe(e)?{activations:de(e.activations),cohorts:ge(e.cohorts),masterEventsCache:e.masterEventsCache,workerState:e.workerState,stateMigrated:!!e.stateMigrated}:{activations:de(null),cohorts:ge(null),masterEventsCache:null,workerState:null,stateMigrated:!1},de=e=>pe(e)?{dfp:me(e.dfp),xandr_ssp:me(e.xandr_ssp)}:fe(),fe=()=>({dfp:s.cS,xandr_ssp:s.cS}),ge=e=>pe(e)?{all:me(e.all),ql:me(e.ql),qlCustom:me(e.qlCustom),qlStandard:me(e.qlStandard)}:he(),me=e=>Array.isArray(e)?e:s.cS,pe=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),he=()=>({all:s.cS,ql:s.cS,qlCustom:s.cS,qlStandard:s.cS})},4317:(e,t,n)=>{n.r(t),n.d(t,{runNextGenFeatures:()=>Ze});var r=n(3735),i=n(2851),a=n(2116),o=n(3992),s=n(2884),c=n(2652);function u(e){let{messages:t}=e;const[n,r]=i.Ue(new Set);return t.on("permutive:addon:preinit",(e=>r(new Set([...n.current,e])))),n}function l(){const e=()=>Math.floor(Date.now()/1e3),[t,n]=i.Ue(e());return(0,o.UM)((()=>n(e())),1e3),t}function d(){const[e,t]=i.Ue(!1);return(0,c.aT)((()=>t(!0)),navigator.userAgent),e}var f=n(3328),g=n(2688),m=n(365),p=n(7241),h=n(2197),v=n(4923),b=n(4870),_=n(9853);const y="[PrebidJS]";function w(e){const t=(()=>{const e=["pbjs",...window._pbjsGlobals||[]];return[...new Set(e)]})();e.logger.debug(y,"Found keys",t);return a.K4((()=>(0,r.zG)(t,f.UI((0,r.ls)((e=>(e=>{const t={maxAttempts:100,waitTimeInMs:50};let n;return{windowPropertyKey:e,pbjs:(0,c.a4)((()=>n),(()=>{const t=(0,r.zG)(window,(0,c.vg)(e));return!(null==t||!t.que||"function"!=typeof(null==t?void 0:t.getEvents)||(n=t,0))}),t)}})(e)),(t=>(0,r.zG)(i.p4(t.pbjs),i.UI((n=>{const i=m.pF((n=>(n.message=`Failed to resolve key "${t.windowPropertyKey}". ${n.message}`,e.reportError(`${y} ${n.toString()}`),s.YP)));return(0,r.zG)(n,(0,c.bw)(s.UI((n=>e.logger.debug(y,`Completed check for key "${t.windowPropertyKey}"`,{result:n})))),s.UI(i),s.UI(s.UI((e=>({windowPropertyKey:t.windowPropertyKey,pbjs:e})))))})))))),(e=>i.vP(...e)),i.UI((e=>({completedChecks:e.every(s.pC),pbjsKeyPairs:e.map(s.xH)}))),i.UI((e=>{let{pbjsKeyPairs:t,completedChecks:n}=e;const i=t.filter(s.pC),[a,...o]=i;return{completedChecks:n,mainPair:a??s.YP,otherPairs:(0,r.zG)(o,f.DZ(r.yR))}})))))}const E="[Prebid Monitoring]",S=(e,t)=>{e.metrics.trackCounter({name:"sdk_prebid_monitoring_key_flag_count_total",labels:t,value:1})},I=(e,t)=>{e.metrics.trackCounter({name:"sdk_prebid_monitoring_key_bidder_flag_count_total",labels:t,value:1})},k=function(e,t){const n=P(e);return a.K4((()=>(0,r.zG)(t,i.UI((0,r.ls)(s.DT((e=>e.consent)),s.UI((e=>e.prebidJS)))),i.D8(s.Eh((0,c.Or)())),i.bw((0,r.ls)(s.tS((e=>e.completedChecks?e.mainPair:s.YP)),s.UI((t=>S(e,{flag:"prebid_main_key",prebid_key:t.windowPropertyKey}))))),i.UI(s.UI((e=>(0,r.zG)(e.mainPair,s.UI((t=>[t,...e.otherPairs])),s.fS((()=>e.otherPairs)))))),i.Rp(new Set,((t,i)=>(0,r.zG)(i,s.UI(f.hX((e=>!t.has(e.windowPropertyKey)))),s.hX(f.Od),(0,c.bw)(s.EQ((()=>e.logger.debug(E,"Nothing to report")),(t=>e.logger.debug(E,"Reporting",t)))),s.fS((()=>[])),f.UI((t=>(0,r.zG)((t=>(0,r.zG)(m.Y3((function(){var n;const{pbjs:i,windowPropertyKey:a}=t;e.logger.log(E,`Reporting on "${a}"`,t);const o=U(i);e.logger.debug(E,`Version ${i.version} parsed as`,o);const s="function"==typeof(c=i).readConfig?c.readConfig():c.getConfig();var c;e.logger.debug(E,"Read config",s);const u=(0,r.zG)((null===(n=s.realTimeData)||void 0===n?void 0:n.dataProviders)??[],f.Ew((e=>"permutive"===e.name)));return e.logger.debug(E,"Read data provider config",u),{pbjs:i,config:s,dataProviderConfig:u,installedModules:i.installedModules||[],version:o,windowPropertyKey:a}}),g.w),m.ak("bidders",(e=>n.acBidders(e))),m.ak("permutiveRTDProvider",(e=>n.permutiveRTDProvider(e))),m.ak("consent",(e=>n.consent(e))),m.ak("targeting",(e=>n.targeting(e)))))(t),m.Pd((n=>e.reportError(`[Prebid Monitoring] Failed to report pair "${t.windowPropertyKey}", ${n.message}`)),(()=>t.windowPropertyKey))))),f.hp,(e=>new Set([...t,...e]))))),(e=>({reportedKeys:e})))))};const P=e=>({acBidders:t=>m.Y3((()=>{(0,_.Hn)("prebid")("data_provider_config",{ac_bidders:[]});const n=[],i=(0,r.zG)(t.dataProviderConfig,s.UI((e=>{var t;return(null==e||null===(t=e.params)||void 0===t?void 0:t.acBidders)??[]})),s.fS((()=>[]))),a=[...new Set([...n,...i])];return e.logger.debug(E,"Determined acBidders as",{acBidders:a,dynamicBidders:n,staticBidders:i}),a.forEach((n=>{I(e,{flag:"prebid_ac_bidder",prebid_key:t.windowPropertyKey,prebid_bidder:n})})),{acBidders:a,dynamicBidders:n,readBidders:i}}),g.w),consent:t=>m.Y3((()=>{var n,r,i,a,o,s;const c=t.windowPropertyKey;t.config.consentManagement&&"object"==typeof t.config.consentManagement&&S(e,{prebid_key:c,flag:"prebid_has_consent_management"});const u=t.installedModules.includes("gdprEnforcement");u&&S(e,{prebid_key:c,flag:"prebid_gdpr_enforcement_module"});const l=(null===(n=t.config)||void 0===n||null===(r=n.consentManagement)||void 0===r||null===(i=r.gdpr)||void 0===i||null===(a=i.rules)||void 0===a||null===(o=a.find((e=>"storage"===(null==e?void 0:e.purpose))))||void 0===o||null===(s=o.vendorExceptions)||void 0===s?void 0:s.includes("permutive"))||!1;return l&&S(e,{prebid_key:c,flag:"prebid_storage_exception"}),{hasGDPREnforcementModule:u,addedAsStorageException:l}}),g.w),permutiveRTDProvider:t=>m.Y3((()=>{const n=t.installedModules.includes("permutiveRtdProvider");return n&&S(e,{prebid_key:t.windowPropertyKey,flag:"prebid_permutive_rtd"}),n}),g.w),targeting:t=>{const n=(0,r.ls)(f.UI((e=>[e,null])),v.sq),i=(t,n)=>(0,r.zG)(t,(0,c.bw)((t=>e.logger.debug(E,`Processing ${t.length} bidder request(s)`,t))),f.hX((e=>n.hasOwnProperty(e.bidderCode)&&null===n[e.bidderCode])),p.vM((e=>e.bidderCode)),v.DZ(f.f2((0,c.lo)([[e=>(e=>{var t,n,r;const i=null==e||null===(t=e.user)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.find((e=>"permutive.com"===e.name));return!(null==i||null===(r=i.segment)||void 0===r||!r.length)})(e.ortb2),()=>s.G("ortb2")],[e=>{return t=e.params,["permutive","p_standard"].some((e=>{var n,r,i,a;return(null==t||null===(n=t.visitor)||void 0===n||null===(r=n[e])||void 0===r?void 0:r.length)||(null==t||null===(i=t.keywords)||void 0===i||null===(a=i[e])||void 0===a?void 0:a.length)}));var t},()=>s.G("params")],()=>s.YP]))),(0,c.bw)((t=>e.logger.debug(E,"Bidders targeting method's updated",t)))),a=a=>{e.logger.debug(E,"Bidders found with no targeting method",a);let o=n(a);const s=n=>(0,r.zG)(i([n],o),(0,c.bw)((e=>{o={...o,...e}})),(0,c.bw)(v.Su(((n,r)=>I(e,{flag:`prebid_${r}_targeting_success`,prebid_key:t.windowPropertyKey,prebid_bidder:n})))),(0,c.bw)((()=>{Object.values(o).includes(null)||(e.logger.debug(E,`Cleaning up "bidRequested" listener for ${t.windowPropertyKey}`),t.pbjs.offEvent("bidRequested",s))})));t.pbjs.onEvent("bidRequested",s)};return m.Y3((()=>{const o=(0,r.zG)(t.pbjs.getEvents(),f.DZ((0,r.ls)(s.DT((e=>"bidRequested"===e.eventType)),s.UI((0,c.vg)("args")))));return(0,r.zG)(t.bidders.acBidders,s.DT(f.Od),s.EQ((()=>e.logger.debug(E,"No bidders for targeting")),(0,r.ls)(n,(e=>({...e,...i(o,e)})),v.uK(h.ff((e=>null===e))),b.Pd((0,r.ls)(v.XP,s.DT(f.Od),s.UI(a)),v.Su(((n,r)=>I(e,{prebid_bidder:n,prebid_key:t.windowPropertyKey,flag:`prebid_${r}_targeting_success`})))))))}),g.w)}}),U=e=>{const[t,n,r]=e.version.split("-")[0].replace("v","").split(".").map((e=>parseInt(e)));return{major:t,minor:n,patch:r}},x=function(e,t){const n=(0,r.zG)(t.pbjs,i.VS((0,r.ls)(s.tS(s.KQ((e=>{var t;return null===(t=e.getUserIdsAsync)||void 0===t?void 0:t.call(e).then((()=>{var t;return(null===(t=e.getUserIdsAsEids)||void 0===t?void 0:t.call(e))??[]}))}))),s.UI(i.p4),s.fS((()=>i.a9(s.YP))))),i.UI(s.tS(s.Uo)),i.bw(s.mU((t=>(t.length>0?t.forEach((t=>{e.metrics.trackCounter({name:"sdk_prebid_alternative_identifiers_count_total",labels:{alternative_user_id_name:t.source},value:1})})):e.metrics.trackCounter({name:"sdk_prebid_alternative_identifiers_count_total",labels:{identifier:"NONE"},value:1}),s.YP))))),o=(0,r.zG)(t.pbjs,i.UI(s.tS(s.KQ((e=>{var t;return null===(t=e.getUserIdsAsEids)||void 0===t?void 0:t.call(e)})))));return a.K4((()=>(0,r.zG)(i.vP(n,o),i.UI((e=>{let[t,n]=e;return(0,r.zG)(t,s.wp((()=>n)))})),i.UI((0,r.ls)(s.UI(f.DZ((e=>{var t,n;return"string"==typeof(null===(t=e.uids)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.id)?s.G((0,r.bc)(e.source,{id:e.uids[0].id})):s.YP}))),s.tS(p.c2),s.UI(v.sq))),i.bw((t=>{s.pC(t)&&e.logger.debug("[Prebid Identifiers]","Found identifiers",t.value)})))))};const G=function(e){let{externalData:t}=e;return a.K4((()=>{t.removeExternalData(z)}))};const z="_pfws",D=new Set(["AdRequest","PageviewEngagement","SegmentEntry","SegmentExit"]);class C{events;listeners;static highVolumeEvents=(()=>{const e=new Set([...D]);return e.delete("Reaction"),e})();constructor(){this.events=[],this.listeners=[]}newEvent(e,t){C.highVolumeEvents.has(e.name)||this.events.push([e,t]),[...this.listeners].forEach((n=>{this.handle(e,t,n)}))}addListener(e){this.listeners.push(e);const t={replay:()=>(this.replay(e),t),remove:()=>(this.remove(e),t)};return t}handle(e,t,n){const r="string"==typeof n.name&&e.name===n.name,i=n.name.test&&n.name.test(e.name),a=r||i;if(a)try{n.callback(e,t)}catch(e){window.console&&window.console.error&&window.console.error("callback error: ",e)}a&&n.once&&this.remove(n)}replay(e){let t=-1!==this.listeners.indexOf(e);for(let n=0;n<this.events.length&&t;n++)this.handle(this.events[n][0],this.events[n][1],e),t=-1!==this.listeners.indexOf(e)}remove(e){const t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)}}var T=n(6392),O=n(1828);var q=n(8377),M=n(3582),A=n(7407);const R="[Event Upload]",j=(e,t,n,s)=>a.dQ((a=>{let{stopped:u,previousState:l}=a;Array.isArray(l)&&(0,r.zG)(l,B(e))();const d=new Set([...D]),[g,{appendUntrackedEvents:p,appendUploadResults:h}]=(0,r.zG)((()=>{const[e,t]=i.gS(f.uZ()),[n,a]=i.gS(f.uZ());return(0,r.bc)({uploadResults:e,untrackedEvents:n},{appendUploadResults:t,appendUntrackedEvents:a})})(),(0,q.pL)((0,r.ls)((function(e){const[t,n]=(0,r.zG)(e.uploadResults,Y(f.bj));return{...e,uploadResults:t,erroredEventsAsJSON:n}}),(function(e){const[t,n]=(0,r.zG)(e.erroredEventsAsJSON,Y(f.UI((0,q.H5)((0,c.rO)({event:(0,c.rO)({time:e=>new Date(e)})})))));return{...e,erroredEventsAsJSON:t,erroredEvents:n}}),(function(e){let{uploadResults:t,untrackedEvents:n,...a}=e;const o=(0,r.zG)(t,i.UI(T.UI((0,r.ls)(f.hp,f.UI((0,q.H5)((0,c.rO)({time:e=>new Date(e)}))))))),s=(0,r.zG)(i.vP(o,n),i.UI(T.RD),i.UI(T.UI((e=>{let[t,n]=e;return n.concat(t)}))));return{...a,successEvents:s}}),(function(e){const[t,n]=(0,r.zG)(e.successEvents,Y(f.UI((0,q.H5)((0,c.rO)({time:e=>e.toISOString()})))));return{...e,successEvents:t,successEventsAsJSON:n}})))),[v,b]=i.Ue(0),[_,y]=i.Ue(0),w=(0,r.zG)(t,i.UI(T.UI((e=>(0,r.zG)(e,f.uK((e=>{let[,t]=e;return!d.has(t.event.name)})),(e=>{let{left:t,right:n}=e;return(0,r.zG)(t,f.UI((0,q.H5)((e=>e.event))),p),n}))))),i.UI(T.UI((e=>(e.length>0&&((0,o.HJ)((()=>b(v.current+e.length)),500),(0,o.HJ)((()=>y(_.current+e.length)),5e3)),e))))),E=e=>t=>(0,r.zG)(e,f.hX((e=>{let[n]=e;return!t.closeEventsProcessed.includes(n)})),f.zo(t.queue)),S=(0,r.zG)(i.vP(v,_,w,n,u,s),i.Rp({closeEventsProcessed:f.cS,noQueueItemsProcessed:0,queue:f.cS},((t,n)=>{let[i,a,o,s,u,l]=n;return u?t:(0,r.zG)(t,(0,c.rO)({queue:f.zo(o())}),(t=>l?(0,r.zG)(t,(t=>n=>(0,r.zG)(n,E(t),N(e),(0,c.rO)({right:(0,c.bw)((0,r.ls)(f.UI((0,r.ls)((0,q.H5)((0,c.rO)({time:e=>e.toISOString()})),m.F2)),h))}),(e=>{let{left:t,right:i}=e;return(0,r.zG)(n,(0,c.rO)({closeEventsProcessed:(0,r.zG)(i,f.UI(q.li),f.zo),queue:(0,r.zG)(t.map(q.li),(e=>new Set(e)),(e=>f.hX((t=>{let[n]=t;return e.has(n)})))),noQueueItemsProcessed:e=>e+n.queue.length}))})))(s)):a>t.noQueueItemsProcessed||i===t.noQueueItemsProcessed+t.queue.length?(t=>((0,r.zG)(t.queue,B(e),A.UI(h))(),{closeEventsProcessed:t.closeEventsProcessed,noQueueItemsProcessed:t.noQueueItemsProcessed+t.queue.length,queue:f.cS}))(t):t))}))),I=(0,r.zG)(n,i.UI(E),i.ap(S),i.D8(f.Eh({equals:(e,t)=>e[0]===t[0]})));return{state:I,value:g}})),L=(e,t)=>e.permutiveUrls.getEndpointUrl("/batch/events",s.G(e.config.apiVersion),[["enrich",JSON.stringify(t.requiresEnrichment)],["sdkp",JSON.stringify(t.sdkProcessed)]]),F=e=>(0,r.zG)(e.events,f.UI((0,r.ls)(q.Yg,(e=>e.event)))),$=(0,r.ls)(p.vM((e=>{let[t,n]=e;return`${n.requiresEnrichment}${n.sdkProcessed}`})),(e=>Object.values(e)),f.UI((e=>({requiresEnrichment:e[0][1].requiresEnrichment,events:e,sdkProcessed:e[0][1].sdkProcessed})))),N=e=>(0,r.ls)($,f.YO("request"),f.Hr("success",(t=>{let{request:n}=t;return e.logger.debug(R,"Uploading via beacon",n),e.permutiveApi.reqWithBeacon({url:L(e,n),payload:F(n)})})),f.tS((e=>(0,r.zG)(e.request.events,f.UI((t=>{let[n,{event:i}]=t;return e.success?m.F2((0,r.bc)(n,i)):m.t$((0,r.bc)(n,i))}))))),f.UI((0,c.bw)(m.EQ((t=>{let[,n]=t;return e.metrics.trackCounter({name:"sdk_event_beacon_fail_count_total",labels:{event_name:n.name},value:1})}),(t=>{let[,n]=t;return e.metrics.trackCounter({name:"sdk_event_beacon_success_count_total",labels:{event_name:n.name},value:1})})))),f.oh),B=e=>t=>(0,r.zG)($(t),A.uU((t=>(0,r.zG)(t,(e=>t=>(e.logger.debug(R,"Uploading",t),M.Y3((()=>e.permutiveApi.req({payload:F(t),url:L(e,t),method:"POST",contentType:"text/plain",dataType:"json",withCredentials:!1})),(t=>(e.reportError(`Error sending events batch. Got ${m.KC(t)}`),t)))))(e),M.UI(f.UI((e=>e.body))),M.EQ((e=>(0,r.zG)(t.events,f.UI((()=>m.t$(e))))),f.UI(m.F2)),A.UI(f.$R(t.events))))),A.UI(f.tS(f.UI((t=>{let[n,[i,{event:a}]]=t;return(0,r.zG)(n,m.EQ((e=>m.t$((0,r.bc)(i,{event:{...a,time:a.time.toISOString()},error:e}))),(e=>"request_id"in e?m.t$((0,r.bc)(i,{event:{...a,time:a.time.toISOString()},error:e})):m.F2((0,r.bc)(i,{...a,id:e.id,time:e.time})))),(0,c.bw)(m.EQ((t=>{let[,{event:n}]=t;return e.metrics.trackCounter({name:"sdk_event_upload_fail_count_total",labels:{event_name:n.name},value:1})}),(t=>{let[,n]=t;return e.metrics.trackCounter({name:"sdk_event_upload_success_count_total",labels:{event_name:n.name},value:1})}))))}))))),Y=e=>t=>(0,r.zG)(t,i.En(2,f.uZ()),(0,q.H5)(i.UI(T.UI(e)))),Q=(e,t,n,o)=>(0,r.zG)(a.K4((()=>{const[e,t]=i.Ue(i.a9(T.of([])));return{eventsToPublishBufferRef:i.xH(e),publishEvents:n=>{(0,r.zG)(i.vP(e.current,n),i.UI(T.RD),i.UI(T.UI(f.xH)),t)}}})),a.ak("eventUpload",(t=>{let{eventsToPublishBufferRef:r}=t;return j(e,r,n,o)})),a.ak("eventHandler",(e=>{let{eventUpload:t}=e;return n=t.successEventsAsJSON,o=t.erroredEventsAsJSON,a.K4((()=>{const e=new C;return(0,r.zG)(n,i.UI((e=>e())),i.bw((t=>t.forEach((t=>{let[,n]=t;return e.newEvent(n,null)}))))),(0,r.zG)(o,i.UI((e=>e())),i.bw((t=>t.forEach((t=>{let[,{event:n,error:r}]=t;return e.newEvent(n,r)}))))),{eventHandlerAfterUpload:e}}));var n,o})),a.ak("eventResolver",(e=>{let{eventUpload:n}=e;return((e,t,n,o)=>a.K4((()=>{(0,r.zG)(i.vP({unresolvedEvents:t,erroredEvents:o,successEvents:n}),i.UI((0,O.Yt)(T.G5)),i.Rp({},((e,t)=>{const n=t();return(0,r.zG)(n.unresolvedEvents,s.DT(f.Od),s.UI((0,r.ls)(v.sq,(t=>({...e,...t})))),s.fS((()=>e)),(e=>(0,r.zG)(n.successEvents,f.u4(e,((e,t)=>{let[n,i]=t;return(0,r.zG)(v.P5(n,e),s.UI((t=>(t.succeed(i),v.EG(n)(e)))),s.fS((()=>e)))})))),(e=>(0,r.zG)(n.erroredEvents,f.u4(e,((e,t)=>{let[n,{event:i,error:a}]=t;return(0,r.zG)(v.P5(n,e),s.UI((t=>(t.fail(`Failed to track ${i.name}. ${"error"in a?a.error.message:a.message}`),v.EG(n)(e)))),s.fS((()=>e)))})))))})))})))(0,t,n.successEvents,n.erroredEvents)})),a.UI((e=>{let{publishEvents:t,eventHandler:n}=e;return{eventHandlerAfterUpload:n.eventHandlerAfterUpload,publishEvents:t}}))),K="_pnativo",H=function(e){let{externalData:t}=e;return a.K4((()=>{t.removeExternalData(K)}))};var W,V,J,X,Z,ee=-1,te=function(e){addEventListener("pageshow",(function(t){t.persisted&&(ee=t.timeStamp,e(t))}),!0)},ne=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},re=function(){var e=ne();return e&&e.activationStart||0},ie=function(e,t){var n=ne(),r="navigate";return ee>=0?r="back-forward-cache":n&&(document.prerendering||re()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},ae=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},oe=function(e,t,n,r){var i,a;return function(o){t.value>=0&&(o||r)&&((a=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},se=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},ce=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},ue=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},le=-1,de=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},fe=function(e){"hidden"===document.visibilityState&&le>-1&&(le="visibilitychange"===e.type?e.timeStamp:0,me())},ge=function(){addEventListener("visibilitychange",fe,!0),addEventListener("prerenderingchange",fe,!0)},me=function(){removeEventListener("visibilitychange",fe,!0),removeEventListener("prerenderingchange",fe,!0)},pe=function(){return le<0&&(le=de(),ge(),te((function(){setTimeout((function(){le=de(),ge()}),0)}))),{get firstHiddenTime(){return le}}},he=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},ve=[1800,3e3],be=[.1,.25],_e=function(e,t){t=t||{},function(e,t){t=t||{},he((function(){var n,r=pe(),i=ie("FCP"),a=ae("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-re(),0),i.entries.push(e),n(!0)))}))}));a&&(n=oe(e,i,ve,t.reportAllChanges),te((function(r){i=ie("FCP"),n=oe(e,i,ve,t.reportAllChanges),se((function(){i.value=performance.now()-r.timeStamp,n(!0)}))})))}))}(ue((function(){var n,r=ie("CLS",0),i=0,a=[],o=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=a[0],n=a[a.length-1];i&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,a.push(e)):(i=e.value,a=[e])}})),i>r.value&&(r.value=i,r.entries=a,n())},s=ae("layout-shift",o);s&&(n=oe(e,r,be,t.reportAllChanges),ce((function(){o(s.takeRecords()),n(!0)})),te((function(){i=0,r=ie("CLS",0),n=oe(e,r,be,t.reportAllChanges),se((function(){return n()}))})),setTimeout(n,0))})))},ye={passive:!0,capture:!0},we=new Date,Ee=function(e,t){W||(W=t,V=e,J=new Date,ke(removeEventListener),Se())},Se=function(){if(V>=0&&V<J-we){var e={entryType:"first-input",name:W.type,target:W.target,cancelable:W.cancelable,startTime:W.timeStamp,processingStart:W.timeStamp+V};X.forEach((function(t){t(e)})),X=[]}},Ie=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){Ee(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",n,ye),removeEventListener("pointercancel",r,ye)};addEventListener("pointerup",n,ye),addEventListener("pointercancel",r,ye)}(t,e):Ee(t,e)}},ke=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Ie,ye)}))},Pe=[100,300],Ue=0,xe=1/0,Ge=0,ze=function(e){e.forEach((function(e){e.interactionId&&(xe=Math.min(xe,e.interactionId),Ge=Math.max(Ge,e.interactionId),Ue=Ge?(Ge-xe)/7+1:0)}))},De=function(){return Z?Ue:performance.interactionCount||0},Ce=function(){"interactionCount"in performance||Z||(Z=ae("event",ze,{type:"event",buffered:!0,durationThreshold:0}))},Te=[200,500],Oe=0,qe=function(){return De()-Oe},Me=[],Ae={},Re=function(e){var t=Me[Me.length-1],n=Ae[e.interactionId];if(n||Me.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};Ae[r.id]=r,Me.push(r)}Me.sort((function(e,t){return t.latency-e.latency})),Me.splice(10).forEach((function(e){delete Ae[e.id]}))}},je=[2500,4e3],Le={};const Fe=function(e){let t=0;const n=n=>{if(0===t)return;const r=$e(n);r&&e.metrics.track({name:`sdk_web_vitals_${r.suffix}`,labels:{},value:r.value})},o=(0,c.HP)((()=>{_e(n),function(e,t){t=t||{},he((function(){var n,r=pe(),i=ie("LCP"),a=function(e){var t=e[e.length-1];t&&t.startTime<r.firstHiddenTime&&(i.value=Math.max(t.startTime-re(),0),i.entries=[t],n())},o=ae("largest-contentful-paint",a);if(o){n=oe(e,i,je,t.reportAllChanges);var s=ue((function(){Le[i.id]||(a(o.takeRecords()),o.disconnect(),Le[i.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,s,!0)})),ce(s),te((function(r){i=ie("LCP"),n=oe(e,i,je,t.reportAllChanges),se((function(){i.value=performance.now()-r.timeStamp,Le[i.id]=!0,n(!0)}))}))}}))}(n),function(e,t){t=t||{},he((function(){var n,r=pe(),i=ie("FID"),a=function(e){e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),n(!0))},o=function(e){e.forEach(a)},s=ae("first-input",o);n=oe(e,i,Pe,t.reportAllChanges),s&&ce(ue((function(){o(s.takeRecords()),s.disconnect()}))),s&&te((function(){var r;i=ie("FID"),n=oe(e,i,Pe,t.reportAllChanges),X=[],V=-1,W=null,ke(addEventListener),r=a,X.push(r),Se()}))}))}(n),function(e,t){t=t||{},he((function(){Ce();var n,r=ie("INP"),i=function(e){e.forEach((function(e){e.interactionId&&Re(e),"first-input"===e.entryType&&!Me.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&Re(e)}));var t,i=(t=Math.min(Me.length-1,Math.floor(qe()/50)),Me[t]);i&&i.latency!==r.value&&(r.value=i.latency,r.entries=i.entries,n())},a=ae("event",i,{durationThreshold:t.durationThreshold||40});n=oe(e,r,Te,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),ce((function(){i(a.takeRecords()),r.value<0&&qe()>0&&(r.value=0,r.entries=[]),n(!0)})),te((function(){Me=[],Oe=De(),r=ie("INP"),n=oe(e,r,Te,t.reportAllChanges)})))}))}(n)}));return a.K4((n=>{let{stopped:a}=n;t++,(0,r.zG)(a,i.YP((e=>{e&&t--}))),e.metrics.isEnabled()&&o()}))};const $e=e=>(e=>"CLS"===e.name)(e)?{value:e.value,suffix:`${e.name.toLowerCase()}_score`}:(e=>["INP","FID","LCP"].includes(e.name))(e)?{value:e.value/1e3,suffix:`${e.name.toLowerCase()}_seconds`}:void 0;var Ne=n(926);const Be=(e,t)=>{const{activationManager:n,externalData:o,metrics:s,permutiveData:c}=e;return(0,r.zG)(a.of({}),a.ak("psegs",(()=>((e,t)=>a.K4((n=>{let{stopped:a}=n;const o="_psegs";(0,r.zG)(i.vP(t,a),i.YP((t=>{let[n,i]=t;i||(0,r.zG)(n,f.EQ((()=>e.removeExternalData(o)),(t=>e.setExternalJsonData(o,t))))})))})))(e.externalData,t.qlSegments))),a.ak("webVitals",(()=>Fe(e))),a.ak("nativo",(()=>H({activationManager:n,externalData:o,metrics:s,queryLanguageCohorts:t.qlSegments,...t}))),a.ak("twitterPixel",(()=>(0,Ne.twitterPixelService)({activationManager:n,metrics:s,permutiveData:c,queryLanguageCohorts:t.qlSegments,...t}))),a.ak("prebidJS",(()=>w(e))))};var Ye=n(5619);const Qe=()=>{const[e,t]=i.gS(f.uZ());return{trackEvent:e=>{let n,r,{event:i,useBeacon:a}=e;const o=new Promise(((e,t)=>{n=e,r=t}));return t([{localId:(0,c.k$)(),event:i,fail:r,succeed:n,useBeacon:a}]),o},trackedEvents:e}};n(4564);const Ke=function(e,t){return a.K4((()=>({addon:()=>({}),cohorts:i.a9(s.YP)})))};const He=(e,t)=>a.vP({contextual:Ke(e,t)}),We=function(e,t,n){return a.of({replacementMap:i.a9(s.of({$privacy_sandbox_topics_v2:[]}))})};i.a9([]),i.a9([]),i.a9([]),i.a9(Ye.b()),i.a9(s.YP),i.a9({segmentsEntered:[],segmentsExited:[]}),i.a9(!1),i.a9((e=>{let{event:t}=e;return Promise.resolve(t)})),new C,i.a9(s.YP),i.a9(!1);function Ve(e,t,n){const{addonsLoaded:u,consent:l,currentTimestampSecs:d,enabledAddons:g,identities:m,sdkVariant:p,sessionId:h,userId:v,userIdIsNewlyGenerated:b,viewId:_,pageviewState:y}=t,[w,E]=(0,r.zG)(i.Ue(i.a9(f.cS)),(e=>{let[t,n]=e;return[i.xH(t),n]})),S=s.ij(e.permutiveData.getData("event-source-id")),I=(0,r.zG)(v,i.Rp(-1,(e=>e+1)),i.UI((t=>(0,r.zG)(S,s.hX((()=>0===t)),s.fS((()=>{const t=(0,c.k$)();return e.permutiveData.setData("event-source-id",t),t}))))));return(0,r.zG)(a.vP({computeTimeMetrics:(P=e.metrics,a.K4((e=>{let{stopped:t}=e;const n=(0,o.HJ)((()=>{(0,r.zG)((0,o.iE)(),(0,c.bw)((()=>(0,o.ho)(!1))),f.UI((e=>{let[t,n]=e;return(n-t)/1e3})),(e=>{P.track({name:"sdk_ui_thread_compute_first10s_total_seconds",value:e.reduce(((e,t)=>e+t),0),labels:{}}),P.track({name:"sdk_ui_thread_compute_first10s_total_task_overrun_seconds",value:(0,r.zG)(e,f.hX((e=>e>.05)),f.UI((e=>e-.05)),f.u4(0,((e,t)=>e+t))),labels:{}}),P.track({name:"sdk_ui_thread_compute_first10s_longest_task_seconds",value:Math.max(0,...e),labels:{}})}))}),1e4);(0,r.zG)(t,i.YP((e=>e&&n())))}))),audiences:He(e,t),privacySandboxTopics:We(e,h,l)}),a.UI((e=>{const{reset:t,trackEvent:n,trackedEvents:a}=((e,t)=>{const[n,a]=i.Ue(0),o=(0,r.zG)(i.vP(n,t),i.UI((()=>[]))),s=(0,r.zG)(i.vP(o,e),i.D8(((e,t)=>{let[,n]=e,[,r]=t;return n===r})),i.UI((e=>{let[t]=e;const n=Qe();return t.forEach(n.trackEvent),n})));return{reset:()=>a(n.current+1),trackEvent:(0,r.zG)(i.vP(s,o),i.UI((e=>{let[t,n]=e;return e=>(n.push(e),t.trackEvent(e))}))),trackedEvents:(0,r.zG)(s,i.VS((e=>e.trackedEvents)))}})(v,_),[o,s,c]=(0,r.zG)(a,i.En(3,f.uZ()));return{...e,reset:t,trackEvent:n,unresolvedEvents:(0,r.zG)(o,i.UI(T.UI(f.UI((e=>(0,r.bc)(e.localId,{fail:e.fail,succeed:e.succeed})))))),eventsToProcessLocally:(0,r.zG)(s,i.UI(T.UI(f.hX((e=>!e.useBeacon))))),eventsToUploadViaBeacon:(0,r.zG)(c,i.UI(T.UI(f.hX((e=>e.useBeacon)))))}})),a.ak("eventPublication",(n=>{let{unresolvedEvents:r}=n;return Q(e,r,w,t.sdkClosing)})),a.ak("core",(o=>{let{audiences:c,eventPublication:u,eventsToProcessLocally:g,privacySandboxTopics:p}=o;return(0,r.zG)(n({contextualCohorts:c.contextual.cohorts,consent:l,currentTimestampSecs:d,enrichmentReplacementMap:p.replacementMap,eventSourceId:I,identities:m,newEvents:(0,r.zG)(g,i.UI(T.UI(f.UI((e=>(0,r.bc)(e.localId,e.event)))))),sessionId:h,userId:v,userIdIsNewlyGenerated:b,viewId:_,webClient:t.webClient,pageviewState:y}),a.bw((e=>{let{eventsToPublish:t}=e;return(0,r.zG)(t,i.UI(T.UI(Je)),u.publishEvents)})),a.bw((e=>{let{eventsToPublishOnPageUnload:t}=e;return(0,r.zG)(t,i.UI(Je),E)})),a.bw((t=>{let{externalData:n}=t;return(0,r.zG)(n,i.UI((t=>(0,r.zG)(Object.entries(t),f.UI((t=>{let[n,i]=t;return(0,r.zG)(i,s.EQ((()=>e.externalData.removeExternalData(n)),(t=>e.externalData.setExternalJsonData(n,t))))}))))))})),a.bw((t=>{let{context:n}=t;return(0,r.zG)(n,i.UI((t=>{const n=Object.entries(t);e.clientContext.updateContext(...n)})))})))})),a.bw((e=>{let{core:n,eventPublication:a,eventsToUploadViaBeacon:o}=e;return(0,r.zG)(i.vP({cohorts:n.cohorts.all,eventsIO:o,segments:n.cohorts.ql,sessionId:h,userId:v,viewId:_,webClient:t.webClient}),i.UI((e=>{let{webClient:t,...n}=e;return(0,r.zG)(t,s.UI((e=>({...n,webClient:e}))))})),i.UI(s.EQ((()=>T.of(f.bM())),(e=>{let{cohorts:t,eventsIO:n,segments:i,sessionId:a,userId:o,viewId:s,webClient:c}=e;return(0,r.zG)(n,T.UI(f.UI((e=>{let{event:n,localId:u}=e;return(0,r.bc)(u,{requiresEnrichment:!0,sdkProcessed:!1,event:{user_id:o,name:n.name,segments:i,cohorts:t,properties:{...n.properties,client:{...c,...n.properties.client??{}}},session_id:a,time:new Date,view_id:s}})}))))}))),a.publishEvents)})),a.ak("metricContext",(e=>{let{core:n}=e;return(0,r.zG)(n.geoIP,i.UI(s.tS((e=>{var t;return s.ij(null===(t=e.geo_info)||void 0===t?void 0:t.continent)}))),(e=>Ye.X({continent:e,sampleRate:t.metricSampleRate,sdkVariant:p,sessionId:h,userId:v,viewId:_})))})),a.ak("sdkql",(t=>{let{core:n}=t;return Be(e,{addonsLoaded:u,consent:l,initdAddons:g,qlSegments:n.cohorts.ql})})),a.ak("strategicPartnerships",(t=>{let{sdkql:n}=t;return((e,t)=>a.vP({prebid_identifiers:x(e,t)}))(e,{pbjs:(0,r.zG)(n.prebidJS,i.UI((e=>(0,r.zG)(e.mainPair,s.UI((e=>e.pbjs))))))})})),a.ak("mediaAndEntertainment",(t=>{let{core:n}=t;return((e,t)=>(0,r.zG)(a.vP({freewheel:G({activationManager:e.activationManager,externalData:e.externalData,...t})}),a.UI((0,r.a9)({}))))(e,{addonsLoaded:u,consent:l,initdAddons:g,queryLanguageCohorts:n.cohorts.ql})})),a.ak("advertisers",(t=>{let{sdkql:n}=t;return((e,t)=>(0,r.zG)(a.of(t),a.ak("prebidMonitoring",(t=>{let{consent:n,prebidJS:r}=t;return k(e,i.vP({consent:n,prebidJS:r}))})),a.UI(r.Q1)))(e,{consent:l,prebidJS:n.prebidJS})})),a.UI((e=>{let{core:t,audiences:n,metricContext:r,sdkql:a,trackEvent:o,eventPublication:s,strategicPartnerships:c,reset:u}=e;return{activations:t.activations,addons:{contextual:n.contextual.addon},metricContext:r,pbjsPair:i.UI((e=>e.mainPair),a.prebidJS),queryLanguageCohorts:{all:t.cohorts.ql,custom:t.cohorts.qlCustom,standard:t.cohorts.qlStandard},segmentTransitionsSinceInit:t.transitionsSinceInit,trackEvent:o,realtime:t.realtime,eventHandlerAfterUpload:s.eventHandlerAfterUpload,prebidIdentifiers:c.prebid_identifiers,reset:u,stateMigratedThisInitialisation:t.stateMigratedThisInitialisation}})));var P}const Je=f.UI((0,q.H5)((e=>({event:e,requiresEnrichment:!1,sdkProcessed:!0}))));function Xe(e){return(0,r.ls)((0,c.rO)({previousState:e=>{if("string"!=typeof e)return{};try{return JSON.parse(e)}catch{return{}}}}),e,(0,c.rO)({state:i.UI(JSON.stringify)}))}function Ze(e){const t=function(e){const{activationManager:t,api:n,clientContext:r,config:i,externalData:a,logger:o,metrics:s,permutiveData:c,network:u,urls:l,namespace:d,trace:f}=e;return{activationManager:t,api:n,clientContext:r,config:i,externalData:a,logger:o,metrics:s,permutiveData:c,permutiveApi:u,permutiveUrls:l,reportError:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.reportError(e,null==t?void 0:t.userId,null==t?void 0:t.timestamp)},namespace:d,trace:f}}(e),n=function(e){const t={addonsLoaded:e.addonsLoaded,consent:(n=e.consentTracking,(0,r.zG)(n,s.EQ((()=>i.a9(!0)),(e=>e.consentRef)))),currentTimestampSecs:l(),enabledAddons:u(e),identities:e.identities,sdkClosing:d(),metricSampleRate:e.config.metricsSamplingPercentage/100,sdkVariant:s.ij(e.sdkVariant),sessionId:i.a9(e.sessionManager.getSessionId()),userId:e.userId.ref,userIdIsNewlyGenerated:e.userId.isNewlyGenerated,viewId:e.viewId.ref,pageviewState:e.pageviewState,webClient:e.webClient};var n;return t}(e);return function(e,t,n,s){const u=5e3;return(0,r.zG)(e,function(e,t){return n=>a=>{const{value:s,state:c}=n(a),[u,l]=i.Ue(c.current),d=(0,o.UM)((()=>l(c.current)),e),f=(0,r.zG)(i.vP(c,u),i.UI((e=>{let[t,n]=e;return t===n})));return(0,r.zG)(t,i.bw((e=>e&&d()))),{value:(0,r.bc)(f,s),state:(0,r.zG)(i.vP(t,c,u),i.UI((e=>{let[t,n,r]=e;return t?n:r})))}}}(u,s),Xe,function(e){return t=>(0,r.ls)((0,c.rO)({previousState:t=>e.current?t:void 0}),t,(0,c.rO)({state:(0,r.ls)((t=>i.vP(e,t)),i.UI((e=>{let[t,n]=e;return t?n:void 0})))}))}(n),function(e){return t=>(0,r.ls)((0,c.rO)({previousState:()=>localStorage.getItem(e)}),t,(0,c.rO)({state:(0,c.bw)(i.YP((t=>{switch(typeof t){case"string":localStorage.setItem(e,t);break;case"undefined":localStorage.removeItem(e);break;case"object":if(null===t){localStorage.removeItem(e);break}throw new Error("Permutive app raised an invalid state.");default:throw new Error("Permutive app raised an invalid state.")}})))}))}(t),a.UI((e=>{let[t,n]=e;return n})))({stopped:i.a9(!1)}).value}(Ve(t,n,e.core),e.namespace.getNamespacedStorageKey("permutive-app"),n.consent,n.sdkClosing)}},2233:(e,t,n)=>{n.d(t,{iq:()=>d,B9:()=>m,ti:()=>h});var r=n(2688),i=n(787),a=n(365),o=n(2884),s=n(3735),c=n(2652);var u=n(3030);const l="__permutive.",d="__permutiveConfigQueryParams";const f={default:{windowKey:"permutive",environment:"default",apiHost:"api.permutive.com",apiKey:"",apiProtocol:"https",cdnBaseUrl:"cdn.permutive.com",cdnProtocol:"https",pxidHost:"prmutv.co",apiVersion:"v2.0",sdkErrorsApiVersion:"v2",advertiserApiVersion:"v2",classificationModelsApiVersion:"v1",loggingEnabled:!1,tracingEnabled:!1,requestTimeout:5e3,cookieDomain:"."+(0,u._Y)(window.location.hostname),cookieName:"permutive-id",cookieExpiry:function(){const e=new Date;return e.setMonth(e.getMonth()+6),e.toUTCString()}(),eventsTTLInDays:null,permutiveDataMiscKey:"permutive-data-misc",permutiveDataQueriesKey:"permutive-data-queries",stateNamespace:"",sendClientErrors:!0,metricsSamplingPercentage:20,eventsCacheLimitBytes:25e5,segmentSyncApiHost:"10453011-272d-49cd-9043-1964fdb36fd8.partner.permutive.app",consentRequired:!1,sdkType:"stable",viewId:null,localStorageDebouncedKeys:[],localStorageWriteDelay:1e3,localStorageWriteMaxDelay:1500,watson:{enabled:!0}},production:{},development:{apiProtocol:"http",loggingEnabled:!0,tracingEnabled:!0,sendClientErrors:!1}},g=e=>{const t={consentRequired:!0,loggingEnabled:!0,sendClientErrors:!0,tracingEnabled:!0},n={eventsTTLInDays:!0,eventsCacheLimitBytes:!0,metricsSamplingPercentage:!0,requestTimeout:!0,localStorageWriteDelay:!0,localStorageWriteMaxDelay:!0};return Object.keys(e).reduce(((r,i)=>{if(t.hasOwnProperty(i)){const t="true"===e[i];return{...r,[i]:t}}if(n.hasOwnProperty(i)){const t=Number(e[i]);return isNaN(t)?r:{...r,[i]:t}}return{...r,[i]:e[i]}}),{})},m=function(){let{getQueryParams:e=u.zM}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e=>Object.entries(e).reduce(((e,t)=>{let[n,r]=t;if(!(0===n.indexOf(l)))return e;const i=n.replace(l,"");return[...e,[i,r]]}),[]);return(0,s.zG)(a.Y3((()=>(0,s.zG)(e(),t,(e=>(0,c.m8)(...e)),g,(e=>p({queryConfig:e})))),(e=>`Failed to parse query params. Got ${(0,r.w)(e).message}`)))},p=e=>{let{queryConfig:t}=e;const n=(0,s.zG)(o.Y3((()=>window.sessionStorage.getItem(d))),o.tS(o.ij),o.tS((0,s.ls)(i.A,o.ij)),o.fS((()=>({}))));return(0,c.PM)(n,t)},h=(e,t)=>{const n=(e.environment&&f[e.environment])??{};return(0,c.PM)(f.default,n,e,t)}},4564:(e,t,n)=>{n.d(t,{NY:()=>p,vk:()=>f,qA:()=>d});var r=n(2688),i=n(365),a=n(3735),o=n(3582),s=n(8259),c=n(1410),u=n(2851);var l=n(30);const d=()=>({opt_in:!0,token:c.L}),f=()=>({opt_in:!1,token:""}),g=e=>{return(0,a.ls)((t=e,e=>(0,a.zG)((0,l.J)(t.consentRequired,e),(e=>{let{consentData:n,isValid:r}=e;return t.consentDatabase.put(n,c.L),r}))),(e=>{let{logger:t,messages:n}=e;return e=>{const r=e?"given":"revoked";return t.log("Consent has been",r),n.emit(`permutive:consent:${r}`),e}})(e));var t},m=e=>(t,n)=>{e.on("permutive:consent:revoked",t),e.on("permutive:consent:given",n)},p=async e=>{const{logger:t,namespace:n,consentRequired:d,messages:f}=e,p=new s.oP(window.localStorage,n),h=(0,l.J)(d,await p.get(c.L)),v=await(0,a.zG)(o.Y3((()=>p.put(h.consentData,c.L)),(e=>new Error(`LocalStorage access is required. ${(0,r.w)(e).message}`))),(e=>e()));if(i.nM(v))return v;const{consentRef:b,giveConsent:_,revokeConsent:y,isRevoked:w,isGiven:E}=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const[t,n]=u.Ue(e),r=()=>!0===t.current;return{consentRef:t,revokeConsent:()=>(n(!1),t.current),giveConsent:()=>(n(!0),t.current),isRevoked:()=>!r(),isGiven:r}}(h.isValid),S={consentRef:b,isGiven:E,isRevoked:w,listenForConsent:m(f)};S.listenForConsent(y,_);const I=g({consentDatabase:p,consentRequired:d,logger:t,messages:f});return i.F2({consentTracking:S,consentValidation:I,consentDatabase:p})}},1410:(e,t,n)=>{n.d(t,{L:()=>r});const r="permutive-consent"},4769:(e,t,n)=>{n.d(t,{v:()=>r});const r=(e,t,n)=>function(){const r=n()?t:e;return r(...arguments)}},30:(e,t,n)=>{n.d(t,{J:()=>o});var r=n(3735),i=n(2884),a=n(4564);const o=(e,t)=>(0,r.zG)((0,i.ij)(t),(t=>!1===e&&(0,i.Wi)(t)?{isValid:!0,consentData:(0,a.qA)()}:(e=>(0,i.pC)(e)&&(e=>null!==e&&"object"==typeof e)(e.value)&&(e=>{var t;return!0===e.opt_in&&"string"==typeof e.token&&(null===(t=e.token)||void 0===t?void 0:t.length)>0})(e.value))(t)?{isValid:!0,consentData:t.value}:{isValid:!1,consentData:(0,a.vk)()}))},3298:(e,t,n)=>{n.d(t,{S:()=>h});var r=n(3735),i=n(2884),a=n(5851),o=n(2851),s=n(8612),c=n(2497),u=n(3992);var l=n(2652);class d{wait_prev;block_next;task;started;complete;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.wait_prev=t.wait_prev||!1,this.block_next=t.block_next||!1,this.started=!1,this.complete=!1,this.task=e}waits(){return this.wait_prev}blocks(){return this.block_next}execute(e){this.started=!0,this.task((()=>{this.complete=!0,e()}))}}var f=n(6315);n(7305);class g{logger;api;activationManager;sessionManager;metrics;viewId;userId;network;clientContext;unprocessedEvents;taskQueue;identities;permutiveReset;messages;addons;trace;permutiveRealtime;state;customProperties;config;permutiveData;externalData;cookies;identitiesIngestor;global;nextGen;pageviewState;initialisedAddons=[];tcf;constructor(e,t,n,r,i,a,o,s,u,l,d,f,g,m,p,h,v,b,_,y,w,E,S,I,k,P,U){this.logger=e,this.api=t,this.activationManager=n,this.sessionManager=r,this.metrics=i,this.viewId=a,this.userId=o,this.network=s,this.clientContext=u,this.unprocessedEvents=l,this.taskQueue=d,this.identities=f,this.permutiveReset=g,this.messages=m,this.addons=p,this.trace=h,this.permutiveRealtime=v,this.state=b,this.customProperties=_,this.config=y,this.permutiveData=w,this.externalData=E,this.cookies=S,this.identitiesIngestor=I,this.global=k,this.nextGen=P,this.pageviewState=U,this.tcf=(0,c.SD)(window,this.logger)}identify(e){const t="[Identify]";this.logger.debug("<call> identify",e);const n=(0,l.b2)(),{left:o,right:c}=this.identities.parseCustomerDefinedIdentities(e);if(o.length>0)throw new Error(o.join(" "));const u={...this.identities.getIdentitiesMap(),...c.reduce(((e,t)=>{let{tag:n,id:r,priority:i,expiry:a}=t;return{...e,[n]:{id:r,...void 0!==i?{priority:i}:{},...void 0!==a?{expiry:a}:{}}}}),{})},g=(0,r.zG)(Object.values(u),a.DZ((e=>i.ij(e.id)))),m=this.identities.getPrioritizedIdentities(u);if("string"==typeof e&&(0,s.Bt)("10453011-272d-49cd-9043-1964fdb36fd8","10453011-272d-49cd-9043-1964fdb36fd8",g,window.location.hostname,this.userId.get()))return n.resolve(),n.promise;const p=async e=>{await(0,f.Yj)({clientContext:this.clientContext,global:this.global,identities:this.identities,logger:this.logger,reset:this.permutiveReset,userId:this.userId},e.user_id)};return this.taskQueue.add(new d((async e=>{this.logger.debug("<task> identify",c);const r=async()=>{this.logger.log(t,"request identity");const e=await this.api.identify(this.metrics,this.userId,m);this.userId.isEqual(e.user_id)?this.metrics.track({name:"sdk_identity_remained_total",value:1,labels:{identify_reason:"identify_call"}}):(this.metrics.track({name:"sdk_identity_changed_total",value:1,labels:{identify_reason:"identify_call"}}),await p(e))};this.identities.setIdentities(c).identifyRequestRequired()?await r():this.logger.log(t,"skip request"),this.logger.debug("<done> identify",c),e(),n.resolve(),await this.identitiesIngestor.ingestIfEligible(c).catch((e=>this.api.reportError(`Couldn't ingest identities, got ${e}`,this.userId.get())))}),{wait_prev:!0,block_next:!0})),n.promise}on(e,t){return this.nextGen.eventHandlerAfterUpload.addListener({name:e,callback:t,once:!1})}once(e,t){return this.nextGen.eventHandlerAfterUpload.addListener({name:e,callback:t,once:!0})}pageviewTracked=!1;track(){const[e,t,n]=[arguments.length<=0?void 0:arguments[0],(arguments.length<=1?void 0:arguments[1])||{},(arguments.length<=2?void 0:arguments[2])||{}],r=this.trace.startSpan(`track("${e}")`);this.logger.log("<call> track",e);const i=(0,l.b2)();this.pageviewTracked||"Pageview"!==e||(this.pageviewTracked=!0,this.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"pageview_tracked",time_origin:"sdk_init"})),this.metrics.trackCounter({name:"sdk_event_track_count_total",labels:{event_name:e},value:1}),i.promise.then((()=>{this.metrics.trackCounter({name:"sdk_event_track_success_count_total",labels:{event_name:e},value:1}),r.finish()}),(()=>{this.metrics.trackCounter({name:"sdk_event_track_fail_count_total",labels:{event_name:e},value:1}),r.finish()}));const a=n.unprocessedData??{},o=a.sessionId??this.sessionManager.getSessionId(),s=a.viewId??this.viewId.get(),c={success:n.success||(e=>{}),error:n.error||((e,t)=>{})};return this.taskQueue.add(new d((r=>{this.logger.log("<task> track",e);return(a.client?Promise.resolve(a.client):this.clientContext.getClient()).then((a=>{const u={name:e,properties:{...t,client:t.client?(0,l.PM)(a,t.client):a},session_id:o,view_id:s,time:new Date};return this.nextGen.trackEvent.current({event:u,useBeacon:n.useBeacon??!1}).then((e=>{this.logger.log("<done> track",u.name),c.success(e),i.resolve(u),r()})).catch((e=>{c.error(e),this.api.reportError(e,this.userId.get()),i.reject(e)}))}))}))),i.promise}trigger(e,t,n){const r=(0,l.b2)();this.logger.log("<call> trigger",e);const i=t=>(i,a)=>{if(i.properties.segment_number===e){const o={result:t};this.logger.debug("<fire> trigger",{event:i,error:a,segmentCode:e,payload:o}),n(o),r.resolve(o)}};return this.nextGen.eventHandlerAfterUpload.addListener({name:"SegmentEntry",callback:i(!0),once:!1}),this.nextGen.eventHandlerAfterUpload.addListener({name:"SegmentExit",callback:i(!1),once:!1}),this.logger.log("<done> trigger",e),r.promise}query(){return Promise.resolve({result:!1})}segment(e,t){const n=(0,l.b2)();this.logger.log("<call> segment",e);return this.taskQueue.add(new d((r=>{this.logger.log("<task> segment",e);const i=this.nextGen.queryLanguageCohorts.all.current.includes(e)||!1;t(i),n.resolve(),this.logger.log("<done> segment",e),r()}))),n.promise}segments(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";const n=(0,l.b2)();this.logger.log("<call> segments");return this.taskQueue.add(new d((r=>{this.logger.log("<task> segments ("+t+")");const i=i=>{e(i),n.resolve(i),this.logger.log("<done> segments ("+t+")"),r()};"dfp"===t?this.messages.once("permutive:dfp:ready",(()=>{this.addons.dfp&&i([...this.addons.dfp.segments.liveSegments])})):i([...this.nextGen.queryLanguageCohorts.all.current])}))),n.promise}reset(){return Promise.all([this.api.reset(this.metrics),this.identities.reset(),this.permutiveReset.reset(),this.nextGen.reset(),this.userId.reset()]).then((()=>{this.messages.emit("permutive:reset")})).catch((e=>{this.api.reportError(`Error resetting internals. Got ${e}`)}))}addon(e,t){this.logger.debug("[Addon]",`Called for ${e}`,t);const a={...t,permutive:this,api:this.api,activationManager:this.activationManager,network:this.network,clientContext:this.clientContext,logger:this.logger,unprocessedEvents:this.unprocessedEvents,metrics:this.metrics,state:this.state,messages:this.messages,userId:this.userId,viewId:this.viewId,customProperties:this.customProperties,config:this.config,permutiveData:this.permutiveData,sessionManager:this.sessionManager,addons:this.addons,externalData:this.externalData,cookies:this.cookies,nextGenOutput:this.nextGen,identities:this.identities,pageviewState:this.pageviewState,tcf:this.tcf},s=((0,r.zG)(this.nextGen.pbjsPair,o.UI(i.UI((0,l.vg)("pbjs")))),e=>{this.initialisedAddons.push(e),this.messages.emit("permutive:addon:preinit",e)});if(-1===this.initialisedAddons.indexOf(e))switch(s(e),e){case"web":Promise.resolve().then(n.bind(n,4400)).then((e=>this.addons.web=new e.WebAddon(a))).then((()=>this.messages.emit("permutive:web:ready")));break;case"publishers":Promise.resolve().then(n.bind(n,713)).then((e=>this.addons.publishers=new e.PublishersAddon(a)));break;case"overlays":case"scriptrunner":case"nativo":case"freewheel":case"tiktok_pixel":case"eyeota_pixel":case"rubicon":case"pinterest_pixel":case"local_storage":case"prebid":case"clean_room":case"smart":case"tradedesk":case"pubmatic":0;break;case"dfp":Promise.resolve().then(n.bind(n,7131)).then((async e=>this.addons.dfp=await e.createAddon(a)));break;case"facebook_pixel_v2":Promise.resolve().then(n.bind(n,4519)).then((e=>this.addons.facebook_pixel_v2=new e.FacebookV2Pixel({...a,tcfStatus:{type:"missing"}})));break;case"rubicon_ssp":Promise.resolve().then(n.bind(n,8563)).then((e=>this.addons.rubicon_ssp=new e.RubiconSspAddon(a)));break;case"tracking_pixel":Promise.resolve().then(n.bind(n,3792)).then((e=>this.addons.tracking_pixel=new e.PixelAddon(a)));break;case"twitter_pixel":Promise.resolve().then(n.bind(n,926)).then((e=>this.addons.twitter_pixel=new e.TwitterAddon(a)));break;case"appnexus_adserver":Promise.resolve().then(n.bind(n,2721)).then((e=>this.addons.appnexus_adserver=new e.AppNexusAdServerAddon(a)));break;case"classification_models":Promise.resolve().then(n.bind(n,6320)).then((e=>this.addons.classification_models=new e.ClassificationModelsAddon(a)));break;case"gam_log":Promise.resolve().then(n.bind(n,6986)).then((async e=>this.addons.gam_log=new e.GamLogAddon(a)));break;case"ddp":case"dbm":Promise.resolve().then(n.bind(n,9319)).then((e=>this.tcf.registerVendorOnValidConsent("ddp",(t=>this.addons.ddp=new e.DDPPixel({...a,tcfStatus:t})))));break;case"appnexus":Promise.resolve().then(n.bind(n,3994)).then((e=>this.tcf.registerVendorOnValidConsent("appnexus",(t=>this.addons.appnexus=new e.AppnexusPixel({...a,tcfStatus:t})))));break;case"ssp":Promise.resolve().then(n.bind(n,9097)).then((e=>this.addons.ssp=new e.SspAddon(a)))}else"web"===e&&!0!==t.auto_init&&((e,t,n,r)=>new Promise(((a,o)=>{const s=(0,i.Y3)(e);if((0,i.pC)(s))return a(s.value);n.once(t,(()=>(0,i.g_)((()=>o(new Error(`Error after waiting for event ${t}`))),a)((0,i.Y3)(e))));const c=(null==r?void 0:r.timeout)??1e4;(0,u.HJ)((()=>o(new Error(`Event ${t} was not received within the timeout period ${c}ms`))),c)})))((()=>{if(!this.addons.web)throw new Error('"web" addon not ready');return this.addons.web.reset(t)}),"permutive:web:ready",this.messages).catch((e=>{this.api.reportError(`Got error while trying to reset web. Got ${e.message}`,this.state.userId.get())}))}ready(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"initialised";const n=(0,l.b2)(),r=()=>{e(),n.resolve()};switch(t){case"initialised":this.permutiveRealtime.isReady()?r():this.messages.on("permutive:ready",r);break;case"realtime":this.permutiveRealtime.isRealtime()?r():this.messages.once("permutive:realtime",r)}return n.promise}}var m=n(4769);const p=e=>{const{logger:t,consentTracking:n}=e,i=function(){return t.debug("Methods[track]: Cannot track as consent is revoked"),Promise.resolve(null)};return e=>class extends e{constructor(){super(...arguments),n.isRevoked()&&this.consentRevoked(),n.listenForConsent((()=>this.consentRevoked()),r.Q1)}async consentRevoked(){return await this.sessionManager.reset(),this.reset()}track=(0,m.v)(super.track.bind(this),i,n.isRevoked)}},h=(e,t,n,i,a,o,s,c,u,l,d,f,m,h,v,b,_,y,w,E,S,I,k,P,U,x,G,z)=>new((0,r.zG)(g,p({consentTracking:x,logger:e})))(e,t,n,i,a,o,s,c,u,l,d,f,m,h,v,b,_,y,w,E,S,I,k,P,U,G,z)},6315:(e,t,n)=>{n.d(t,{Yj:()=>c,TZ:()=>s});var r=n(2688),i=n(2652);var a=n(8612);const o=async e=>{await e.identities.thirdParty,await function(e,t){return(0,a.Bt)("10453011-272d-49cd-9043-1964fdb36fd8","10453011-272d-49cd-9043-1964fdb36fd8",e.identities.getPrioritizedIdentities(e.identities.getIdentitiesMap()).map((e=>e.id)),window.location.hostname,e.userId.get())?t.reset():Promise.resolve()}(e,e.permutiveMethods);const t=await function(e){const t=e.trace.startSpan("identify");0;return(async e=>{const t="[Identify Init]",{logger:n,api:r,userId:a,identities:o,metrics:s,identitiesIngestor:c,messages:u,sessionManager:l}=e,d=await o.thirdParty,f=o.extractIdentifyFromQueue(e),g={...o.getIdentitiesMap(),...f.reduce(((e,t)=>{let{tag:n,id:r,priority:i,expiry:a}=t;return{...e,[n]:{id:r,...a?{expiry:a}:{},...void 0!==i?{priority:i}:{}}}}),{})},m=o.setIdentities(Object.entries(g).map((e=>{let[t,{id:n,priority:r,expiry:i}]=e;return{tag:t,id:n,...i?{expiry:i}:{},...void 0!==r?{priority:r}:{}}})));o.setReady();const p=o.getPrioritizedIdentities(g);n.log("Begin identification");const h=e.sessionCount>1&&l.sessionHasChanged()||d.identifyRequestRequired()||m.identifyRequestRequired()?await(n.debug(t,"request identity"),r.identify(s,a,p).then((e=>{const r=e.user_id;return a.isEqual(r)?{identityChanged:!1}:(n.debug(t,"fetch received new user id",r),{identityChanged:!0,userId:r})})).catch((e=>(r.reportError(`${t} Fetch failed. Got ${e}`,a.get()),{identityChanged:!1}))).then((0,i.bw)((t=>e.metrics.track({name:`sdk_identity_${t.identityChanged?"changed":"remained"}_total`,value:1,labels:{identify_reason:"sdk_init"}}))))):(n.debug(t,"skip request"),{identityChanged:!1});return c.ingestIfEligible(p).catch((e=>r.reportError(`Couldn't ingest identities, got ${e}`,h.identityChanged?h.userId:a.get()))),u.emit("permutive:user:ready"),n.debug(t,"result",h),h})(e).catch((t=>(e.api.reportError(`Failed to identify. Got ${(0,r.w)(t)}`),{identityChanged:!1}))).then((e=>(t.finish(),e)))}(e);return t.identityChanged?await c(e,t.userId):e.logger.log("Identity has not changed"),t},s=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>{};o(e).then(t),u(e.global,e.clientContext)};async function c(e,t){e.logger.log("Identity has changed"),await e.reset.reset(),e.userId.set(t),u(e.global,e.clientContext),e.identities.setIdentities([])}function u(e,t){return e.context=t.getContext()}},5919:(e,t,n)=>{function r(e,t,n,r){r.debug("set SDK as ready"),e.emit("permutive:api:ready"),e.emit("permutive:queries:initialised"),t.track({name:"sdk_local_storage_byte_total",value:n.getStateSizeInBytes(),labels:{}}),r.warn("sdk_query_states_byte_total metric needs re-implementing")}n.d(t,{R:()=>r})},7078:(e,t,n)=>{n.d(t,{LA:()=>s});var r=n(5851),i=n(7209),a=n(2652);const o=(e,t,n)=>{let{api:r,state:i}=n;r.reportError(`Function "permutive.${t.functionName}" caused an error: ${e.message}`,i.userId.get())};function s(e,t,n,r,i,a){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:d;const u=c(e),l=a.startSpan("queued_methods"),f={api:i,state:t},g=e=>{if(e.functionName in n){n[e.functionName].apply(r,e.arguments)}else o(new Error("Does not exist."),e,f)},m=e=>!s.includes(e);u.forEach((e=>{try{m(e.functionName)&&g(e)}catch(t){const n=t instanceof Error?t:new Error("Unknown error.");o(n,e,f)}})),l.finish()}function c(e){const t=(0,r.uK)((e=>-1!==l.indexOf(e.functionName)))(e),n=t.right,o=t.left.filter((e=>"consent"!==e.functionName)),s=(0,i.Zt)(((e,t)=>u(e)&&u(t)?(0,a.lW)(f).compare(e.arguments[0],t.arguments[0]):(0,a.lW)(l).compare(e.functionName,t.functionName)));return(0,r.DY)(s)(n).concat(o)}const u=e=>"addon"===e.functionName,l=["identify","trigger","addon","track"],d=["identify"],f=["dfp","appnexus_adserver","web"]},7271:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{initialiseWebSDK:()=>initialiseWebSDK});var _permutive_permutive_utils_ts_error__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(2688),fp_ts_Option__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(2884),fp_ts_Either__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(365),fp_ts_function__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(3735),fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(3582),_framework_ref__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2851),_identity_legacy_NeustarFabrickIdentitiesIngestor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6967),_identity_legacy_PermutiveIdentities__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8612),_identity_legacy_PermutiveIdentitiesIngestorNoOp__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(7658),_sdkql_blockers__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(122),_core_activations_PermutiveActivationManagerWeb__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8975),_core_activations_PermutiveAddons__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9853),_core_context_PermutiveClientContextWeb__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(2836),_sdkql_event_collection_events_cache_store_crypto_HashcodeDigest__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6197),_sdkql_event_collection_events_cache_store_crypto_SHA256Digest__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6272),_sdkql_event_collection_PermutiveEventCustomProps__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(7748),_core_events_unprocessed_UnprocessedPrebidAuctions__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(1568),_core_metrics_MetricReporter__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6478),_core_state_PermutiveRealtime__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(7575),_core_state_PermutiveReset__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(3898),_core_state_PermutiveStateWeb__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(7274),_core_state_PermutiveViewId__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(9880),_core_store_LocalStorage__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(7554),_core_tcf_TCF__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2497),_dynamic_addons_LoadAddons__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6037),_dynamic_messages_PermutiveMessages__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(9078),_http_PermutiveApi__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(7423),_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2652),_utils_task_queue_PermutiveTaskQueue__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(4996),_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(3030),_Config__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2233),_initialisation_identity__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6315),_initialisation_initialisationLifecycle__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(5919),_initialisation_queuedMethods__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(7078),_PermutiveMethodsWeb__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(3298),_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(3992),fp_ts_Task__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(7407),main_core_store_SessionStorage__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(9332),main_http_PermutiveNetwork__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(7354);const prefix="[Initialisation Web]",initialiseWebSDK=_ref=>{let{cookieStore,consentModule,core,externalData,localStorage,logger,messages,metrics,namespace,pageviewState,partialTagWithKey,permutiveData,sessionManager,tag,trace,configFromQueryParams,urls,userId}=_ref;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_21__.Y3)((async()=>{const windowKey=partialTagWithKey.key,permutiveGlobal=window[windowKey],config=tag.config,viewId=(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(pageviewState.ref,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.UI((e=>e.viewId)),(e=>new _core_state_PermutiveViewId__WEBPACK_IMPORTED_MODULE_23__.W(e))),network=new main_http_PermutiveNetwork__WEBPACK_IMPORTED_MODULE_20__.E(metrics),sessionStorage=(0,main_core_store_SessionStorage__WEBPACK_IMPORTED_MODULE_19__.u)(namespace,logger,consentModule.consentTracking.consentRef),{consentTracking,consentValidation}=consentModule;(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(consentTracking.consentRef,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.YP((e=>{e?sessionStorage.put(configFromQueryParams,_Config__WEBPACK_IMPORTED_MODULE_14__.iq).then(fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.Q1,(e=>{logger.warn(prefix,`Failed to cache "${_Config__WEBPACK_IMPORTED_MODULE_14__.iq}".`,(0,_permutive_permutive_utils_ts_error__WEBPACK_IMPORTED_MODULE_24__.w)(e))})):sessionStorage.delete(_Config__WEBPACK_IMPORTED_MODULE_14__.iq)}))),window[windowKey].consent=consentValidation;const context=(0,_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_12__.PM)(tag.context||{},{path:window.location.pathname,url:(0,_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_25__.bk)(window.location.href),referrer:(0,_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_25__.bk)(document.referrer),view_id:viewId.get()}),createInternalsSpan=trace.startSpan("internals"),clientContext=new _core_context_PermutiveClientContextWeb__WEBPACK_IMPORTED_MODULE_26__.z(context);(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(viewId.ref,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.YP((e=>clientContext.updateContext(["view_id",e])))),(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(userId.ref,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.YP((e=>clientContext.updateContext(["user_id",e]))));const api=new _http_PermutiveApi__WEBPACK_IMPORTED_MODULE_11__.F(urls,config,network,metrics,logger),identityProviderEnv={permutive:permutiveGlobal,network,api,userId,metrics,permutiveData,messages,config,cookies:cookieStore,logger},identities=new _identity_legacy_PermutiveIdentities__WEBPACK_IMPORTED_MODULE_2__.lg(metrics,trace,permutiveData,identityProviderEnv,logger),identitiesIngestor=new _identity_legacy_PermutiveIdentitiesIngestorNoOp__WEBPACK_IMPORTED_MODULE_27__.z,permutiveRealtime=new _core_state_PermutiveRealtime__WEBPACK_IMPORTED_MODULE_28__.u(trace,metrics,messages),unprocessedArgs={consent:consentTracking.consentRef,logger,namespace},unprocessedEvents={PrebidAuctions:new _core_events_unprocessed_UnprocessedPrebidAuctions__WEBPACK_IMPORTED_MODULE_29__.J(unprocessedArgs)},customProperties=new _sdkql_event_collection_PermutiveEventCustomProps__WEBPACK_IMPORTED_MODULE_7__.X,permutiveReset=new _core_state_PermutiveReset__WEBPACK_IMPORTED_MODULE_30__.a(config,localStorage,logger,permutiveData,cookieStore,externalData),taskQueue=new _utils_task_queue_PermutiveTaskQueue__WEBPACK_IMPORTED_MODULE_13__.i(messages),activationManager=new _core_activations_PermutiveActivationManagerWeb__WEBPACK_IMPORTED_MODULE_3__.v(logger,permutiveGlobal,clientContext),[addonsLoadedRef,setAddonsLoaded]=_framework_ref__WEBPACK_IMPORTED_MODULE_0__.Ue(!1),webClient=(()=>{const[e,t]=_framework_ref__WEBPACK_IMPORTED_MODULE_0__.Ue(Date.now());return(0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_18__.UM)((()=>t(Date.now())),1e3),(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(_framework_ref__WEBPACK_IMPORTED_MODULE_0__.vP(viewId.ref,e),_framework_ref__WEBPACK_IMPORTED_MODULE_0__.UI((()=>(0,_core_context_PermutiveClientContextWeb__WEBPACK_IMPORTED_MODULE_26__.k)())),_framework_ref__WEBPACK_IMPORTED_MODULE_0__.D8(((e,t)=>e===t||JSON.stringify(e)===JSON.stringify(t))))})(),eventCacheStoreFactory=()=>(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)((0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_18__.N1)((0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)((0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_21__.Y3)((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,9381))),String),trace.traceTask("import-DBStore-main-thread"))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_21__.UI)((e=>{let{DBStore:t}=e;return new t((0,_core_store_LocalStorage__WEBPACK_IMPORTED_MODULE_31__.E)(namespace,logger,consentTracking.consentRef))}))),eventsCacheFactory=()=>(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)((0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_18__.SF)((0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)((0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_21__.Y3)((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,5717))),String),trace.traceTask("import-events-cache"))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_21__.tS)((e=>{let{EventsCache:t}=e;return(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(t.initialise(config,logger,(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};api.reportError(e,null==t?void 0:t.userId,null==t?void 0:t.timestamp)}),trace,metrics,userId.ref,eventCacheStoreFactory),trace.traceTask("initialise-events-cache-main-thread"))}))),nextGen=await(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)((0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_18__.SF)((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,4317)))),trace.traceTask("import-next-gen"),fp_ts_Task__WEBPACK_IMPORTED_MODULE_32__.Qt("configureCore",core),fp_ts_Task__WEBPACK_IMPORTED_MODULE_32__.UI((e=>{let{runNextGenFeatures:t,configureCore:n}=e;return t({activationManager,addonsLoaded:addonsLoadedRef,api,clientContext,config,consentTracking:fp_ts_Option__WEBPACK_IMPORTED_MODULE_33__.G(consentTracking),core:n({eventsCacheFactory,migratedStateMaps:()=>({internal:(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(permutiveData.getData("internal_query_states"),fp_ts_Option__WEBPACK_IMPORTED_MODULE_33__.DT(_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_12__.Kn)),external:(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(permutiveData.getData("external_query_states"),fp_ts_Option__WEBPACK_IMPORTED_MODULE_33__.DT(_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_12__.Kn))})}),externalData,identities:identities.ref,logger,messages,metrics,namespace,network,permutiveData,sessionManager,urls,userId,viewId,pageviewState:pageviewState.ref,trace,webClient:(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(webClient,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.UI(fp_ts_Option__WEBPACK_IMPORTED_MODULE_33__.of))})})))();(0,_core_metrics_MetricReporter__WEBPACK_IMPORTED_MODULE_8__.p)({api,context:nextGen.metricContext,logger,messages,metrics});const state=new _core_state_PermutiveStateWeb__WEBPACK_IMPORTED_MODULE_34__.u(permutiveData,permutiveReset,userId,viewId,logger),addons={},permutiveMethods=(0,_PermutiveMethodsWeb__WEBPACK_IMPORTED_MODULE_17__.S)(logger,api,activationManager,sessionManager,metrics,viewId,userId,network,clientContext,unprocessedEvents,taskQueue,identities,permutiveReset,messages,addons,trace,permutiveRealtime,state,customProperties,config,permutiveData,externalData,cookieStore,identitiesIngestor,permutiveGlobal,consentTracking,nextGen,pageviewState);createInternalsSpan.finish(),[].forEach((s=>{fp_ts_Either__WEBPACK_IMPORTED_MODULE_35__.Y3((()=>eval(s)),(e=>{api.reportError({...e,message:`Error running custom script ${s}`},userId.get())}))}));const blockers=(0,_sdkql_blockers__WEBPACK_IMPORTED_MODULE_36__.X)({logger,messages});blockers.addBlocker("permutive:queries:initialised");const initialIdentifyResult=(0,_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_12__.b2)();let globalIdentifyBound=!1;messages.on("permutive:user:ready",(()=>{permutiveGlobal.identify=permutiveMethods.identify.bind(permutiveMethods),globalIdentifyBound=!0;const e=identities.extractIdentifyFromQueue({global:permutiveGlobal});e.length>0?initialIdentifyResult.resolve(permutiveGlobal.identify(e)):initialIdentifyResult.resolve()})),messages.on("permutive:blockers:empty",(()=>{if(!globalIdentifyBound){const e=permutiveGlobal.identify;permutiveGlobal.identify=t=>(e(t),initialIdentifyResult.promise)}permutiveGlobal.on=permutiveMethods.on.bind(permutiveMethods),permutiveGlobal.once=permutiveMethods.once.bind(permutiveMethods),permutiveGlobal.track=permutiveMethods.track.bind(permutiveMethods),permutiveGlobal.trigger=permutiveMethods.trigger.bind(permutiveMethods),permutiveGlobal.query=permutiveMethods.query.bind(permutiveMethods),permutiveGlobal.segment=permutiveMethods.segment.bind(permutiveMethods),permutiveGlobal.segments=permutiveMethods.segments.bind(permutiveMethods),permutiveGlobal.reset=permutiveMethods.reset.bind(permutiveMethods),permutiveGlobal.ready=permutiveMethods.ready.bind(permutiveMethods),permutiveGlobal.addon=permutiveMethods.addon.bind(permutiveMethods),permutiveGlobal.context=clientContext.getContext(),permutiveGlobal.addons=addons,permutiveGlobal.config=config,permutiveRealtime.setAsReady(),(0,_initialisation_queuedMethods__WEBPACK_IMPORTED_MODULE_16__.LA)(permutiveGlobal.q,state,permutiveGlobal,permutiveMethods,api,trace),setAddonsLoaded(!0)}));const loadAddonsSpan=trace.startSpan("load_addons");(0,_dynamic_addons_LoadAddons__WEBPACK_IMPORTED_MODULE_10__.C)({extMessages:new _dynamic_messages_PermutiveMessages__WEBPACK_IMPORTED_MODULE_37__.a(messages),nextGen,messages,viewId,state,sessionManager,api,clientContext,externalData,logger,metrics,namespace,network,permutive:permutiveGlobal,q:permutiveGlobal.q,userId}),loadAddonsSpan.finish(),await(0,_initialisation_identity__WEBPACK_IMPORTED_MODULE_15__.TZ)({api,clientContext,externalData,global:permutiveGlobal,identities,identitiesIngestor,logger,messages,metrics,network,permutiveMethods,reset:permutiveReset,trace,userId,sessionManager,sessionCount:nextGen.metricContext.current.session_count}),(0,_initialisation_initialisationLifecycle__WEBPACK_IMPORTED_MODULE_38__.R)(messages,metrics,state,logger),(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(_framework_ref__WEBPACK_IMPORTED_MODULE_0__.vP(nextGen.realtime,nextGen.queryLanguageCohorts.all),_framework_ref__WEBPACK_IMPORTED_MODULE_0__.D8(((e,t)=>e[0]===t[0])),_framework_ref__WEBPACK_IMPORTED_MODULE_0__.bw((e=>{let[t,n]=e;t&&permutiveRealtime.setAsRealtime(n.length)})))}),(e=>`Exception during initialisation. Got ${e}`))}},4095:(e,t,n)=>{n.r(t),n.d(t,{runSdk:()=>te});var r=n(365),i=n(3735);var a=n(3582),o=n(7407),s=n(2884);var c=n(5700);class u{namespace;config;logger;constructor(e,t,n){this.namespace=e,this.config=t,this.logger=n}makeCookie(e,t,n){return[encodeURIComponent(this.namespace.getNamespacedStorageKey(e)),"=",t?encodeURIComponent(t):"","; expires=",n,"; domain=",this.config.cookieDomain,"; path=/; samesite=none; secure"].join("")}setCookie(e,t){if(!(t&&e&&this.config.cookieExpiry&&this.config.cookieDomain)){const{cookieExpiry:n,cookieDomain:r}=this.config??{};throw this.logger.warn(`Unable to set cookie. ${c.LP}`,{value:t,cookieName:e,cookieExpiry:n,cookieDomain:r}),new Error(c.LP)}const n=this.makeCookie(e,t,this.config.cookieExpiry);if(n.length>c.dG)throw this.logger.warn(`Unable to set cookie ${this.namespace.getNamespacedStorageKey(e)}. ${c.eP}`),new Error(c.eP);return this.logger.debug(`Setting cookie ${n}`),document.cookie=n,!0}getCookie(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e:this.namespace.getNamespacedStorageKey(e),n=new RegExp("\\b"+encodeURIComponent(t)+"=([^;]+)").exec(document.cookie);return null!==n?decodeURIComponent(n[1]):null}deleteCookie(e){if(!e||!this.config.cookieDomain)return!1;const t=this.makeCookie(e,void 0,"Thu, 01 Jan 1970 00:00:00 UTC");return this.logger.debug(`Deleting cookie ${t}`),document.cookie=t,!0}}var l=n(4769);const d=e=>{const{logger:t,consentTracking:n}=e,r=e=>(t.debug(`Cookie: Failed to set cookie ${e} as consent is revoked`),!1);return e=>class extends e{setCookie=(0,l.v)(super.setCookie.bind(this),r,n.isRevoked)}};var f=n(2688),g=n(787);class m{namespace;constructor(e){this.namespace=e}getExternalData(e){const t=this.namespace.getNamespacedStorageKey(e);return window.localStorage.getItem(t)}getExternalJsonData(e){const t=this.getExternalData(e);return null===t?null:(0,g.A)(t)}setExternalData(e,t){const n=this.namespace.getNamespacedStorageKey(e);try{window.localStorage.setItem(n,t)}catch(e){}}setExternalJsonData(e,t){return(0,i.zG)((n=t,(0,r.Y3)((function(){var e=JSON.stringify(n);if("string"!=typeof e)throw new Error("Converting unsupported structure to JSON");return e}),i.yR)),(0,r.UI)((t=>this.setExternalData(e,t))),(0,r.g_)((e=>{throw(0,f.w)(e)}),i.Q1));var n}removeExternalData(e){const t=this.namespace.getNamespacedStorageKey(e);window.localStorage.removeItem(t)}}const p=e=>{const{logger:t,consentTracking:n}=e,r=e=>{t.debug(`External Data: Failed to set key ${e} as consent is revoked`)},i=r,a=r;return e=>class extends e{setExternalData=(0,l.v)(super.setExternalData.bind(this),i,n.isRevoked);setExternalJsonData=(0,l.v)(super.setExternalJsonData.bind(this),a,n.isRevoked)}};var h=n(3992);class v{sdkInitTimestamp;prefix="[Permutive]"+(self.document?"[Main]":"[Worker]");debugStyle=["color: blue"].join(";");constructor(e){this.sdkInitTimestamp=e}get timeDeltaFromInit(){return`[${(new Date).getTime()-this.sdkInitTimestamp}ms]`}log(){return console.log.bind(self.console,this.timeDeltaFromInit,this.prefix)(...arguments)}debug(){return console.debug.bind(self.console,"%s%c%s",this.timeDeltaFromInit,this.debugStyle,this.prefix)(...arguments)}warn(){return console.warn.bind(self.console,this.timeDeltaFromInit,this.prefix)(...arguments)}error(){return console.error.bind(self.console,this.timeDeltaFromInit,this.prefix)(...arguments)}}class b{log(){}debug(){}warn(){}error(){}}const _="[MESSAGES]";class y{logger;messageListenerMap={};replayQueue={};onceTracker={};defaultMessageOptions={withReplay:!1,once:!1};constructor(e){this.logger=e}on(e,t,n){const r=this.mergeMessageOptions(n);r.withReplay&&this.processReplayQueue(e,t);const i=w(e,this.messageListenerMap).push(t)-1;return r.once&&this.addToOnceTracker(e,i),i}once(e,t){return this.on(e,t,{once:!0})}off(e,t){if(null==t)return this.messageListenerMap[e]=[],void(this.replayQueue[e]=[]);t<0?this.logError('Index for "off" fell out of range',{index:t}):w(e,this.messageListenerMap)[t]=i.Q1}emit(e,t,n){const r=this.mergeMessageOptions(n);w(e,this.messageListenerMap).length>0?(this.logDebug(`Emitting Event: ${e}`),this.emitMessageWithPayload(e,t)):r.withReplay&&this.addToReplayQueue(e,t)}addToReplayQueue(e,t){w(e,this.replayQueue).push(t)}processReplayQueue(e,t){var n;null===(n=this.replayQueue[e])||void 0===n||n.forEach((e=>t(e)))}emitMessageWithPayload(e,t){var n;null===(n=this.messageListenerMap[e])||void 0===n||n.forEach(((n,r)=>{n(t),this.removeListenerIfSetToFireOnlyOnce(e,r)}))}addToOnceTracker(e,t){w(e,this.onceTracker).push(t)}removeListenerIfSetToFireOnlyOnce(e,t){var n;null!==(n=this.onceTracker[e])&&void 0!==n&&n.includes(t)&&this.off(e,t)}mergeMessageOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...this.defaultMessageOptions,...e}}logError(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(_,...t)}logDebug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(_,...t)}}const w=(e,t)=>t[e]??=[];var E=n(1828);class S{sdkInitTimestamp;timeOriginSdkInit;logger;prefix="[Metrics]";timeOriginForContext=P();pendingMetrics=[];pendingCounters={};pendingTimers={};constructor(e,t,n){this.sdkInitTimestamp=e,this.timeOriginSdkInit=t,this.logger=n}isEnabled(){return!0}consume(){const e=this.pendingMetrics.concat(Object.values(this.pendingCounters).flat());return this.pendingMetrics=[],this.pendingCounters={},e}track(e){this.logDebug(`Tracking ${e.name}`,{metric:e}),this.pendingMetrics.push(e)}trackCounter(e){if(this.logDebug(`Tracking ${e.name}`,{metric:e}),e.name in this.pendingCounters){const t=Object.keys(e.labels),n=this.pendingCounters[e.name].findIndex((n=>Object.keys(n.labels).length===t.length&&t.every((t=>n.labels[t]===e.labels[t]))));-1===n?this.pendingCounters[e.name].push(e):this.pendingCounters[e.name][n]=k(this.pendingCounters[e.name][n],e.value)}else this.pendingCounters[e.name]=[e]}synchroniseTimeBetweenContexts(e){return(0,i.zG)(E.gz(s.G5)(this.timeOriginForContext,this.timeOriginSdkInit),s.UI((t=>{let[n,r]=t;return e+n-r})))}trackTimeSinceInit(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:performance.now();(0,i.zG)(this.synchroniseTimeBetweenContexts(n),s.UI((e=>(e-this.sdkInitTimestamp)/1e3)),s.UI((n=>this.track({name:e,value:n,labels:t}))))}startTimer(e,t){const n=performance.now(),r=this.generateRandomKey(e);return this.pendingTimers[r]={startTime:n,labels:t},r}stopTimer(e,t){const n=this.pendingTimers[t];if(n){const r=(performance.now()-n.startTime)/1e3;this.logDebug("timer stopped",e,r),this.track({name:e,value:r,labels:n.labels}),delete this.pendingTimers[t]}}generateRandomKey(e){return`${e}-${[...Array(24)].map((()=>Math.random().toString(36)[2])).join("")}`}logDebug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(this.prefix,...t)}}class I{isEnabled(){return!1}consume(){return[]}track(e){}trackCounter(e){}trackTimeSinceInit(e,t){}startTimer(e,t){return""}stopTimer(e,t){}}const k=(e,t)=>({...e,value:e.value+t}),P=()=>(0,i.zG)(s.Y3((()=>performance.timeOrigin)),s.hX((e=>"number"==typeof e&&!Number.isNaN(e))));var U=n(2652),x=n(4730),G=n(926);class z{config;namespace;logger;prefix="[Data Store]";permutiveData={};permutiveDataSize=0;localStorageScheduler;localStorageQueue=new Set;debouncedStorageKeys;debouncedFlush;constructor(e,t,n){this.config=e,this.namespace=t,this.logger=n,this.localStorageScheduler=new x.b(e.localStorageWriteDelay,e.localStorageWriteMaxDelay),this.debouncedFlush=this.localStorageScheduler.schedule(this.flushLocalStorageQueue.bind(this)),this.debouncedStorageKeys=new Set(e.localStorageDebouncedKeys),this.localStorageScheduler.scheduleForPageUnload(this.flushLocalStorageQueue.bind(this)),this.permutiveData=this.buildData()}reset(){this.permutiveData={}}getDataSize(){return this.permutiveDataSize}getData(e){return this.permutiveData[e]}setData(e,t){this.permutiveData[e]=t,this.requestWrite(e)}deleteKey(e){delete this.permutiveData[e],this.requestWrite(e)}requestWrite(e){this.debouncedStorageKeys.has(e)?(this.localStorageQueue.add(e),this.debouncedFlush()):this.writeData(e)}flushLocalStorageQueue(){for(let e of this.localStorageQueue)this.writeData(e);this.localStorageQueue.clear()}buildData(){return{...this.getDataChunk("misc"),...this.getDataChunk("queries")}}getDataChunk(e){const t=this.namespace.getNamespacedStorageKey(this.chunkKeyToStorageKey(e)),n=window.localStorage.getItem(t),r=null===n?null:(0,g.A)(n);return n&&r?(this.permutiveDataSize+=2*n.length,r):{}}chunkKeyToStorageKey(e){switch(e){case"queries":return this.config.permutiveDataQueriesKey;case"misc":return this.config.permutiveDataMiscKey;default:throw new Error(`Unhandled chunk key "${e}"`)}}writeData(e){this.logger.debug(`Data Store: Writing ${e} to localStorage`);const[t,n]=this.dataKeyToChunkInfo(e);return r.Y3((()=>window.localStorage.setItem(this.namespace.getNamespacedStorageKey(t),JSON.stringify(n))),(t=>{const n=(0,f.w)(t);return this.logError(`Failed to set ${e}. Got ${n}`),n}))}dataKeyToChunkInfo(e){const t=e=>(0,U.eu)(this.permutiveData,e);switch(e){case"internal_query_states":case"external_query_states":case"event-source-id":return[this.chunkKeyToStorageKey("queries"),t(D)];case G.TWITTER_PIXEL_LS_KEY:case"identities":case"amp_ready":case"metricsEnabled":case"addon:tradedesk":case"addon:tracking_pixel":case"addon:eyeota_pixel":case"addon:pinterest_pixel":case"addon:facebook_pixel_v2":case"addon:tiktok_pixel":case"addon:appnexus":case"addon:ddp":case"addon:gigya":case"addon:neustar_fabrick":case"pubmatic":case"lotame":return[this.chunkKeyToStorageKey("misc"),t(C)];default:throw new Error(`Unhandled data key "${e}"`)}}logError(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(this.prefix,...t)}}const D=["internal_query_states","external_query_states","event-source-id"],C=[G.TWITTER_PIXEL_LS_KEY,"identities","amp_ready","metricsEnabled","addon:tradedesk","addon:tracking_pixel","addon:eyeota_pixel","addon:pinterest_pixel","addon:facebook_pixel_v2","addon:tiktok_pixel","addon:appnexus","addon:ddp","addon:gigya","addon:neustar_fabrick","pubmatic","lotame"],T=e=>{const{logger:t,consentTracking:n}=e,i=e=>(t.debug(`Data Store: Failed to write ${e} as consent is revoked`),r.F2(void 0));return e=>class extends e{writeData=(0,l.v)(super.writeData.bind(this),i,n.isRevoked)}};class O{config;constructor(e){this.config=e}getNamespacedStorageKey(e){return`${this.config.stateNamespace}${e}`}}var q=n(2851);class M{config;cookies;externalData;ref;isNewlyGenerated;setState;constructor(e,t,n,r){this.config=e,this.cookies=t,this.externalData=n;const[a,o]=q.Ue(this.getOrGenerateUserId());this.ref=(0,i.zG)(a,q.UI((e=>e.userId))),this.isNewlyGenerated=(0,i.zG)(a,q.UI((e=>e.isNewlyGenerated))),this.setState=o,(0,i.zG)(q.vP(this.ref,r),q.YP((e=>{let[t,n]=e;n?(this.cookies.setCookie(this.config.cookieName,t),this.externalData.setExternalData(this.config.cookieName,t)):(this.cookies.deleteCookie(this.config.cookieName),this.externalData.removeExternalData(this.config.cookieName))})))}isEqual(e){return this.ref.current===e}get(){return this.ref.current}set(e){this.setState({userId:e,isNewlyGenerated:!1})}reset(){this.setState({userId:(0,U.k$)(),isNewlyGenerated:!0})}getOrGenerateUserId(){return(0,i.zG)(this.getUserIdFromCookie(),s.wp((()=>this.getUserIdFromLocalStorage())),s.UI((e=>({userId:e,isNewlyGenerated:!1}))),s.fS((()=>({userId:(0,U.k$)(),isNewlyGenerated:!0}))))}getUserIdFromCookie(){return this.getUserIdFromStorageIfValid("cookie")}getUserIdFromLocalStorage(){return this.getUserIdFromStorageIfValid("localStorage")}getUserIdFromStorageIfValid(e){const t=s.DT(U.Gz);return(0,i.zG)("cookie"===e?this.cookies.getCookie(this.config.cookieName):this.externalData.getExternalData(this.config.cookieName),s.ij,s.tS(t))}}class A{config;PATH_JOINER_Q="?";PATH_JOINER_A="&";constructor(e){this.config=e}getBaseUrl(){return`${this.config.apiProtocol}://${this.config.apiHost}`}getEndpointUrl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("base",e,t,n)}getSdkErrorsUrl(e,t){return this.getUrl("sdk-errors",e,t,[])}getAdvertiserEndpointUrl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("adv",e,t,n)}getClassificationModelsEndpointUrl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("clm",e,t,n)}getAudienceMatchingEndpointUrl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const i=`${e}/${n}/audiences`;return this.getUrl("audience-matching",i,t,r)}getCCSCohortMembershipEndpointUrl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("ccs",e,t,n)}makeAuthenticatedUrl(e){return this.makeUrlWithQueryParams(e,[["k",this.config.apiKey]])}getUrlPrefix(e){switch(e){case"base":return"";case"adv":return"/adv";case"sdk-errors":return"/sdk-errors";case"clm":return"/clm";case"audience-matching":return"/audience-matching";case"ccs":return"/ccs"}}getUrl(e,t,n,r){const i=this.getUrlPrefix(e),a=(0,s.g_)((()=>""),(e=>`/${e}`))(n),o=`${this.getBaseUrl()}${i}${a}${t}`;return this.makeUrlWithQueryParams(o,r.concat([["k",this.config.apiKey]]))}makeUrlWithQueryParams(e,t){const n=t.map((e=>{let[t,n]=e;return`${t}=${n}`})).join(this.PATH_JOINER_A),r=e.includes(this.PATH_JOINER_Q)?this.PATH_JOINER_A:this.PATH_JOINER_Q;return`${e}${r}${n}`}}const R=`permutive.${self.document?"main":"worker"}.`;class j{config;shouldUsePerformanceMark=!1;constructor(e){var t;this.config=e,this.shouldUsePerformanceMark=((null===(t=self.performance)||void 0===t?void 0:t.mark)&&this.config.tracingEnabled)??!1}startSpan(e){const t=this.generateSpan(e);return t.start(),{spanId:t.spanId,finish:t.finish}}measureSinceInit(e){const t=this.generateSpan(`${e}_since_init`);return t.start({startTime:h.NC}),{spanId:t.spanId,finish:t.finish}}traceTask(e){return t=>async()=>{const n=this.startSpan(e),r=await t();return n.finish(),r}}measureBetween(e,t,n){const r=this.generateSpan(e);r.start({startTime:t}),r.finish({startTime:n})}generateSpan(e){if(!this.shouldUsePerformanceMark)return{spanId:null,start:()=>{},finish:()=>{}};const{spanName:t,startMarkerName:n,endMarkerName:r}=j.generateUniqueMarkerNames(e);return{spanId:n,start:e=>{var t;return null===(t=self.performance)||void 0===t?void 0:t.mark(n,e)},finish:e=>{var i,a,o;null===(i=self.performance)||void 0===i||i.mark(r,{startTime:(null==e?void 0:e.startTime)??performance.now()}),null===(a=self.performance)||void 0===a||null===(o=a.measure)||void 0===o||o.call(a,t,n,r)}}}static generateUniqueMarkerNames(e){const t=`${R}${e}`,n=`${t}${j.generateId()}`;return{spanName:t,startMarkerName:`${n}_start`,endMarkerName:`${n}_end`}}static generateId(){return"_"+Math.random().toString(36).substr(2,9)}}var L=n(2233),F=n(4564),$=n(5851),N=n(7271),B=n(1410),Y=n(30);const Q=e=>{const{partialTagWithKey:t}=e,n=t.key;var a;window[n].consent=(a=e,(0,i.ls)(a.consentModule.consentValidation,s.DT(Boolean),s.UI((0,N.initialiseWebSDK)(a)),i.Q1));const c=(0,s.EQ)((()=>{return t={consentDatabase:e.consentModule.consentDatabase,consentRequired:e.tag.config.consentRequired},(0,i.zG)((0,i.a9)(t.consentDatabase.get(B.L)),(0,o.UI)((e=>(0,Y.J)(t.consentRequired,e).isValid)));var t}),o.of);return(0,i.zG)((0,i.zG)((e=>{let{consentModule:t,tag:n}=e;const r=(0,$.Ew)((function(e){return"consent"===e.functionName}))(n.q);return(0,s.UI)((e=>t.consentValidation(e.arguments[0])))(r)})(e),c),(0,o.UI)((e=>e?(0,r.F2)(!0):(0,r.t$)("No consent to run on the page"))))},K=e=>(0,i.zG)((e=>"function"==typeof e.Map?(0,r.F2)(new e.Map([["a",1]])):(0,r.t$)("Maps not supported"))(e),r.tS((e=>1===e.size?(0,r.F2)(null):(0,r.t$)("Iterable Maps not supported")))),H=e=>(0,i.zG)((e=>"function"==typeof e.Set?(0,r.F2)(new e.Set([1,2])):(0,r.t$)("Sets not supported"))(e),r.tS((e=>2===e.size?(0,r.F2)(null):(0,r.t$)("Iterable Sets not supported")))),W=e=>(0,i.zG)((0,E.gz)(r.G5)(K(e),H(e),(e=>e.Worker&&e.Blob?(0,r.F2)(null):(0,r.t$)("WebWorkers not supported"))(e)),(e=>(0,r.UI)(i.Q1)(e)));const V=()=>{const e=(0,n(8537).Z)(),t=(e=>{const t=[],n=[],r=()=>{for(;t.length>0&&n.length>0;)n.shift()()},i=e=>new Promise((t=>{n.push((()=>t(e()))),(0,h.HJ)(r)}));return e.addEventListener("message",(0,h.GL)((e=>{null!==e.data&&(t.push(e.data),(0,h.HJ)(r))}))),{next:()=>i((()=>t.shift())),read:()=>i((()=>t.splice(0)))}})(e);return e.postMessage(null),r=>function(e){let{worker:t,trace:r,metrics:a,...c}=e;return t.send({...c,globals:self._____workerGlobals,initialTimestampSecs:(0,i.zG)(s.lo(!1),s.UI((()=>Math.floor(Date.now()/1e3)))),metricsEnabled:a.isEnabled(),timeOriginMainContext:P()}),(0,i.zG)((0,h.SF)((()=>Promise.resolve().then(n.bind(n,9145)))),r.traceTask("import-master-low-priority"),o.UI((e=>n=>e.startMaster({...n,metrics:a,trace:r,worker:t}))))}({...r,worker:{...t,send:t=>e.postMessage(t),stop:()=>e.terminate()}})};var J=n(7554);class X{db;options;constructor(e,t){this.db=e,this.options=t}getSessionId(){return this.options.session_id}sessionHasChanged(){return this.options.hasChanged}static decodeSessionData(e){return e&&"object"==typeof e&&e.hasOwnProperty("session_id")&&e.hasOwnProperty("last_updated")?{...e,last_updated:new Date(e.last_updated)}:null}reset(){return this.db.delete(this.options.session_data_key)}async persistSessionData(e){const t=e.last_updated.toISOString();await this.db.put({...e,last_updated:t},this.options.session_data_key)}static generateNewSession(e){return{session_id:(0,U.k$)(),last_updated:e}}static hasExpired(e,t,n){if(isNaN(t.getTime()))return!0;return e>new Date(t.getTime()+1e3*n)}static async initialise(e,t,n){const r={timeout_seconds:1800,session_data_key:"permutive-session",hasChanged:!1,logger:n};e.deleteCookie(r.session_data_key);const a=new Date,o=await t.get(r.session_data_key).catch(i.gn),s=X.decodeSessionData(o),c=null===s||X.hasExpired(a,s.last_updated,r.timeout_seconds)?{...X.generateNewSession(a),hasChanged:!0}:{...s,last_updated:a,hasChanged:!1},u=new X(t,(0,U.PM)(r,c));return await u.persistSessionData(c),u}}var Z=n(2836);const ee=e=>(0,i.zG)(a.Do,a.Qt("support",a.Uo(W(self))),a.Qt("partialTagWithKey",a.Uo((e=>{var t,n;const a="10453011-272d-49cd-9043-1964fdb36fd8",o=void 0!==(null===(t=e[a])||void 0===t?void 0:t.q)&&void 0!==(null===(n=e[a])||void 0===n?void 0:n.config)?a:"permutive";return(0,i.zG)(e[o],(0,r.ij)("Can't find permutive tag on the page"),(0,r.UI)((e=>({tag:e,key:o}))))})(window))),a.Qt("configFromQueryParams",a.Uo((0,L.B9)())),a.Hr("tag",(e=>((e,t)=>{let{tag:n,key:r}=e;return{...n,config:(0,L.ti)({...n.config,windowKey:r},t)}})(e.partialTagWithKey,e.configFromQueryParams))),a.UI((e=>{{const n=e.partialTagWithKey.key,r=window[n];t=r,window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((()=>{const e=googletag.pubads(),n=()=>{t.track("AdRequest",{ad_server_id:"dfp",cohorts:e.getTargeting("permutive")})},r=e.getSlots().filter((e=>e.getResponseInformation())).length;for(let e=0;e<r;e++)n();e.addEventListener("slotRequested",n)}))}var t;return e})),a.Hr("trace",(e=>{let{tag:t}=e;return new j(t.config)})),a.Hr("namespace",(e=>{let{tag:t}=e;return new O(t.config)})),a.Hr("logger",(e=>{let{tag:t}=e;return function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.RP;return e.loggingEnabled&&void 0!==(null===(t=self.console)||void 0===t?void 0:t.log)?new v(n):new b}(t.config)})),a.Hr("urls",(e=>{let{tag:t}=e;return new A(t.config)})),a.Hr("messages",(e=>{let{logger:t}=e;return new y(t)})),a.Hr("worker",(()=>V())),a.ak("consentModule",(e=>(0,i.zG)((()=>(0,F.NY)({...e,consentRequired:e.tag.config.consentRequired})),a.Vn((e=>e.message))))),a.Hr("cookieStore",(e=>{let{consentModule:t,logger:n,namespace:r,tag:a}=e;return((e,t,n,r)=>new((0,i.zG)(u,d({consentTracking:r,logger:n})))(e,t,n))(r,a.config,n,t.consentTracking)})),a.Hr("externalData",(e=>{let{consentModule:t,logger:n,namespace:r}=e;return((e,t,n)=>new((0,i.zG)(m,p({consentTracking:n,logger:t})))(e))(r,n,t.consentTracking)})),a.Hr("userId",(e=>{let{cookieStore:t,consentModule:n,externalData:r,tag:i}=e;return new M(i.config,t,r,n.consentTracking.consentRef)})),a.Hr("permutiveData",(e=>{let{tag:t,namespace:n,logger:r,consentModule:a}=e;return((e,t,n,r)=>new((0,i.zG)(z,T({consentTracking:r,logger:n})))(e,t,n))(t.config,n,r,a.consentTracking)})),a.Hr("metrics",(t=>{let{tag:n,logger:r,permutiveData:i}=t;return function(e,t,n,r,i){const a=r.getData("metricsEnabled")??(()=>{const e=Math.random()<=n.metricsSamplingPercentage/100;return r.setData("metricsEnabled",e),e})()?new S(e,t,i):new I;return a.track({name:"sdk_initialisation_start_time_seconds",value:e/1e3,labels:{}}),a}(e.contextsInitTimestampPerformance,P(),n.config,i,r)})),a.Hr("pageviewState",(e=>{let{tag:t}=e;return(e=>{const t={viewId:(0,i.zG)(e.viewId,s.DT((e=>"string"==typeof e&&(0,U.Gz)(e))),s.fS(U.k$)),watsonEnabled:e.watson.enabled};return(0,i.zG)(q.Ue(t),(e=>{let[n,r]=e;return{ref:n,setState:(0,i.ls)((e=>e(n.current,t)),r)}}))})(t.config)})),(0,i.ls)(a.Hr("localStorage",(e=>{let{logger:t,namespace:n,consentModule:r}=e;return(0,J.E)(n,t,r.consentTracking.consentRef)})),a.ak("sessionManager",(e=>{let{cookieStore:t,localStorage:n,logger:r}=e;return a.Y3((()=>X.initialise(t,n,r)),(e=>`Failed to initialise session manager: ${e.message}`))})),a.Hr("core",(t=>{let{consentModule:n,metrics:r,pageviewState:a,permutiveData:o,sessionManager:c,trace:u,tag:l,userId:d,worker:f}=t;const{eventSourceId:g,isFirstPageview:m}=(0,i.zG)(s.ij(o.getData("event-source-id")),s.hX(U.Gz),s.UI((e=>({eventSourceId:e,isFirstPageview:!1}))),s.fS((()=>{const e=(0,U.k$)();return o.setData("event-source-id",e),{eventSourceId:e,isFirstPageview:!0}})));return f({consent:n.consentTracking.consentRef.current,eventSourceId:g,isFirstPageview:m,isSecureContext:(p=l.config,"development"===p.environment?self.isSecureContext:"https:"===self.location.protocol),metrics:r,permutiveConfig:l.config,organizationId:"10453011-272d-49cd-9043-1964fdb36fd8",pageviewState:a.ref.current,sdkInitTimestampPerformance:e.contextsInitTimestampPerformance,sdkInitTimestampDate:e.contextsInitTimestamp,sessionId:c.getSessionId(),trace:u,trackPageviewComplete:!0,userId:d.get(),userIdIsNewlyGenerated:d.isNewlyGenerated.current,webClient:(0,Z.k)()});var p})),a.ak("consent",(e=>Q(e))),a.tS((e=>(0,i.zG)((0,h.SF)((()=>Promise.resolve().then(n.bind(n,7271)))),e.trace.traceTask("permutive.main.import_permutiveWebLowPriority"),o.tS((t=>t.initialiseWebSDK(e)))))))),te=e=>(e=>{e().then((0,r.g_)((e=>console.warn(`Permutive was not initialized. ${e}`)),i.Q1))})(ee(e))},2652:(e,t,n)=>{n.d(t,{Bf:()=>b,G6:()=>S,Gz:()=>y,HP:()=>z,Kn:()=>l,Or:()=>P,PM:()=>f,PQ:()=>I,Z_:()=>x,a4:()=>m,aT:()=>v,b2:()=>g,bw:()=>T,cO:()=>k,eu:()=>p,k$:()=>_,lW:()=>U,lo:()=>O,m8:()=>w,mQ:()=>D,qh:()=>d,rH:()=>M,rO:()=>C,vg:()=>G});var r=n(5851),i=n(3735),a=n(2884),o=n(7209),s=n(6017),c=n(2751),u=n(3992);const l=e=>"object"==typeof e&&!Array.isArray(e)&&null!==e,d=e=>Object.entries(e);function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>({...e,...t})),{})}s.ff(c.xb);function g(){let e,t;return{promise:new Promise(((n,r)=>{e=n,t=r})),reject:t,resolve:e}}function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={waitTimeInMs:50,exponentialBackOff:!1,maxAttempts:20},{waitTimeInMs:o,exponentialBackOff:s,maxAttempts:c}=f(r,n);let l=0;const d=n=>new Promise((r=>Promise.resolve(t()).then((t=>t?Promise.resolve(e()).then((e=>r((0,a.G)(e)))):(0,i.zG)(l++,(e=>e<c?(0,u.HJ)((()=>r(d(n*(s?2:1)))),n):r(a.YP)))))));return d(o)}function p(e,t){const n=Object.create(null);for(const r of t)n[r]=e[r];return n}let h=[];function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.userAgent;if(h.unshift(e),h.length>1)return;const n=["beforeunload","pagehide"],r=n.concat(["visibilitychange"]),i=e=>{if(!a&&e){a=!0;const e=h;h=[],e.forEach((e=>{try{e()}catch{}}))}};let a=!1;r.forEach((e=>{window.addEventListener(e,(()=>{const n=("visibilitychange"!==e||document.hidden)&&E(t);i(n)}))})),n.forEach((e=>{window.addEventListener(e,(()=>i(!0)))}))}function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t={capture:!0,...t};const n=["visibilitychange","pagehide"];n.forEach((n=>window.addEventListener(n,(()=>a.Y3((()=>{"pagehide"!==n&&"hidden"!==document.visibilityState||e()}))),{capture:t.capture})))}function _(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^(self.crypto||self.msCrypto).getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function y(e){return 36===e.length&&/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i.test(e)}function w(){const e={},t=arguments.length;for(let n=0;n<t;n++){const[t,r]=n<0||arguments.length<=n?void 0:arguments[n];e[t]=r}return e}function E(e){return/Mobi|Android/i.test(e)}function S(e){return/^((?!chrome|android).)*safari/i.test(e)}function I(e,t){return new Promise((n=>{(0,u.HJ)((()=>{Promise.resolve(e()).then(n)}),(null==t?void 0:t.timeout)??0)}))}function k(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}const P=()=>({equals:(e,t)=>Object.is(e,t)});function U(e){return(0,o.Zt)(((t,n)=>{const r=e.indexOf(t),i=e.indexOf(n);switch(!0){case-1===r&&-1===i:return 0;case-1!==r&&-1===i:return-1;case-1===r&&-1!==i:return 1;default:return r<=i?-1:1}}))}function x(e,t,n){return function(){try{return n(...arguments)}catch(n){e.reportError(n,t.get())}}}function G(e){return t=>null!=t&&e in t?t[e]:void 0}function z(e){let t=a.YP;const n=(0,a.fS)((()=>{const n=e();return t=(0,a.G)(n),n}));return()=>n(t)}const D=e=>{const t=new Map;return n=>(t.has(n)||t.set(n,e(n)),t.get(n))},C=e=>t=>{const n={...t};for(const i in e){var r;n[i]=null===(r=e[i])||void 0===r?void 0:r.call(e,t[i])}return n};function T(e){return t=>(e(t),t)}const O=e=>t=>{const n=e.slice(0,-1),o=e.slice(-1)[0];return(0,i.zG)(n,r.f2((e=>{let[n,r]=e;return(0,i.zG)(t,a.DT(n),a.UI(r))})),a.fS((()=>o(t))))},q=e=>t=>{if("number"==typeof t)return t;if("string"==typeof t){const n=e(t);return Number.isNaN(n)?void 0:n}},M=q(parseInt);q(parseFloat)},4730:(e,t,n)=>{n.d(t,{b:()=>a});var r=n(2652),i=n(3992);class a{timeoutDurationInMilliseconds;maxTimeOutDurationInMilliseconds;constructor(e,t){this.timeoutDurationInMilliseconds=e,this.maxTimeOutDurationInMilliseconds=t}schedule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeoutDurationInMilliseconds,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,t,n)}scheduleAccumulated(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeoutDurationInMilliseconds,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,n,r,t)}scheduleForPageUnload(e){return(0,r.aT)(e)}debounce(e,t,n,a){let o,s,c,u=[];return l=>{a&&(c=a.concat(c??a.empty,l));const d=(0,r.b2)();u.push(d);var f;return null===(f=o)||void 0===f||f(),o=(0,i.HJ)((()=>{var t;null===(t=s)||void 0===t||t(),s=void 0;const n=e(c||l);u.forEach((e=>e.resolve(n))),c=null==a?void 0:a.empty,u=[]}),t),s||(s=(0,i.HJ)((()=>{var t;null===(t=o)||void 0===t||t(),s=void 0;const n=e(c||l);u.forEach((e=>e.resolve(n))),c=null==a?void 0:a.empty,u=[]}),n)),d.promise}}}},4996:(e,t,n)=>{n.d(t,{i:()=>i});var r=n(3992);class i{messages;queue=[];nextNotify=null;constructor(e){this.messages=e,e.on("permutive:taskQueue:update",(()=>{this.execute()}))}add(e){this.queue.push(e),this.notify()}notify(){const e=()=>{this.messages.emit("permutive:taskQueue:update")},t=(new Date).getTime();null===this.nextNotify||this.nextNotify<t-50?(this.nextNotify=t,e()):this.nextNotify<=t&&(this.nextNotify=t+50,(0,r.HJ)(e,50))}execute(){if(0===this.queue.length)return;let e=!1,t=!1,n=0;for(let r=0;r<this.queue.length;r++){const i=this.queue[r];if(i.complete)n+=1;else if(i.started)t=!0,e=e||i.blocks();else{if(i.waits()&&t)break;e||(t=!0,e=e||i.blocks(),i.execute((()=>{this.notify()})))}}this.queue.splice(0,n)}size(){return this.queue.length}}},3030:(e,t,n)=>{n.d(t,{_Y:()=>o,bk:()=>a,zM:()=>i});var r=n(3735);const i=()=>{var e,t;const n=null===(e=window.location.href.split("?")[1])||void 0===e||null===(t=e.split("#")[0])||void 0===t?void 0:t.split("&");return void 0===n?{}:n.reduce(((e,t)=>{const[n,r]=t.split("=");return{...e,[n]:r}}),{})},a=e=>{if(!e)return"";return(0,r.zG)(e,(e=>{const t=e.length-1;return"/"===e[t]?e.slice(0,t):e}))};function o(e){const t=e.match(/\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/),n=e.match(/[a-z0-9][a-z0-9-]+\.[a-z.]{2,24}$/i),r=e.match(/localhost/);if(n&&n.length>0){const t=e.split(".").reverse();return t.length>=3&&t[1].match(/^(com|edu|gov|net|mil|org|nom|co|ac|name|info|biz)$/i)?t[2]+"."+t[1]+"."+t[0]:t[1]+"."+t[0]}return t&&(null==t?void 0:t.length)>0?t[0]:r&&(null==r?void 0:r.length)>0?"localhost":""}},7305:(e,t,n)=>{n(9853),n(2652),n(3992)},6320:(e,t,n)=>{n.r(t),n.d(t,{ClassificationModelsAddon:()=>a,addonName:()=>i,load:()=>o});var r=n(9853);const i="classification_models";class a{constructor(e){}}const o=e=>{(0,r.Hn)(i)("auto_init",!1)&&e.q.push({functionName:"addon",arguments:[i,{}]})}},122:(e,t,n)=>{n.d(t,{X:()=>r});const r=e=>{let t=!0;const n=[];return{addBlocker:r=>{n.push(r),e.logger.log("<blockers> added blocker "+r),e.messages.on(r,(()=>{if(t){const i=n.indexOf(r);i>=0&&(n.splice(i,1),e.logger.log("<blockers> removed blocker "+r)),0===n.length&&(t=!1,e.messages.emit("permutive:blockers:empty"),e.logger.log("<blockers> complete"))}}))}}}},7748:(e,t,n)=>{n.d(t,{X:()=>i});var r=n(2851);class i{ref;setCustomProps;constructor(){const[e,t]=r.Ue({});this.ref=e,this.setCustomProps=t}getCustomProps(){return this.ref.current}}},5717:(e,t,n)=>{n.r(t),n.d(t,{EventsCache:()=>y,RESET_HISTORICAL:()=>v});var r=n(2688),i=n(1828),a=n(3328),o=n(365),s=n(3735),c=n(2884),u=n(7407),l=n(3582),d=n(7548),f=n(2652),g=n(4730);class m extends Error{constructor(e){super(e),this.name="StoreClosingError"}}const p="permutive-events-cache",h="permutive-events-for-page",v="historical",b="[EVENTSCACHE]",_=e=>"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name;class y{config;logger;reportError;trace;metrics;userId;makeEventsStore;eventStore;eventsCache=this.makeEventsRepository(p);eventsForPage=this.makeEventsRepository(h);eventsTTLInMilliseconds;readiness;debouncedReportError=(()=>new g.b(5e3,5e3).schedule((e=>this.reportError(e.errorMessage,{userId:e.userId}))))();static initialise(e,t,n,r,i,a,o){return(0,s.zG)(o(),l.UI((s=>new y(e,t,n,r,i,a,o,s))))}constructor(e,t,n,r,i,a,o,l){this.config=e,this.logger=t,this.reportError=n,this.trace=r,this.metrics=i,this.userId=a,this.makeEventsStore=o,this.eventStore=l,this.eventsTTLInMilliseconds=(0,s.zG)((0,c.ij)(this.config.eventsTTLInDays),(0,c.tS)((e=>"number"==typeof e&&e>0?(0,c.G)(24*e*3600):c.YP))),this.eventsCache.events=(0,f.HP)((()=>(0,f.PQ)((0,s.zG)(u.tD((()=>this.trace.startSpan("load_event_cache"))),u.tS((e=>(0,s.zG)(this.loadFromDisk(),u.At((t=>()=>{e.finish(),this.logDebug(`Event cache loaded, #e ${t.length}`)}))))))))),this.readiness=this.eventsCache.events().then((()=>this.migratePreviousPagesEvents())),a.onChange((()=>this.reset()))}async migratePreviousPagesEvents(){const e=this.trace.startSpan("migrate_previous_for_page_events"),t=(0,u.pE)((e=>(0,l.Y3)((()=>e.flush()),r.w)));return(0,s.zG)([this.eventsForPage,this.eventsCache],t,(0,u.UI)((t=>{const n=a.bj(t);return n.length>0&&this.reportError(`Migrate previous events failed. Got:\n${n.join("\n ")}`,{userId:this.userId.current}),e.finish()})),(e=>e()))}all(){return Promise.all([this.eventsCache.events(),this.eventsForPage.events()]).then(a.xH)}async add(e,t){let{persistOnDisk:n}=t;return this.logDebug("Adding to cache",e),this.eventsForPage.events=(0,s.zG)(this.eventsForPage.events,u.UI((t=>[...t,e])),f.HP),n&&this.readiness.then((()=>this.eventsForPage.flush())),e}filterEventsByWorkspace(e){return e}pruneEventsToSizeLimit(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config.eventsCacheLimitBytes;if(n<=0||t<=n)return this.logDebug(`Event size of ${t} less than limit of ${n}`),{events:e,sizeInBytes:t};this.logDebug("Events before pruning",{count:e.length,sizeInBytes:t,byteLimit:n});let r=1,i=[...e];for(;t>n;)i.splice(0,r),r*=2,t=2*JSON.stringify(i).length;return this.logDebug("Events after pruning",{count:i.length,sizeInBytes:t}),{events:i,sizeInBytes:t}}loadFromDisk(){const e=()=>[],t=(0,s.zG)(this.eventsTTLInMilliseconds,c.EQ((()=>s.yR),(e=>a.hX((t=>e>Date.now()-t.time.getTime())))));return(0,s.zG)(u.tD((()=>(this.logLog("Loading event cache..."),this.metrics.startTimer("sdk_load_events_cache_task_duration_seconds",{})))),u.YO("loadEventsCacheTask"),u.ak("eventsFromDisk",(()=>(0,s.zG)(a.nI([this.eventStore.get(p),this.eventStore.get(h)]),a.UI(l.LV((0,f.lo)([[e=>e instanceof m,(0,s.ls)(e,u.of)],t=>(0,s.zG)(u.tD((()=>this.reportError(`Error fetching data from store. Got ${t}`,{userId:this.userId.current}))),u.tS((()=>()=>this.reset("historical"))),u.UI(e))]),(0,s.ls)(c.fS(e),u.of))),a.vP(u.qA)))),u.At((e=>{let{eventsFromDisk:t,loadEventsCacheTask:n}=e;return()=>{this.logDebug("Read events from store:",t),this.metrics.stopTimer("sdk_load_events_cache_task_duration_seconds",n)}})),u.UI((0,s.ls)((0,f.vg)("eventsFromDisk"),a.xH,this.filterEventsByWorkspace,(e=>this.pruneEventsToSizeLimit(e,2*JSON.stringify(e).length)),(e=>(this.eventsCache.sizeInBytes=e.sizeInBytes,this.eventsCache.sizeInBytesLastSuccessfulWrite=e.sizeInBytes,e.events.length>0&&(this.metrics.track({name:"sdk_events_cache_byte_total",value:e.sizeInBytes,labels:{}}),this.metrics.track({name:"sdk_events_cache_size_total",value:e.events.length,labels:{}})),e.events)),a.UI(d.k),t)))}async reset(e){return(0,s.zG)(u.tD((()=>this.logDebug("Resetting Events Cache"))),u.tS((()=>this.eventStore.deleteStore())),l.tS((()=>this.makeEventsStore())),l.Zl((t=>(this.eventStore=t,e===v?i.gz(l.Ij)(this.eventsCache.reset,this.eventsForPage.flush):i.gz(l.Ij)(this.eventsCache.reset,this.eventsForPage.reset)))),l.wE((()=>()=>this.all())),l.fS((()=>u.of(w()))),(e=>e()))}getStateSizeInBytes(){return this.eventsForPage.sizeInBytes+this.eventsCache.sizeInBytes}makeEventsRepository(e){const t=(()=>{let e=Promise.resolve(o.F2((0,s.Q1)()));return t=>e=e.then(t)})(),n=e=>(0,s.zG)(u.tD((()=>this.logDebug(`Writing ${e.length} events to ${v.key}`))),u.tS((()=>this.eventStore.put(e.map(d.X),v.key))),l.UI(s.Q1)),i=(0,s.zG)(u.tD((()=>this.logDebug(`Deleting events for ${v.key}`))),u.tS((()=>this.eventStore.delete(v.key))),l.Vn(r.w)),a=(0,s.ls)(u.of,u.At((e=>()=>this.logError(`Events cache failed to put ${v.key}. Got ${e}`))),u.tS((0,f.lo)([[e=>_(e)&&v.retryAttempts<9,()=>(0,s.zG)(u.tD((()=>{v.retryAttempts+=1,this.logDebug(`Attempt #${v.retryAttempts} to write ${v.key} to EventsStore`)})),u.tS((()=>h)),u.tS((()=>g)))],[e=>_(e),e=>(0,s.zG)(u.tD((()=>this.logDebug(`Attempted ${v.retryAttempts} rewrite attempts and reached limit of 9 max writes.`,"Reporting QuotaExceededError to API"))),u.tS((()=>()=>this.debouncedReportError({errorMessage:`Events cache failed to put ${v.key}. Got ${e}`,userId:this.userId.current}))),u.tS((()=>l.t$(e))))],l.t$]))),c=e=>l.tD((()=>{this.logDebug(`Successfully wrote events for ${v.key} after ${v.retryAttempts} attempts`),v.retryAttempts=0,v.sizeInBytes=2*JSON.stringify(e).length,v.sizeInBytesLastSuccessfulWrite=v.sizeInBytes})),g=(0,s.zG)((()=>v.events()),u.tS((e=>(0,s.zG)(n(e),u.mU(o.EQ(a,(()=>c(e)))))))),m=(e,t)=>(0,s.zG)(e.events,u.UI((n=>{const r=2*JSON.stringify(n).length,i=this.pruneEventsToSizeLimit(n,r,t);return e.events=u.of(i.events),e.sizeInBytes=i.sizeInBytes,t-e.sizeInBytes}))),p=(e,t)=>{let[n,...r]=e;return n&&0!==t?(0,s.zG)(m(n,t),u.tS((e=>(this.logDebug(`${e} left after pruning ${n.key}`),p(r,e))))):u.of((0,s.Q1)())},h=(0,s.zG)(l.tD((()=>this.eventsForPage.sizeInBytes-this.eventsForPage.sizeInBytesLastSuccessfulWrite)),l.fX(o.DT((e=>e>0),(e=>new Error(`${this.eventsForPage.key} failed to write the same or smaller events cache of size ${e}`)))),l.tS((e=>{const t=1.2*e,n=[this.eventsCache,this.eventsForPage];return this.logDebug(`Pruning ${t} bytes from`,n),(0,s.zG)(p(n,t),l.fF)}))),v={key:e,events:u.of([]),sizeInBytes:0,sizeInBytesLastSuccessfulWrite:0,retryAttempts:0,flush:()=>(0,s.zG)(u.tD((()=>this.trace.startSpan(`write_${v.key}`))),u.tS((e=>(0,s.zG)(g,u.At((()=>()=>e.finish()))))),t),reset:()=>(0,s.zG)(u.tD((()=>{v.events=u.of([]),v.sizeInBytes=0,v.sizeInBytesLastSuccessfulWrite=0})),u.tS((()=>i)),t)};return v}logDebug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(b,...t)}logWarn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.warn(b,...t)}logError(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(b,...t)}logLog(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.log(b,...t)}}const w=()=>[]},9381:(e,t,n)=>{n.r(t),n.d(t,{DBStore:()=>o});var r=n(2688),i=n(2884),a=n(3582);class o{db;constructor(e){this.db=Promise.resolve(e)}put(e,t){return(0,a.Y3)((()=>this.db.then((n=>n.put(e,t)))),r.w)}get(e){return(0,a.Y3)((()=>this.db.then((t=>t.get(e))).then(i.ij)),r.w)}delete(e){return(0,a.Y3)((()=>this.db.then((t=>t.delete(e)))),(e=>String(e)))}deleteStore(){return(0,a.Y3)((()=>this.db.then((e=>e.deleteStore()))),(e=>String(e)))}}},6197:(e,t,n)=>{n(2652)},6272:(e,t,n)=>{n(3992)},7476:(e,t,n)=>{n.r(t),n.d(t,{eventCacheService:()=>d,eventNameBlacklist:()=>g});var r=n(2851),i=n(2116),a=n(6392),o=n(3735),s=n(3328),c=n(2652),u=n(8377),l=n(7548);const d=e=>i.dQ((0,o.ls)((e=>{let{previousState:t}=e;return function(e){if(e&&"object"==typeof e)return{previousUnloadEvents:"previousUnloadEvents"in e?f(e.previousUnloadEvents):[]};return{previousUnloadEvents:[]}}(t)}),(t=>{let{previousUnloadEvents:n}=t;n.forEach((t=>e.eventsCache.add((0,l.k)(t),{persistOnDisk:!0})));return{value:{newEvents:(0,o.zG)(e.newEvents,r.UI(a.UI((0,c.bw)(s.UI((t=>{let[,n]=t;g.has(n.name)||e.eventsCache.add(n,{persistOnDisk:!0})})))))),priorEvents:()=>e.eventsCache.all()},state:(0,o.zG)(e.eventsToProcessOnPageUnload,r.UI(s.hX((e=>{let[,t]=e;return!g.has(t.name)}))),r.UI(s.UI((0,o.ls)(u.Yg,l.X))),r.UI((e=>({previousUnloadEvents:e}))))}})));function f(e){return e&&Array.isArray(e)?e:[]}const g=new Set(["AdRequest","PageviewEngagement","PrebidAuctions","Reaction","SegmentEntry","SegmentExit","SlotRendered","ThirdPartySegments","VideoEngagement"])},926:(e,t,n)=>{n.r(t),n.d(t,{TWITTER_PIXEL_LS_KEY:()=>f,TwitterAddon:()=>v,load:()=>h,realService:()=>p,stubService:()=>m,twitterPixelService:()=>g});var r=n(2884),i=n(3328),a=n(4011),o=n(3735),s=n(9853),c=n(2116),u=n(2851),l=n(2652);const d="twitter_pixel",f="addon:twitter_pixel",g=p;function m(e){return c.K4((()=>{}))}function p(e){const{activationManager:t,addonsLoaded:n,consent:s,initdAddons:g,queryLanguageCohorts:m,permutiveData:p,metrics:h}=e;return(0,o.zG)(u.vP({addonsLoaded:n,consent:s,addonInitd:u.UI((e=>e.has(d)),g)}),c.KD([[e=>{let{consent:t,addonsLoaded:n,addonInitd:r}=e;return!t||n&&!r},c.K4((()=>{}))],[e=>{let{addonsLoaded:t,addonInitd:n}=e;return!t&&!n},c.dQ((e=>{let{previousState:t}=e;return{value:void 0,state:u.a9(t)}}))],c.dQ((e=>{let{previousState:n}=e;const s=e=>{(new Image).src=`https://analytics.twitter.com/i/adsct?txn_id=${e.getConfig().audience_tag_id}&p_id=Twitter`,e.trackImpression()},c=t.getActivations(d),g=(0,o.zG)(c,(e=>e.map((e=>e.getSegmentCode()))),(e=>new Set(e)));return(0,o.zG)(m,u.UI(i.hX((e=>g.has(e)))),u.D8(i.Eh(a.Eq)),u.Rp(b(n)?n:(0,o.zG)(p.getData(f),r.ij,r.UI((0,o.ls)(Object.keys,i.UI(Number),(0,l.bw)((()=>h.track({name:"sdk_legacy_addon_data_migrate_count",value:1,labels:{flag:"twitter_pixel"}}))))),r.fS((()=>[]))),((e,t)=>(0,o.zG)(t,i.hX((t=>!e.includes(t))),(0,l.bw)((0,o.ls)((e=>c.filter((t=>e.includes(t.getSegmentCode())))),(e=>e.forEach(s)))),(t=>[...e,...t])))),(e=>({value:void 0,state:e})))}))]),c.UI(o.Q1))}const h=e=>{(0,s.Hn)(d)("auto_init",!1)&&e.q.push({functionName:"addon",arguments:[d,{}]})};class v{constructor(e){}}const b=e=>Array.isArray(e)&&(0===e.length||e.some((e=>"number"==typeof e)))},1828:(e,t,n)=>{n.d(t,{Qt:()=>o,Yt:()=>d,ap:()=>a,gz:()=>l});var r=n(3735),i=n(9384);function a(e,t){return function(n){return function(r){return e.ap(e.map(r,(function(e){return function(n){return t.ap(e,n)}})),n)}}}function o(e){return function(t,n){return function(r){return e.ap(e.map(r,(function(e){return function(n){var r;return Object.assign({},e,((r={})[t]=n,r))}})),n)}}}function s(e,t,n){return function(r){for(var i=Array(n.length+1),a=0;a<n.length;a++)i[a]=n[a];return i[n.length]=r,0===t?e.apply(null,i):s(e,t-1,i)}}var c={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(n){return[e,t,n]}}},4:function(e){return function(t){return function(n){return function(r){return[e,t,n,r]}}}},5:function(e){return function(t){return function(n){return function(r){return function(i){return[e,t,n,r,i]}}}}}};function u(e){return i.e$.call(c,e)||(c[e]=s(r.bc,e-1,[])),c[e]}function l(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=t.length,i=u(r),a=e.map(t[0],i),o=1;o<r;o++)a=e.ap(a,t[o]);return a}}function d(e){return function(t){for(var n=Object.keys(t),r=n.length,i=function(e){var t=e.length;switch(t){case 1:return function(t){var n;return(n={})[e[0]]=t,n};case 2:return function(t){return function(n){var r;return(r={})[e[0]]=t,r[e[1]]=n,r}};case 3:return function(t){return function(n){return function(r){var i;return(i={})[e[0]]=t,i[e[1]]=n,i[e[2]]=r,i}}};case 4:return function(t){return function(n){return function(r){return function(i){var a;return(a={})[e[0]]=t,a[e[1]]=n,a[e[2]]=r,a[e[3]]=i,a}}}};case 5:return function(t){return function(n){return function(r){return function(i){return function(a){var o;return(o={})[e[0]]=t,o[e[1]]=n,o[e[2]]=r,o[e[3]]=i,o[e[4]]=a,o}}}}};default:return s((function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i={},a=0;a<t;a++)i[e[a]]=n[a];return i}),t-1,[])}}(n),a=e.map(t[n[0]],i),o=1;o<r;o++)a=e.ap(a,t[n[o]]);return a}}},5851:(e,t,n)=>{n.d(t,{oA:()=>y,t9:()=>g,DZ:()=>_,Ew:()=>u,f2:()=>l,xH:()=>v,jV:()=>m,uK:()=>w,tV:()=>S,u4:()=>k,DY:()=>f});var r=n(3735),i=(n(7341),n(9384)),a=n(7241);i.r1;var o=function(e){return[e]};a.xP,a.Lx,a.u4,a.OE,a.nq,a.iw,a.YM,a.ZN,a.Eh,i.F4,a.YM,a.Z$,a.VV,a.Fp,a.j0;a.ur;var s=n(3328),c=n(4870);n(5605);s.P5,s.YM,s.Z$;s.cx;function u(e){return s.Ew(e)}var l=s.f2;s.JO,s.qr;var d=function(e){return e.slice()},f=function(e){return function(t){return t.length<=1?d(t):t.slice().sort(e.compare)}};var g=s.t9;function m(e){var t=g(e);return function(n,r){if(void 0===r){var i=m(e);return function(e){return i(e,n)}}return n.filter((function(e){return t(e,r)}))}}s.kp,s.Eq;var p=o,h=function(e){return function(t){return(0,r.zG)(t,function(e){return function(t){for(var n=[],r=0;r<t.length;r++)n.push.apply(n,e(r,t[r]));return n}}((function(t,n){return e(n)})))}},v=h(r.yR),b=function(e){return function(t){for(var n=[],r=0;r<t.length;r++){var a=e(r,t[r]);i.pC(a)&&n.push(a.value)}return n}},_=function(e){return b((function(t,n){return e(n)}))},y=_(r.yR),w=function(e){return E((function(t,n){return e(n)}))},E=function(e){return function(t){for(var n=[],r=[],i=0;i<t.length;i++){var a=t[i];e(i,a)?r.push(a):n.push(a)}return(0,c.s4)(n,r)}},S=function(e){return I((function(t,n){return e(n)}))},I=function(e){return function(t){for(var n=[],r=[],i=0;i<t.length;i++){var a=e(i,t[i]);"Left"===a._tag?n.push(a.left):r.push(a.right)}return(0,c.s4)(n,r)}},k=(s.Lx,s.xP,s.u4);s.OE,s.nq,s.iw,s.ZN,s.Eh,s.pR,s.pJ,s.oR,s.yW,s.j0,i.F4},6862:(e,t,n)=>{function r(e){return function(t){return function(n){return e.chain(n,(function(n){return e.map(t(n),(function(){return n}))}))}}}function i(e){return function(t,n){return function(r){return e.chain(r,(function(r){return e.map(n(r),(function(e){var n;return Object.assign({},r,((n={})[t]=e,n))}))}))}}}n.d(t,{a:()=>i,m:()=>r})},365:(e,t,n)=>{n.d(t,{G5:()=>v,dO:()=>m,Pd:()=>w,ak:()=>R,tS:()=>_,Y$:()=>C,g_:()=>G,ij:()=>O,DT:()=>I,fS:()=>D,pF:()=>z,nM:()=>k,t$:()=>s,UI:()=>g,Vn:()=>E,EQ:()=>x,F2:()=>c,LF:()=>T,KC:()=>A,i$:()=>M,Y3:()=>q});var r=n(6862),i=n(2690),a=n(3735),o=(n(7341),n(9384)),s=o.t$,c=o.F2,u=function(e,t){return(0,a.zG)(e,g(t))},l=function(e,t){return(0,a.zG)(e,h(t))},d=function(e,t){return(0,a.zG)(e,_(t))},f="Either",g=function(e){return function(t){return k(t)?t:c(e(t.right))}},m={URI:f,map:u},p=c,h=function(e){return function(t){return k(t)?t:k(e)?e:c(t.right(e.right))}},v={URI:f,map:u,ap:l},b=function(e){return function(t){return k(t)?t:e(t.right)}},_=b,y={URI:f,map:u,ap:l,chain:d},w=function(e,t){return function(n){return k(n)?s(e(n.left)):c(t(n.right))}},E=function(e){return function(t){return k(t)?s(e(t.left)):t}},S={URI:f,fromEither:a.yR},I=(0,i.DT)(S),k=o.nM,P=(o.tO,function(e,t){return function(n){return k(n)?e(n.left):t(n.right)}}),U=P,x=P,G=x,z=function(e){return function(t){return k(t)?e(t.left):t.right}},D=z,C=(0,i.Y$)(S,y),T=function(e){return k(e)?c(e.left):s(e.right)},O=function(e){return function(t){return null==t?s(e):c(t)}},q=function(e,t){try{return c(e())}catch(e){return s(t(e))}},M=U(a.yR,a.yR);function A(e){return e instanceof Error?e:new Error(String(e))}o.F4;var R=(0,r.a)(y);o.Xl},856:(e,t,n)=>{n.d(t,{EQ:()=>y,F2:()=>s,KQ:()=>f,LF:()=>P,LU:()=>k,LV:()=>w,NG:()=>g,Pd:()=>b,UI:()=>m,Vn:()=>_,ap:()=>p,dQ:()=>I,fS:()=>E,i$:()=>U,ij:()=>d,m8:()=>u,pk:()=>l,t$:()=>c,tS:()=>h,vx:()=>S,wp:()=>v});var r=n(1828),i=n(365),a=n(3735),o=n(7341);function s(e){return(0,a.ls)(i.F2,e.of)}function c(e){return(0,a.ls)(i.t$,e.of)}function u(e){return function(t){return e.map(t,i.F2)}}function l(e){return function(t){return e.map(t,i.t$)}}function d(e){return function(t){return(0,a.ls)(i.ij(t),e.of)}}function f(e){var t=d(e);return function(e){var n=t(e);return function(e){return(0,a.ls)(e,n)}}}function g(e){var t=h(e),n=f(e);return function(e){var r=n(e);return function(e){return t(r(e))}}}function m(e){return(0,o.UI)(e,i.dO)}function p(e){return(0,r.ap)(e,i.G5)}function h(e){return function(t){return function(n){return e.chain(n,(function(n){return i.nM(n)?e.of(n):t(n.right)}))}}}function v(e){return function(t){return function(n){return e.chain(n,(function(n){return i.nM(n)?t():e.of(n)}))}}}function b(e){return function(t,n){return function(r){return e.map(r,i.Pd(t,n))}}}function _(e){return function(t){return function(n){return e.map(n,i.Vn(t))}}}function y(e){return function(t,n){return function(r){return e.map(r,i.EQ(t,n))}}}function w(e){return function(t,n){return function(r){return e.chain(r,i.EQ(t,n))}}}function E(e){return function(t){return function(n){return e.chain(n,i.EQ(t,e.of))}}}function S(e){return function(t){return function(n){return e.chain(n,(function(n){return i.nM(n)?t(n.left):e.of(n)}))}}}function I(e){var t=S(e);return function(n){return t((function(t){return e.map(n(t),(function(e){return i.nM(e)?e:i.t$(t)}))}))}}function k(e){return function(t){return function(n){return e.chain(n,i.EQ((function(n){return e.map(t(n),i.t$)}),(function(t){return e.of(i.F2(t))})))}}}function P(e){return function(t){return e.map(t,i.LF)}}function U(e){return function(t){return e.map(t,i.i$)}}},4268:(e,t,n)=>{n.d(t,{f7:()=>r,n_:()=>i,w4:()=>a});n(3735);var r=function(e){return{equals:function(t,n){return t===n||e(t,n)}}},i=function(e){return r((function(t,n){for(var r in e)if(!e[r].equals(t[r],n[r]))return!1;return!0}))},a={equals:function(e,t){return e===t}};a.equals},2690:(e,t,n)=>{n.d(t,{DT:()=>a,Y$:()=>c,fX:()=>s});var r=n(3735),i=n(9384);function a(e){return function(t,n){return function(r){return e.fromEither(t(r)?i.F2(r):i.t$(n(r)))}}}function o(e){return function(t){return(0,r.ls)(t,e.fromEither)}}function s(e,t){var n=o(e);return function(e){return function(r){return t.chain(r,n(e))}}}function c(e,t){return function(n,r){return function(a){return t.chain(a,(function(t){return e.fromEither(n(t)?i.F2(t):i.t$(r(t)))}))}}}},7341:(e,t,n)=>{function r(e,t){return function(n){return function(r){return e.map(r,(function(e){return t.map(e,n)}))}}}function i(e){return function(t){return function(n){return e.map(n,(function(e){var n;return(n={})[t]=e,n}))}}}function a(e){return function(t,n){return function(r){return e.map(r,(function(e){var r;return Object.assign({},e,((r={})[t]=n(e),r))}))}}}n.d(t,{Hr:()=>a,UI:()=>r,YO:()=>i})},6392:(e,t,n)=>{n.d(t,{G5:()=>l,RD:()=>m,UI:()=>s,of:()=>c});var r=n(3735),i=(n(7341),n(9384)),a=function(e,t){return function(){return t(e())}},o=function(e,t){return function(){return e()(t())}},s=function(e){return function(t){return a(t,e)}},c=r.a9,u="IO",l={URI:u,map:a,ap:o},d=(r.yR,r.yR,i.F4,c(i.Xl)),f=function(e){var t=function(e){return function(t){return function(){for(var n=[e(0,i.YM(t))()],r=1;r<t.length;r++)n.push(e(r,t[r])());return n}}}(e);return function(e){return i.Od(e)?t(e):d}},g=function(e){return f((function(t,n){return e(n)}))},m=g(r.yR)},2884:(e,t,n)=>{n.d(t,{G5:()=>U,Ri:()=>M,xu:()=>F,dO:()=>I,wp:()=>z,tS:()=>x,mU:()=>V,hX:()=>A,DZ:()=>R,xH:()=>W,g_:()=>K,Uo:()=>$,ij:()=>J,KQ:()=>Z,DT:()=>d,Eh:()=>E,IS:()=>f,fS:()=>H,EK:()=>g,lo:()=>C,Wi:()=>B,pC:()=>N,UI:()=>S,EQ:()=>Q,aD:()=>Y,YP:()=>u,of:()=>k,RD:()=>re,G:()=>l,FS:()=>ee,Y3:()=>X,bM:()=>D});var r=n(6862),i=n(3735),a=(n(7341),n(9384)),o=n(6017),s=n(4870);n(5605);function c(e,t){return function(n){return n?t.of(void 0):e.zero()}}var u=a.YP,l=a.G;function d(e){return function(t){return e(t)?l(t):u}}var f=function(e){return"Right"===e._tag?u:l(e.left)},g=function(e){return"Left"===e._tag?u:l(e.right)},m=function(e,t){return(0,i.zG)(e,S(t))},p=function(e,t){return(0,i.zG)(e,P(t))},h=function(e,t){return(0,i.zG)(e,x(t))},v=function(e,t){return(0,i.zG)(e,A(t))},b=function(e,t){return(0,i.zG)(e,R(t))},_=function(e,t){return(0,i.zG)(e,j(t))},y=function(e,t){return(0,i.zG)(e,L(t))},w="Option",E=function(e){return{equals:function(t,n){return t===n||(B(t)?B(n):!B(n)&&e.equals(t.value,n.value))}}},S=function(e){return function(t){return B(t)?u:l(e(t.value))}},I={URI:w,map:m},k=l,P=function(e){return function(t){return B(t)||B(e)?u:l(t.value(e.value))}},U={URI:w,map:m,ap:p},x=function(e){return function(t){return B(t)?u:e(t.value)}},G={URI:w,map:m,ap:p,chain:h},z=function(e){return function(t){return B(t)?e():t}},D=function(){return u},C=c({URI:w,zero:D},{URI:w,of:k}),T=x(i.yR),O=(0,s.s4)(u,u),q=function(e){return B(e)?O:(0,s.s4)(f(e.value),g(e.value))},M={URI:w,compact:T,separate:q},A=function(e){return function(t){return B(t)?u:e(t.value)?t:u}},R=function(e){return function(t){return B(t)?u:e(t.value)}},j=function(e){return function(t){return(0,s.s4)(v(t,(0,o.ff)(e)),v(t,e))}},L=function(e){return(0,i.ls)(S(e),q)},F={URI:w,map:m,compact:T,separate:q,filter:v,filterMap:b,partition:_,partitionMap:y},$=g,N=a.pC,B=function(e){return"None"===e._tag},Y=function(e,t){return function(n){return B(n)?e():t(n.value)}},Q=Y,K=Q,H=function(e){return function(t){return B(t)?e():t.value}},W=T,V=(0,r.m)(G),J=function(e){return null==e?u:l(e)},X=function(e){try{return l(e())}catch(e){return u}},Z=function(e){return(0,i.ls)(e,J)},ee=Q(i.r5,i.yR);a.F4;var te=k(a.Xl),ne=function(e){var t=function(e){return function(t){var n=e(0,a.YM(t));if(B(n))return u;for(var r=[n.value],i=1;i<t.length;i++){var o=e(i,t[i]);if(B(o))return u;r.push(o.value)}return l(r)}}(e);return function(e){return a.Od(e)?t(e):te}},re=function(e){return ne((function(t,n){return e(n)}))}(i.yR)},7209:(e,t,n)=>{n.d(t,{Fp:()=>c,VV:()=>s,Zt:()=>o,uZ:()=>u});var r=n(4268),i=n(3735),a=function(e){return function(t,n){return t===n||0===e(t,n)}},o=function(e){return{equals:a(e),compare:function(t,n){return t===n?0:e(t,n)}}},s=(i.W8,function(e){return function(t,n){return t===n||e.compare(t,n)<1?t:n}}),c=function(e){return function(t,n){return t===n||e.compare(t,n)>-1?t:n}},u=function(e){var t=s(e),n=c(e);return function(e,r){return function(i){return n(t(i,r),e)}}};r.w4.equals},6017:(e,t,n)=>{n.d(t,{ff:()=>r});n(3735);var r=function(e){return function(t){return!e(t)}}},3328:(e,t,n)=>{n.d(t,{$R:()=>U,DZ:()=>N,EQ:()=>p,Eh:()=>re,Eq:()=>T,Ew:()=>w,G:()=>de,Hr:()=>me,JO:()=>S,Lx:()=>W,OE:()=>V,Od:()=>g,P5:()=>v,Su:()=>j,UI:()=>R,YM:()=>b,YO:()=>ge,Z$:()=>_,ZN:()=>te,bM:()=>q,bj:()=>P,cS:()=>ue,cx:()=>y,f2:()=>E,hX:()=>F,hp:()=>k,iw:()=>X,j0:()=>fe,kp:()=>C,nI:()=>ce,nq:()=>J,oA:()=>B,oR:()=>se,of:()=>O,oh:()=>L,pJ:()=>oe,pR:()=>ie,qr:()=>I,t9:()=>x,tS:()=>M,u4:()=>H,uK:()=>Y,uZ:()=>ne,vP:()=>Z,xH:()=>A,xP:()=>K,xb:()=>f,yW:()=>le,zo:()=>G});var r=n(4268),i=n(3735),a=n(7341),o=n(9384),s=n(4011),c=n(7209),u=n(7241),l=n(4870),d=(n(5605),function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}),f=function(e){return 0===e.length},g=u.Od,m=(u.Ce,u.ws,u.R3);u.Im;var p=function(e,t){return function(n){return g(n)?t(n):e()}},h=u.dC;function v(e,t){return void 0===t?function(t){return v(e,t)}:h(e,t)?o.YP:o.G(t[e])}var b=function(e){return g(e)?o.G(u.YM(e)):o.YP},_=function(e){return g(e)?o.G(u.Z$(e)):o.YP};var y=function(e){return function(t){for(var n=0;n<t.length;n++)if(e(t[n]))return o.G(n);return o.YP}};function w(e){return function(t){for(var n=0;n<t.length;n++)if(e(t[n]))return o.G(t[n]);return o.YP}}var E=function(e){return function(t){for(var n=0;n<t.length;n++){var r=e(t[n]);if(o.pC(r))return r}return o.YP}};var S=function(e){return function(t){for(var n=t.length-1;n>=0;n--){var r=e(t[n]);if(o.pC(r))return r}return o.YP}},I=function(e){return function(t){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return o.G(n);return o.YP}},k=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"Right"===r._tag&&t.push(r.right)}return t},P=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"Left"===r._tag&&t.push(r.left)}return t};function U(e,t){return void 0===t?function(t){return U(t,e)}:function(e,t,n){for(var r=[],i=Math.min(e.length,t.length),a=0;a<i;a++)r[a]=n(e[a],t[a]);return r}(e,t,(function(e,t){return[e,t]}))}function x(e){return function(t,n){if(void 0===n){var r=x(e);return function(e){return r(t,e)}}for(var i,a=0;a<n.length;a++)if(i=n[a],e.equals(i,t))return!0;return!1}}var G=function(e){return function(t){return f(t)?e:f(e)?t:t.concat(e)}};var z=function(e,t){return(0,i.zG)(e,R(t))},D=function(e,t,n){return(0,i.zG)(e,H(t,n))},C=function(e,t){return(0,i.zG)(e,oe(t))},T=function(e,t){return(0,i.zG)(e,se(t))},O=u.of,q=function(){return ue},M=function(e){return function(t){return(0,i.zG)(t,function(e){return function(t){if(f(t))return ue;for(var n=[],r=0;r<t.length;r++)n.push.apply(n,e(r,t[r]));return n}}((function(t,n){return e(n)})))}},A=M(i.yR),R=function(e){return function(t){return t.map((function(t){return e(t)}))}},j=function(e){return function(t){return t.map((function(t,n){return e(n,t)}))}},L=function(e){for(var t=[],n=[],r=0,i=e;r<i.length;r++){var a=i[r];"Left"===a._tag?t.push(a.left):n.push(a.right)}return(0,l.s4)(t,n)},F=function(e){return function(t){return t.filter(e)}},$=function(e){return function(t){for(var n=[],r=0;r<t.length;r++){var i=e(r,t[r]);o.pC(i)&&n.push(i.value)}return n}},N=function(e){return $((function(t,n){return e(n)}))},B=N(i.yR),Y=function(e){return Q((function(t,n){return e(n)}))},Q=function(e){return function(t){for(var n=[],r=[],i=0;i<t.length;i++){var a=t[i];e(i,a)?r.push(a):n.push(a)}return(0,l.s4)(n,r)}},K=function(e){return function(t){return function(n){return n.reduce((function(n,r,i){return e.concat(n,t(i,r))}),e.empty)}}},H=function(e,t){return V(e,(function(e,n,r){return t(n,r)}))},W=function(e){var t=K(e);return function(e){return t((function(t,n){return e(n)}))}},V=function(e,t){return function(n){for(var r=n.length,i=e,a=0;a<r;a++)i=t(a,i,n[a]);return i}},J=function(e,t){return X(e,(function(e,n,r){return t(n,r)}))},X=function(e,t){return function(n){return n.reduceRight((function(e,n,r){return t(r,n,e)}),e)}},Z=function(e){return function(t){return D(t,e.of(q()),(function(t,n){return e.ap(e.map(t,(function(e){return function(t){return(0,i.zG)(e,m(t))}})),n)}))}},ee="ReadonlyArray",te=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},ne=function(){return{concat:function(e,t){return f(e)?t:f(t)?e:e.concat(t)},empty:ue}},re=function(e){return(0,r.f7)((function(t,n){return t.length===n.length&&t.every((function(t,r){return e.equals(t,n[r])}))}))},ie=function(e){return(0,c.Zt)((function(t,n){for(var r=t.length,i=n.length,a=Math.min(r,i),o=0;o<a;o++){var c=e.compare(t[o],n[o]);if(0!==c)return c}return s.Df.compare(r,i)}))},ae={URI:ee,map:z},oe=function(e){return function(t){for(var n=d([],e(t),!0),r=[];n.length>0;){var i=n.shift();o.nM(i)?n.unshift.apply(n,e(i.left)):r.push(i.right)}return r}},se=function(e){return function(t){var n=e(t),r=[],i=[];function a(t){o.nM(t)?e(t.left).forEach((function(e){return r.push(e)})):i.push(t.right)}for(var s=0,c=n;s<c.length;s++){a(c[s])}for(;r.length>0;)a(r.shift());return i}},ce=(u.oo,function(e){return f(e)?ue:e.slice()}),ue=u.cS;function le(e){return function(t){return t.every(e)}}var de=function(e){return function(t){return t.some(e)}},fe=function(e){var t=u.j0(e);return function(n){return p((function(){return e.empty}),t(n))}},ge=(o.F4,(0,a.YO)(ae)),me=(0,a.Hr)(ae);u.w6,u.QI,u.Ss},7241:(e,t,n)=>{n.d(t,{R3:()=>v,Im:()=>h,ur:()=>$,QI:()=>B,cS:()=>d,Lx:()=>G,xP:()=>C,c2:()=>_,Eh:()=>M,ZN:()=>q,vM:()=>S,YM:()=>A,j0:()=>N,Od:()=>f,dC:()=>g,Z$:()=>j,UI:()=>P,Fp:()=>F,VV:()=>L,of:()=>k,Ce:()=>p,ws:()=>m,w6:()=>w,u4:()=>x,nq:()=>z,iw:()=>T,OE:()=>D,Ss:()=>Y,oo:()=>b});var r,i=n(4268),a=n(3735),o=(n(7341),n(9384)),s=n(7209),c=function(e){return{concat:s.VV(e)}},u=function(e){return{concat:s.Fp(e)}};r=void 0;var l=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},d=o.Xl,f=o.Od,g=function(e,t){return e<0||e>=t.length},m=function(e){return function(t){return l([e],t,!0)}},p=m,h=function(e){return function(t){return l(l([],t,!0),[e],!1)}},v=h,b=function(e,t,n){if(f(n)){var r=o.r1(n);return r.splice(e,0,t),r}return[t]},_=function(e){return f(e)?o.G(e):o.YP},y=function(e){return function(t){for(var n=Math.max(0,Math.floor(t)),r=[e(0)],i=1;i<n;i++)r.push(e(i));return r}},w=function(e,t){return e<=t?y((function(t){return e+t}))(t-e+1):[e]};function E(e,t){return t?e.concat(t):function(t){return t.concat(e)}}var S=function(e){return function(t){for(var n={},r=0,i=t;r<i.length;r++){var a=i[r],s=e(a);o.e$.call(n,s)?n[s].push(a):n[s]=[a]}return n}};var I=function(e){return function(t){for(var n=[e,t[0]],r=1;r<t.length;r++)n.push(e,t[r]);return n}},k=o.ri,P=function(e){return U((function(t,n){return e(n)}))},U=function(e){return function(t){for(var n=[e(0,A(t))],r=1;r<t.length;r++)n.push(e(r,t[r]));return n}},x=function(e,t){return D(e,(function(e,n,r){return t(n,r)}))},G=function(e){return function(t){return function(n){return n.slice(1).reduce((function(n,r){return e.concat(n,t(r))}),t(n[0]))}}},z=function(e,t){return T(e,(function(e,n,r){return t(n,r)}))},D=function(e,t){return function(n){return n.reduce((function(e,n,r){return t(r,e,n)}),e)}},C=function(e){return function(t){return function(n){return n.slice(1).reduce((function(n,r,i){return e.concat(n,t(i+1,r))}),t(0,n[0]))}}},T=function(e,t){return function(n){return n.reduceRight((function(e,n,r){return t(r,n,e)}),e)}},O=o.YM,q=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},M=function(e){return(0,i.f7)((function(t,n){return t.length===n.length&&t.every((function(t,r){return e.equals(t,n[r])}))}))},A=(o.F4,O),R=o.Gb,j=function(e){return e[e.length-1]},L=function(e){var t=c(e);return function(e){return e.reduce(t.concat)}},F=function(e){var t=u(e);return function(e){return e.reduce(t.concat)}},$=function(e){return function(t){return t.reduce(e.concat)}},N=function(e){var t=$(e);return function(e){return(0,a.ls)(function(e){return function(t){var n=R(t);return f(n)?(0,a.zG)(n,I(e),p(A(t))):t}}(e),t)}};function B(e,t){return void 0===t?p(e):(0,a.zG)(t,p(e))}var Y=function(e,t){return(0,a.zG)(e,E([t]))}},4923:(e,t,n)=>{n.d(t,{Bu:()=>p,CC:()=>M,DZ:()=>Z,EG:()=>m,EW:()=>N,Eh:()=>ce,G:()=>D,HA:()=>T,Hd:()=>P,I8:()=>R,P5:()=>h,RF:()=>A,RJ:()=>L,SW:()=>Y,Su:()=>b,UI:()=>_,Ub:()=>K,V_:()=>$,XP:()=>d,_Y:()=>F,_r:()=>k,dp:()=>c,dx:()=>f,e$:()=>g,hX:()=>X,jt:()=>U,kp:()=>q,mK:()=>V,mS:()=>j,nn:()=>O,nr:()=>le,nu:()=>B,oA:()=>ae,oh:()=>oe,qS:()=>W,ri:()=>S,sq:()=>G,t9:()=>C,tV:()=>te,uK:()=>ee,uZ:()=>ue,vA:()=>H,vP:()=>I,xb:()=>u,yW:()=>z,z7:()=>x,zV:()=>Q});var r=n(4268),i=n(3735),a=n(9384),o=n(4870),s=n(2751),c=(n(5605),function(e){return Object.keys(e).length}),u=function(e){for(var t in e)if(a.e$.call(e,t))return!1;return!0},l=function(e){return function(t){return Object.keys(t).sort(e.compare)}},d=l(s.Df);var f=function(e,t){return function(n){if(a.e$.call(n,e)&&n[e]===t)return n;var r=Object.assign({},n);return r[e]=t,r}},g=function(e,t){return a.e$.call(t,e)};function m(e){return function(t){if(!a.e$.call(t,e))return t;var n=Object.assign({},t);return delete n[e],n}}function p(e){return function(t,n){if(void 0===n){var r=p(e);return function(e){return r(e,t)}}for(var i in t)if(!a.e$.call(n,i)||!e.equals(t[i],n[i]))return!1;return!0}}function h(e,t){return void 0===t?function(t){return h(e,t)}:a.e$.call(t,e)?a.G(t[e]):a.YP}var v={};function b(e){return function(t){var n={};for(var r in t)a.e$.call(t,r)&&(n[r]=e(r,t[r]));return n}}function _(e){return b((function(t,n){return e(n)}))}function y(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return y(s.Df).apply(void 0,e);var n=l(e[0]);return function(e,t){return function(r){for(var i=e,a=n(r),o=a.length,s=0;s<o;s++){var c=a[s];i=t(c,i,r[c])}return i}}}function w(e){if("compare"in e){var t=l(e);return function(e){return function(n){return function(r){for(var i=e.empty,a=t(r),o=a.length,s=0;s<o;s++){var c=a[s];i=e.concat(i,n(c,r[c]))}return i}}}}return w(s.Df)(e)}function E(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return E(s.Df).apply(void 0,e);var n=l(e[0]);return function(e,t){return function(r){for(var i=e,a=n(r),o=a.length-1;o>=0;o--){var s=a[o];i=t(s,r[s],i)}return i}}}var S=function(e,t){var n;return(n={})[e]=t,n};function I(e){return V(s.Df)(e)}function k(e){return function(t){var n={},r={};for(var i in t)if(a.e$.call(t,i)){var s=e(i,t[i]);switch(s._tag){case"Left":n[i]=s.left;break;case"Right":r[i]=s.right}}return(0,o.s4)(n,r)}}function P(e){return function(t){var n={},r={};for(var i in t)if(a.e$.call(t,i)){var s=t[i];e(i,s)?r[i]=s:n[i]=s}return(0,o.s4)(n,r)}}function U(e){return function(t){var n={};for(var r in t)if(a.e$.call(t,r)){var i=e(r,t[r]);a.pC(i)&&(n[r]=i.value)}return n}}function x(e){return function(t){var n={},r=!1;for(var i in t)if(a.e$.call(t,i)){var o=t[i];e(i,o)?n[i]=o:r=!0}return r?n:t}}var G=function(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n];t[i[0]]=i[1]}return t};function z(e){return function(t){for(var n in t)if(!e(t[n]))return!1;return!0}}function D(e){return function(t){for(var n in t)if(e(t[n]))return!0;return!1}}function C(e){return function(t,n){if(void 0===n){var r=C(e);return function(e){return r(t,e)}}for(var i in n)if(e.equals(n[i],t))return!0;return!1}}var T=function(e,t){return(0,i.zG)(e,_(t))},O=function(e,t){return(0,i.zG)(e,b(t))},q=function(e){var t=ne(e);return function(e,n,r){return(0,i.zG)(e,t(n,r))}},M=function(e){return function(t){var n=re(e)(t);return function(e,t){return(0,i.zG)(e,n(t))}}},A=function(e){var t=ie(e);return function(e,n,r){return(0,i.zG)(e,t(n,r))}},R=function(e,t){return(0,i.zG)(e,X(t))},j=function(e,t){return(0,i.zG)(e,Z(t))},L=function(e,t){return(0,i.zG)(e,ee(t))},F=function(e,t){return(0,i.zG)(e,te(t))},$=function(e){var t=y(e);return function(e,n,r){return(0,i.zG)(e,t(n,r))}},N=function(e){var t=w(e);return function(e){var n=t(e);return function(e,t){return(0,i.zG)(e,n(t))}}},B=function(e){var t=E(e);return function(e,n,r){return(0,i.zG)(e,t(n,r))}},Y=function(e,t){return(0,i.zG)(e,k(t))},Q=function(e,t){return(0,i.zG)(e,P(t))},K=function(e,t){return(0,i.zG)(e,U(t))},H=function(e,t){return(0,i.zG)(e,x(t))},W=function(e){var t=J(e);return function(e){var n=t(e);return function(e,t){return n(e,(0,i.ls)(i.SK,t))}}},V=function(e){var t=W(e);return function(e){var n=t(e);return function(e){return n(e,i.yR)}}},J=function(e){return function(t){var n=l(e);return function(e,r){var i=n(e);if(0===i.length)return t.of(v);for(var a=t.of({}),o=function(n){a=t.ap(t.map(a,(function(e){return function(t){var r;return Object.assign({},e,((r={})[n]=t,r))}})),r(n,e[n]))},s=0,c=i;s<c.length;s++){o(c[s])}return a}}},X=function(e){return x((function(t,n){return e(n)}))},Z=function(e){return U((function(t,n){return e(n)}))},ee=function(e){return P((function(t,n){return e(n)}))},te=function(e){return k((function(t,n){return e(n)}))};function ne(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=y(e[0]);return function(e,t){return n(e,(function(e,n,r){return t(n,r)}))}}return ne(s.Df).apply(void 0,e)}function re(e){if("compare"in e){var t=w(e);return function(e){var n=t(e);return function(e){return n((function(t,n){return e(n)}))}}}return re(s.Df)(e)}function ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=E(e[0]);return function(e,t){return n(e,(function(e,n,r){return t(n,r)}))}}return ie(s.Df).apply(void 0,e)}var ae=function(e){var t={};for(var n in e)if(a.e$.call(e,n)){var r=e[n];a.pC(r)&&(t[n]=r.value)}return t},oe=function(e){var t={},n={};for(var r in e)if(a.e$.call(e,r)){var i=e[r];a.nM(i)?t[r]=i.left:n[r]=i.right}return(0,o.s4)(t,n)},se="ReadonlyRecord";function ce(e){var t=p(e);return(0,r.f7)((function(e,n){return t(e)(n)&&t(n)(e)}))}function ue(e){return{concat:function(t,n){if(u(t))return n;if(u(n))return t;var r=Object.assign({},t);for(var i in n)a.e$.call(n,i)&&(r[i]=a.e$.call(t,i)?e.concat(t[i],n[i]):n[i]);return r},empty:v}}s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df;function le(e,t){return a.e$.call(void 0===t?this:t,e)}s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df},8377:(e,t,n)=>{n.d(t,{H5:()=>s,Pd:()=>a,Yg:()=>i,li:()=>r,pL:()=>o});n(3735);function r(e){return e[0]}function i(e){return e[1]}var a=function(e,t){return function(n){return[t(r(n)),e(i(n))]}},o=function(e){return function(t){return[e(r(t)),i(t)]}},s=function(e){return function(t){return[r(t),e(i(t))]}}},2197:(e,t,n)=>{n.d(t,{ff:()=>r});var r=function(e){return function(t){return!e(t)}}},4870:(e,t,n)=>{n.d(t,{Pd:()=>i,s4:()=>r});n(3735);var r=function(e,t){return{left:e,right:t}},i=function(e,t){return function(n){return r(e(a(n)),t(o(n)))}},a=function(e){return e.left},o=function(e){return e.right}},7407:(e,t,n)=>{n.d(t,{qA:()=>w,Hi:()=>y,qo:()=>E,dO:()=>b,UA:()=>S,PM:()=>_,ap:()=>m,Qt:()=>G,ak:()=>x,YO:()=>U,tS:()=>h,mU:()=>I,At:()=>P,tD:()=>u,UI:()=>g,of:()=>p,uU:()=>T,pE:()=>O});var r=n(1828),i=n(6862),a=n(3735);function o(e,t){var n=(0,i.m)(t);return function(t){return n((0,a.ls)(t,e.fromIO))}}var s=n(7341),c=n(9384),u=function(e){return function(){return Promise.resolve().then(e)}};var l=function(e,t){return(0,a.zG)(e,g(t))},d=function(e,t){return(0,a.zG)(e,m(t))},f=function(e,t){return(0,a.zG)(e,h(t))},g=function(e){return function(t){return function(){return Promise.resolve().then(t).then(e)}}},m=function(e){return function(t){return function(){return Promise.all([Promise.resolve().then(t),Promise.resolve().then(e)]).then((function(e){return(0,e[0])(e[1])}))}}},p=function(e){return function(){return Promise.resolve(e)}},h=function(e){return function(t){return function(){return Promise.resolve().then(t).then((function(t){return e(t)()}))}}},v="Task";var b={URI:v,map:l},_={URI:v,of:p},y={URI:v,map:l,ap:d},w={URI:v,map:l,ap:d,of:p},E={URI:v,map:l,ap:d,chain:f},S={URI:v,map:l,of:p,ap:d,chain:f},I=(a.yR,(0,i.m)(E)),k={URI:v,fromIO:u},P=o(k,E),U=(c.F4,(0,s.YO)(b)),x=(0,i.a)(E),G=(0,r.Qt)(y),z=p(c.Xl),D=function(e){var t=function(e){return function(t){return function(){return Promise.all(t.map((function(t,n){return Promise.resolve().then((function(){return e(n,t)()}))})))}}}(e);return function(e){return c.Od(e)?t(e):z}},C=function(e){var t=function(e){return function(t){return function(){return c.Gb(t).reduce((function(t,n,r){return t.then((function(t){return Promise.resolve().then(e(r+1,n)).then((function(e){return t.push(e),t}))}))}),Promise.resolve().then(e(0,c.YM(t))).then(c.ri))}}}(e);return function(e){return c.Od(e)?t(e):z}},T=function(e){return D((function(t,n){return e(n)}))},O=function(e){return C((function(t,n){return e(n)}))}},3582:(e,t,n)=>{n.d(t,{Do:()=>V,Qt:()=>Z,ak:()=>X,tS:()=>M,fX:()=>Q,wE:()=>W,Zl:()=>A,Y$:()=>K,Uo:()=>w,tD:()=>_,fF:()=>y,fS:()=>I,t$:()=>m,Hr:()=>J,UI:()=>C,Vn:()=>O,EQ:()=>E,LV:()=>S,of:()=>j,Ij:()=>ee,Y3:()=>k});var r=n(1828),i=n(6862),a=n(856),o=n(2690),s=n(3735);function c(e,t){return function(n){var r=(0,s.ls)(n,e.fromTask);return function(e){return t.chain(e,r)}}}var u=n(7341),l=n(9384),d=n(7407),f=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},g=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},m=a.t$(d.PM),p=a.F2(d.PM),h=a.m8(d.dO),v=a.pk(d.dO),b=(0,s.ls)(d.tD,h),_=(d.tD,b),y=h,w=d.of,E=(d.tD,a.EQ(d.dO)),S=a.LV(d.UA),I=a.fS(d.UA),k=function(e,t){return function(){return f(void 0,void 0,void 0,(function(){var n;return g(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e().then(l.F2)];case 1:return[2,r.sent()];case 2:return n=r.sent(),[2,l.t$(t(n))];case 3:return[2]}}))}))}},P=(d.dO,d.PM,d.PM,d.UA,d.UA,d.UA,d.UA,d.dO,function(e,t){return(0,s.zG)(e,C(t))}),U=function(e,t){return(0,s.zG)(e,q(t))},x=function(e,t){return(0,s.zG)(e,M(t))},G=function(e,t,n){return(0,s.zG)(e,T(t,n))},z=function(e,t){return(0,s.zG)(e,O(t))},D=function(e,t){return(0,s.zG)(e,R(t))},C=a.UI(d.dO),T=a.Pd(d.dO),O=a.Vn(d.dO),q=a.ap(d.Hi),M=a.tS(d.UA),A=M,R=a.wp(d.UA),j=p,L=m,F="TaskEither";var $={URI:F,map:P},N={URI:F,map:P,ap:U},B={URI:F,map:P,ap:U,chain:x},Y={URI:F,fromEither:w},Q=(0,o.fX)(Y,B),K=(0,o.Y$)(Y,B),H={URI:F,fromIO:_,fromTask:y},W=c(H,B);var V=j(l.F4),J=(0,u.Hr)($),X=(0,i.a)(B),Z=(0,r.Qt)(N),ee=(l.Xl,{URI:F,bimap:G,mapLeft:z,map:P,of:j,ap:U,chain:x,alt:D,fromIO:_,fromTask:y,throwError:L})},5605:(e,t,n)=>{function r(e,t){return function(n){var r=e.traverse(n);return function(e,i){return n.map(r(e,i),t.separate)}}}function i(e,t){return function(n){var r=e.traverse(n);return function(e,i){return n.map(r(e,i),t.compact)}}}n.d(t,{BL:()=>i,Fj:()=>r})},3735:(e,t,n)=>{n.d(t,{MZ:()=>i,Q1:()=>u,SK:()=>g,W8:()=>o,a9:()=>a,bc:()=>d,gn:()=>s,ls:()=>l,r5:()=>c,yR:()=>r,zG:()=>f});function r(e){return e}var i=r;function a(e){return function(){return e}}var o=a(!0),s=a(null),c=a(void 0),u=c;function l(e,t,n,r,i,a,o,s,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return i(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return a(i(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return o(a(i(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return s(o(a(i(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return c(s(o(a(i(r(n(t(e.apply(this,arguments)))))))))}}}function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}function f(e,t,n,r,i,a,o,s,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return i(r(n(t(e))));case 6:return a(i(r(n(t(e)))));case 7:return o(a(i(r(n(t(e))))));case 8:return s(o(a(i(r(n(t(e)))))));case 9:return c(s(o(a(i(r(n(t(e))))))));default:for(var u=arguments[0],l=1;l<arguments.length;l++)u=arguments[l](u);return u}}var g=function(e,t){return t}},9384:(e,t,n)=>{n.d(t,{F2:()=>d,F4:()=>v,G:()=>s,Gb:()=>p,Od:()=>g,Wi:()=>i,Xl:()=>h,YM:()=>m,YP:()=>o,e$:()=>b,nM:()=>c,pC:()=>a,r1:()=>_,ri:()=>f,t$:()=>l,tO:()=>u});var r=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},i=function(e){return"None"===e._tag},a=function(e){return"Some"===e._tag},o={_tag:"None"},s=function(e){return{_tag:"Some",value:e}},c=function(e){return"Left"===e._tag},u=function(e){return"Right"===e._tag},l=function(e){return{_tag:"Left",left:e}},d=function(e){return{_tag:"Right",right:e}},f=function(e){return[e]},g=function(e){return e.length>0},m=function(e){return e[0]},p=function(e){return e.slice(1)},h=[],v={},b=Object.prototype.hasOwnProperty,_=function(e){return r([e[0]],e.slice(1),!0)}},4011:(e,t,n)=>{n.d(t,{Df:()=>i,Eq:()=>r});var r={equals:function(e,t){return e===t}},i={equals:r.equals,compare:function(e,t){return e<t?-1:e>t?1:0}};r.equals,i.compare},2751:(e,t,n)=>{n.d(t,{Df:()=>i,Eq:()=>r,pn:()=>o,xb:()=>a});var r={equals:function(e,t){return e===t}},i={equals:r.equals,compare:function(e,t){return e<t?-1:e>t?1:0}},a=function(e){return 0===e.length},o=function(e,t){return function(n){return n.endsWith(e,t)}}},8537:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(477),i=n.n(r);function a(){return i()('/*! permutive-javascript-sdk v20.9.2 (web) (built 2024-09-05T13:19:34.003Z) */(()=>{"use strict";var e={688:(e,t,n)=>{function r(e){return e instanceof Error?e:new Error("string"==typeof e?e:JSON.stringify(e))}n.d(t,{w:()=>r})},992:(e,t,n)=>{n.d(t,{GL:()=>s,HJ:()=>c,N1:()=>d,NC:()=>r,RP:()=>a,UM:()=>u,t_:()=>f});const r=performance.now(),a=(new Date).getTime();let i=[],o=!1;const s=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return c((()=>e(...n)))},c=(e,t)=>{if(!o){const n=self.setTimeout(e,t);return()=>self.clearTimeout(n)}let n;const r=()=>{void 0!==n&&o&&i.length<1e4&&i.push([n,performance.now()]),n=void 0},a=[self.setTimeout((()=>{n=performance.now(),self.requestAnimationFrame(r),e()}),t),self.setTimeout(r,t)];return()=>{void 0===n&&a.forEach((e=>self.clearTimeout(e)))}},u=(e,t)=>{if(!o){const n=self.setInterval(e,t);return()=>self.clearInterval(n)}let n=!1,r=()=>{};const a=self.setInterval((()=>{r=c((()=>{n||e()}))}),t);return()=>{n=!0,r(),self.clearInterval(a)}},f=e=>new Promise(((t,n)=>e.then(s(t),s(n)))),d=e=>()=>f(e())},851:(e,t,n)=>{n.d(t,{g1:()=>_,YO:()=>S,oQ:()=>T,a9:()=>h,Ue:()=>m,gS:()=>p,D8:()=>C,VS:()=>G,xH:()=>k,En:()=>b,fF:()=>q,Hr:()=>E,UI:()=>y,u4:()=>z,Rp:()=>U,vP:()=>x,bw:()=>O,YP:()=>v});var r=n(735),a=n(567),i=n(328),o=n(652);function s(e){let t=e,n=[],r=!1;return{addListener(e){if(r)return()=>{};let a=t;const i=()=>{Object.is(t,a)||(a=t,e(t))};n=[...n,i];return()=>{n=n.filter((e=>e!==i))}},notify(e){if(r)throw new Error("Ref bug: Attempted to notify a terminated notifier");Object.is(e,t)||(t=e,n.forEach((e=>e())))},terminate(){r=!0,n=[]}}}function c(e,t){let n=0;return function(){try{if(n++>0)throw new Error(e);return t(...arguments)}finally{n--}}}function u(e,t){let n=[...new Set(e)].filter((e=>"final"!==e.state));if(0===n.length)return{state:"final",onStateChange:()=>()=>{}};const r=()=>0===n.length?"final":n.some((e=>"might_change"===e.state))?"might_change":"nominal",[a,i]=f(r(),(e=>"might_change"!==e&&t())),o=()=>i(r());return n.forEach((t=>{t.onStateChange((t=>{switch(t){case"final":n=e.filter((e=>"final"!==e.state)),o();break;case"might_change":i("might_change");break;case"nominal":o();break;default:throw new Error(`Ref bug: Invalid state ${t}`)}}))})),a}function f(e,t){if("final"===e)return[{state:"final",onStateChange:()=>()=>{}},()=>{}];const{terminate:n,notify:r,addListener:a}=s(e),i={state:e,onStateChange:a},o=c("Disallowed recursion in Branch.",(e=>{if("final"===i.state){if("final"===e)return;throw new Error(`Attempted to change state of final branch to ${e}.`)}try{null==t||t(e),i.state=e,r(e)}finally{"final"===e&&n()}}));return[i,o]}var d=n(341),l=n(392);const g="Ref";function m(e){const[t,n,r]=function(){const[e,t]=f("nominal"),n=c("Disallowed recursion in Branch.",(n=>{if("final"===e.state)throw new Error("Attempted to mutate a finalized Ref.");const r=e.state;try{t("might_change"),n()}finally{t(r)}}));return[e,n,()=>t("final")]}(),[a,i]=D(t,e);return[a,e=>n((()=>i(e))),r]}function p(e){let t=e.empty;const n=()=>()=>{const n=t;return t=e.empty,n},[r,a,i]=m(n());return[r,r=>{t=e.concat(t,r),a(n())},i]}function b(e,t){return n=>{let a=new Array(e).fill(t.empty);return new Array(e).fill(null).map(((e,i)=>(0,r.zG)(n,y(l.UI((e=>{const n=t.concat(a[i],e);return a=a.map(((n,r)=>r===i?t.empty:t.concat(n,e))),n}))))))}}function h(e){return{get current(){return e},onChange:()=>()=>{},branch:{state:"final",onStateChange:()=>()=>{}}}}function v(e){return t=>{const n=t.onChange(e);return e(t.current),n}}function y(e,t){if(t){const[n,r]=D(t.branch,e(t.current));return t.onChange((t=>r(e(t)))),n}return t=>y(e,t)}const w={URI:g,map:(e,t)=>y(t)(e)},S=d.YO(w),E=d.Hr(w),I=e=>G((t=>y(t)(e))),_={URI:g,of:h,map:w.map,ap:(e,t)=>I(t)(e)};function G(e,t){return t?k(y(e,t)):t=>k(y(e,t))}function k(e){if("final"===e.branch.state)return e.current;const[t,n]=function(e,t){let n=t;const r=[e.state,n.state].includes("might_change")?"might_change":"nominal",[a,i]=f(r),o=e=>t=>{switch(t){case"final":i(e().state);break;case"might_change":i("might_change");break;case"nominal":"might_change"===e().state?i("might_change"):i("nominal");break;default:throw new Error(`Ref bug: Unexpected upstream state ${t}`)}};e.onStateChange(o((()=>n)));const s=o((()=>e));let c=n.onStateChange(s);return[a,e=>{n=e,c(),c=e.onStateChange(s),s(n.state)}]}(e.branch,e.current.branch),[r,a]=D(t,e.current.current);let i=e.current.onChange(a);return e.onChange((e=>{i(),i=e.onChange(a),n(e.branch),a(e.current)})),r}function z(e){return t=>{if("final"===t.branch.state)return t;let n=a.YP;return y((t=>{if(a.Wi(n))return n=a.G(t),t;const r=e(n.value,t);return n=a.G(r),r}),t)}}function U(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{if(2===t.length){let n=t[0];return y((e=>(n=t[1](n,e),n)),e)}let n=a.bM();return y((e=>{const r=t[0](n,e);return n=a.G(r),r}),e)}}function x(){if(0===arguments.length||A(arguments.length<=0?void 0:arguments[0]))return P(...arguments);const e=arguments.length<=0?void 0:arguments[0],t=Object.keys(e);return(0,r.zG)(Object.values(e),(e=>P(...e)),y((0,r.ls)(i.Su(((e,n)=>[t[e],n])),Object.fromEntries)))}function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return h([]);if(1===t.length)return y((e=>[e]))(t[0]);let r=!1;t.forEach((e=>e.onChange((()=>{if("might_change"!==e.branch.state)throw new Error("Ref bug: Received a change notification without a `might_change` state.");r=!0}))));const a=t.map((0,o.vg)("branch")),i=()=>{r&&(r=!1,f(t.map((e=>e.current))))},s=u(a,i),[c,f]=D(s,t.map((e=>e.current)));return c}function q(e){const[t,n,i]=m(a.YP);return e().then((0,r.ls)(a.G,n,i)),t}function C(e){const t=e.hasOwnProperty("equals")?e.equals:e;return z(((e,n)=>t(e,n)?e:n))}function T(e){return A(e)?e:h(e)}function O(e){return t=>(v(e)(t),t)}function D(e,t){if("final"===e.state)return[h(t),()=>{}];const n=s(t);e.onStateChange((e=>{"final"===e&&n.terminate()}));let r=t;return[{get current(){return r},onChange:n.addListener,branch:e},c("Disallowed recursion in Ref.",(e=>{r=e,n.notify(r)}))]}function A(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&"function"==typeof e.onChange}},116:(e,t,n)=>{n.d(t,{Hr:()=>h,K4:()=>u,KD:()=>w,UI:()=>l,VS:()=>m,YO:()=>v,_i:()=>I,ak:()=>b,bw:()=>g,dQ:()=>f,kR:()=>S,of:()=>d,vP:()=>p,yi:()=>y});var r=n(851),a=n(735),i=n(652),o=n(923),s=n(567),c=n(706);const u=e=>(0,a.ls)((t=>{let{previousState:n,...r}=t;return e(r)}),(e=>({value:e,state:r.a9(void 0)}))),f=a.yR,d=(0,a.ls)(a.a9,u),l=e=>t=>(0,a.ls)(t,(0,i.rO)({value:e})),g=e=>t=>(0,a.ls)(t,(0,i.rO)({value:(0,i.bw)(e)}));function m(e){return t=>n=>{let{previousState:a,...i}=n;const o=t({previousState:Array.isArray(a)?a[0]:void 0,...i}),s=e(o.value)({previousState:Array.isArray(a)?a[1]:void 0,...i});return{value:s.value,state:r.vP(o.state,s.state)}}}function p(e){return t=>{let{previousState:n,...i}=t;const s=G(n)?n:{},c=(0,a.zG)(e,o.Su(((e,t)=>t({previousState:s[e],...i}))));return{value:(0,a.zG)(c,o.UI((e=>e.value))),state:(0,a.zG)(c,o.UI((e=>e.state)),(e=>r.vP(e)))}}}function b(e,t){return n=>(0,a.ls)((0,i.rO)({previousState:_}),(i=>{const o=n(i),s=t(o.value)({...i,previousState:i.previousState[e]});return{value:(0,a.zG)([o.value,s.value],(t=>{let[n,r]=t;if(!G(n))throw new Error("Service.bind() was passed an upstream Service with a non-record value.");return{...n,[e]:r}})),state:(0,a.zG)(r.vP(o.state,s.state),r.UI((t=>{let[n,r]=t;if(void 0===n)return{[e]:r};if(!G(n))throw new Error("Service.bind() was passed an upstream Service with a non-record state.");return{...n,[e]:r}})))}}))}const h=(e,t)=>l((n=>({...n,[e]:t(n)})));function v(e){return t=>(0,a.ls)((0,i.rO)({previousState:(0,a.ls)(_,(t=>t[e]))}),t,(0,i.rO)({value:t=>({[e]:t}),state:r.UI((t=>({[e]:t})))}))}const y=(e,t)=>{const n=t||(t=>t===e);return t=>f((o=>{let{previousState:s,...c}=o;const u=Array.isArray(s)&&2===s.length&&n(s[0])?s[1]:void 0;return(0,a.zG)({previousState:u,...c},t,(0,i.rO)({state:r.UI((t=>[e,t]))}))}))},w=e=>{const t=e.slice(0,-1),n=e.slice(-1)[0],r=[...t.map((e=>{let[t,n]=e;return[t,(0,a.a9)(n)]})),(0,a.a9)(n)];return S((0,i.lo)(r))};function S(e){return(0,a.ls)(r.UI(e),E)}function E(e){const t=(0,a.zG)(e,r.Rp(0,(e=>e+1)));return n=>{let{previousState:i,stopped:o,...c}=n;return(0,a.zG)(r.vP(e,t),r.Rp(((e,n)=>{let[u,f]=n;return(0,a.zG)(e,s.UI((e=>e.state.current)),s.fS((()=>i)),(e=>u({previousState:e,stopped:(0,a.zG)(r.vP(o,t),r.UI((e=>{let[t,n]=e;return t||n!==f}))),...c})))})),(e=>({value:r.UI((e=>e.value),e),state:r.VS((e=>e.state),e)})))}}const I=(e,t)=>n=>f((o=>{let{previousState:u,stopped:f}=o;return(0,a.zG)(r.vP(f,n),r.D8(((e,t)=>{let[n]=t;return n})),r.UI(c.Yg),r.Rp(((e,n)=>(0,a.zG)(e,s.UI(c.Yg),s.fS((()=>{return(0,a.zG)((e=u,(0,i.El)(e)?e:s.YP),t);var e})),n))),(t=>({state:(0,a.zG)(t,r.UI(c.Yg),e,r.UI(s.G)),value:(0,a.zG)(t,r.UI(c.li))})))}));function _(e){return G(e)?e:{}}function G(e){return"object"==typeof e&&null!==e}},930:(e,t,n)=>{n.d(t,{d:()=>d,m:()=>f});var r=n(735),a=n(365),i=n(567),o=n(851),s=n(652),c=n(116),u=n(268);const f=e=>c.dQ((t=>{let{stopped:n,previousState:c}=t;const u=function(e){return b(e)?e:{validityKey:"",lastSuccess:i.YP}}(c),f=(0,r.zG)(u,(e=>({...e,inFlight:i.YP,lastSuccess:(0,r.zG)(e.lastSuccess,i.UI(a.F2))}))),d=(0,r.zG)(e,o.UI((e=>"currentTimestampSecs"in e&&"freshness"in e&&"validity"in e?e:{currentTimestampSecs:0,validity:{key:e.validityKey,maxAge:Number.MAX_SAFE_INTEGER},freshness:{key:e.freshnessKey,maxAge:Number.MAX_SAFE_INTEGER},refresh:e.refresh})),(e=>o.vP(e,n)),o.Rp(o.a9(f),((e,t)=>{let[n,c]=t;if(c)return e;const u=n.validity.key(),f=i.hX((e=>n.currentTimestampSecs-e.timestamp<=n.validity.maxAge)),d=(0,s.HP)(n.freshness.key),l=i.hX((e=>n.currentTimestampSecs-e.timestamp<=n.freshness.maxAge&&e.freshnessKey===d())),g=(0,r.zG)(e,o.UI((0,r.ls)(i.DT((e=>e.validityKey===u)),i.EQ((()=>({validityKey:u,inFlight:i.YP,lastSuccess:i.YP})),(0,s.rO)({inFlight:f,lastSuccess:i.tS(a.EQ((e=>i.G(a.t$(e))),(0,r.ls)(i.G,f,i.UI((e=>a.F2(e))))))})))),o.D8(m()));if((0,r.zG)(g.current,(e=>(0,r.zG)(e.inFlight,i.wp((()=>(0,r.zG)(e.lastSuccess,i.tS(i.Uo)))),l,i.pC))))return g;const p=()=>({timestamp:n.currentTimestampSecs,freshnessKey:d(),output:i.YP});return(0,r.zG)(n.refresh,i.EQ((()=>g),(0,r.ls)(o.fF,o.UI(i.EQ((()=>(0,r.zG)(g,o.UI((0,s.rO)({inFlight:()=>i.G(p())})))),a.EQ((e=>(0,r.zG)(g,o.UI((0,s.rO)({inFlight:()=>i.YP,lastSuccess:(0,r.ls)(i.tS((0,r.ls)(i.Uo,i.hX((e=>i.pC(e.output))))),a.Yo((()=>e)),i.G)})))),(e=>o.a9({validityKey:u,inFlight:i.YP,lastSuccess:i.G(a.F2({...p(),output:i.G(e)}))}))))),o.xH)))})),o.xH,o.D8(m())),l=(0,r.zG)(d,o.UI((e=>({validityKey:e.validityKey,lastSuccess:(0,r.zG)(e.lastSuccess,i.tS(i.Uo))}))),o.D8(p())),g=(0,r.zG)(l,o.Rp(-1,(e=>e+1)));return{value:(0,r.zG)(d,o.UI((0,r.ls)((0,s.vg)("lastSuccess"),i.UI(a.UI((e=>e.output))),i.fS((()=>a.F2(i.YP)))))),state:(0,r.zG)(o.vP(l,g),o.UI((e=>{let[t,n]=e;return n>0?t:p().equals(t,u)?c:t})))}})),d=e=>t=>(0,r.ls)((0,s.rO)({previousState:(0,r.ls)(i.DT(b),i.YO("s1"),i.Hr("s2",(t=>{let{s1:n}=t;return(0,r.zG)(n,(0,s.rO)({lastSuccess:i.UI((0,s.rO)({output:i.tS(e)}))}))})),i.UI((e=>{let{s1:t,s2:n}=e;return p().equals(t,n)?t:n})),i.FS)}),t),l=()=>u.n_({freshnessKey:(0,s.Or)(),timestamp:(0,s.Or)(),output:i.Eh((0,s.Or)())});function g(e){return"object"==typeof e&&null!==e&&(!(!("freshnessKey"in e)||!h(e.freshnessKey))&&("timestamp"in e&&"number"==typeof e.timestamp&&!(!("output"in e)||!(0,s.El)(e.output))))}const m=()=>u.n_({validityKey:(0,s.Or)(),inFlight:i.Eh(l()),lastSuccess:i.Eh(a.Eh((0,s.Or)(),l()))}),p=()=>u.n_({validityKey:(0,s.Or)(),lastSuccess:i.Eh(l())});function b(e){return"object"==typeof e&&null!==e&&(!(!("validityKey"in e)||!h(e.validityKey))&&!!("lastSuccess"in e&&(0,s.El)(e.lastSuccess)&&(0,r.zG)(e.lastSuccess,i.EQ((()=>!0),g))))}function h(e){return null===e||"string"==typeof e||"number"==typeof e}},975:(e,t,n)=>{n.r(t),n.d(t,{PermutiveActivationManagerWeb:()=>o,optimisedActivationsConfig:()=>i});class r{logger;permutive;id;segmentCode;triggerType;config;workspaceLevelConfig;prefix="[Activation]";constructor(e,t,n,r,a,i,o){this.logger=e,this.permutive=t,this.id=n,this.segmentCode=r,this.triggerType=a,this.config=i,this.workspaceLevelConfig=o}getSegmentCode(){return this.segmentCode}getTriggerType(){return this.triggerType}getConfig(){return this.config}getWorkspaceLevelConfig(){return this.workspaceLevelConfig}trackImpression(e){return this.trackActivation("impression",e)}trackConversion(e){return this.trackActivation("conversion",e)}trackActivation(e,t){const n={reaction_id:this.id,type:e};this.permutive.track("Reaction",n,t),this.logger.log(this.prefix,n.type,n)}}var a=n(853);const i={dfp:{dfp:[103274,66696,65998,65975,65984,66011,136207,73164,65971,60219,66027,85242,72074,66045,86063,71937,106291,105732,66705,66008,114267,71953,66014,71958,124688,65995,71902,72004,71928,71986,72015,150328,72032,155797,66023,71975,71938,72033,65983,65977,99133,141565,66037,72043,71964,65997,72056,124692,66020,66051,141571,72058,71951,72071,72009,141569,66021,72036,107478,66016,86062,164684,72037,65992,66044,77498,66031,65974,71974,105126,65987,153456,65989,66157,66049,136561,122876,65966,71927,136562,141557,115581,125228,72681,72007,72020,65973,65981,141563,72069,71976,71931,72070,72011,71960,72013,97266,71961,71948,66018,71950,66015,72023,71971,71922,157581,71935,73166,122990,71918,154088,113218,71926,66002,72057,71952,66034,98385,103671,136570,71970,167759,72042,136563,72040,71949,72062,71965,142968,65972,71985,88695,71923,72044,71903,71917,65993,130380,136567,66007,72026,72031,167757,123342,71977,173531,141564,72038,65978,65969,72054,71932,65455,72059,122884,171932,66036,71957,66050,66010,66042,141558,71994,71901,66046,71980,173535,65970,66029,72028,71900,65976,123341,141562,72010,72016,65994,109284,105807,72049,65999,72002,71933,66156,65965,72035,65986,71999,66004,66697,71988,141560,89083,65990,66706,66047,71972,89082,66e3,120929,65979,110675,71921,148259,72073,66005,71990,85663,167850,72063,154087,71997,72024,98617,66013,123501,72030,71978,66019,66001,71979,136568,72027,71920,71954,71939,72025,71962,72039,65991,141559,131415,141561,72064,66041,72068,76469,71925,104041,158530,157576,66024,61825,72006,71995,99323,71936,97849,72048,89081,71983,137550,71987,66030,72014,66040,72008,66022,104860,71916,146605,173536,71991,72047,66012,97851,71993,72017,66048,136565,71963,72003,66704,157579,72034,101097,71984,72012,136566,71956,73165,66017,122441,72060,64821,72041,114499,66009,65980,72053,93629,123923,71929,71919,71924,148169,66043,165986,66025,72061,72066,71969,79652,71959,114299,73965,72e3,72046,71982,136199,88179,61780,71996,136200,72045,115678,72001,86061,89077,136205,65457,65985,146608,71915,71934,71981,67013,65967,65982,65456,66033,66026,71930,71989,72021,72005,72018,124682,65988,72022,97267,136202,89079,72711,71968,141566,72019,66028,122989,72055,85747,89086,134452,174914,65996,66039,71992,136564,173765,104864,72065,72075,65968,66032,71966,146607,141567,72072,71955,83156,72067,98608,71998,71967,66003,66035,153453,72029,71904,71973,66038,66006,71899,176358,140871,140869,140872,177173,177205,177267,177282,177283,177285,177286,177713,177714,176931,176930,178570,178717,181492,181493,181494,181495,181496,181497,181498,181499,183954,184178,185676,185679,185692,185693,185802,185804,187181,188447,188448,188449,188450,188451,188452,188586,190329,190330,190405,190406,190480,190481,190482,190483,190484,190485,190486,190488,190634,191837,191830,191971,192129,192131,192263,192271,191577,194689,194686,194838,194839,194840,194842,194971,194972,195076,195741,195742,199464,199465,199467,199469,199470,199471,199589,199590],dfp_legacy:{}},eyeota_pixel:[],dbm:{omitted:21},appnexus:{66038:27146842},appnexus_adserver:[65988,65992,71920,65966,65970,65979,65965,65990,71962,65973,67013],nativo:[],rubicon_ssp:[],smart:[],freewheel:[]};class o{logger;permutive;clientContext;constructor(e,t,n){this.logger=e,this.permutive=t,this.clientContext=n}getSpecializedActivations(e){return i[e]}getActivations(e){return(0,a.Hn)(e)("activationConfigs",[]).filter((e=>this.areContextCriteriaSatisfied(e))).map((e=>new r(this.logger,this.permutive,e.id,e.sc,e.tt,e.c,e.wc)))}areContextCriteriaSatisfied(e){const t=e.cc,n=e=>{const t=this.clientContext.getContext()[e.key];switch(e.comparison){case"EQUALS":return t===e.value;case"NOT_EQUALS":return t!==e.value;case"CONTAINS":return"string"==typeof t&&t.indexOf(e.value)>=0;case"NOT_CONTAINS":return"string"==typeof t&&t.indexOf(e.value)<0}};return!t||("AND"===(r=t).operator?r.criteria.every(n):r.criteria.some(n));var r}}},853:(e,t,n)=>{n.d(t,{Hn:()=>a});const r={standard_cohorts:{auto_init:!0,activationConfigs:[]},piano:{auto_init:!1,activationConfigs:[]},rubicon_ssp:{auto_init:!0,publisher_id:"15366",activationConfigs:[]},classification_models:{auto_init:!0,activationConfigs:[]},dfp:{auto_init:!0,track_slot_rendered:!1,track_slot_viewable:!0,track_slot_clicked:!0,activationConfigs:[]},ssp:{auto_init:!0,ssps:["appnexus"],cohort_mapping:{1e7:"bgyz",10000001:"bhgp",10000002:"bhhc",10000003:"bhhg",10000004:"bhhk",10000005:"bhhp",10000006:"bhhv",10000007:"bhhy",10000008:"bhie",10000010:"bhis",10000011:"bhiz",10000012:"bhji",10000013:"bhjq",10000014:"bhka",10000015:"bhkl",10000016:"bhkr",10000017:"bhky",10000018:"bhlg",10000019:"bhli",10000020:"bhlo",10000021:"bhlp",10000022:"bhnd",10000023:"bhnl",10000024:"bhnp",10000025:"bhnw",10000026:"bhoj",10000035:"bgzb",10000036:"bhgq",10000037:"bhgs",10000038:"bhgw",10000039:"bhgy",10000040:"bhgz",10000041:"bhhe",10000042:"bhhh",10000043:"bhhw",10000044:"bhhx",10000045:"bhhz",10000046:"bhia",10000047:"bhif",10000048:"bhig",10000049:"bhii",10000050:"bhij",10000051:"bhik",10000052:"bhim",10000053:"bhip",10000054:"bhit",10000055:"bhiu",10000056:"bhiv",10000057:"bhiy",10000058:"bhjm",10000059:"bhjr",10000060:"bhjs",10000061:"bhjw",10000062:"bhjx",10000063:"bhkm",10000064:"bhir",10000065:"bhko",10000066:"bhkp",10000067:"bhkq",10000068:"bhkz",10000069:"bhla",10000070:"bhlb",10000071:"bhle",10000072:"bhlf",10000073:"bhlq",10000074:"bhlt",10000075:"bhlu",10000076:"bhlw",10000077:"bhlx",10000078:"bhly",10000079:"bhmb",10000080:"bhmi",10000081:"bhmj",10000082:"bhml",10000083:"bhmp",10000084:"bhmr",10000085:"bhmw",10000086:"bhmz",10000087:"bhne",10000088:"bhnf",10000089:"bhni",10000090:"bhnn",10000324:"bhhj",10000325:"bhhi",10000327:"bhku",10000328:"bhkt",10000329:"bhkw",10000330:"bhkv",10000687:"bgzc",10000688:"bgza",10000689:"bhha",10000690:"bhgt",10000691:"bhgx",10000692:"bhgv",10000693:"bhgr",10000694:"bhgu",10000695:"bhhb",10000696:"bhhd",10000697:"bhhf",10000698:"bhhl",10000699:"bhho",10000700:"bhhm",10000701:"bhhn",10000702:"bhhq",10000703:"bhht",10000704:"bhhu",10000705:"bhhs",10000706:"bhhr",10000707:"bhib",10000708:"bhid",10000709:"bhic",10000710:"bhio",10000711:"bhin",10000712:"bhil",10000713:"bhiq",10000714:"bhih",10000715:"bhiw",10000716:"bhix",10000717:"bhja",10000718:"bhjc",10000719:"bhjd",10000720:"bhje",10000721:"bhjf",10000722:"bhjb",10000723:"bhjg",10000724:"bhjh",10000725:"bhjo",10000726:"bhjk",10000727:"bhjn",10000728:"bhjj",10000729:"bhjl",10000730:"bhjy",10000731:"bhju",10000732:"bhjv",10000733:"bhjz",10000734:"bhjt",10000735:"bhkj",10000736:"bhkk",10000737:"bhki",10000738:"bhkd",10000739:"bhkc",10000740:"bhkf",10000741:"bhkh",10000742:"bhkb",10000743:"bhkg",10000744:"bhke",10000745:"bhjp",10000746:"bhkn",10000747:"bhkx",10000748:"bhks",10000749:"bhld",10000750:"bhlc",10000751:"bhlh",10000752:"bhlk",10000753:"bhlj",10000754:"bhll",10000755:"bhlm",10000756:"bhlv",10000757:"bhna",10000758:"bhmv",10000759:"bhmt",10000760:"bhmy",10000761:"bhmc",10000762:"bhmo",10000763:"bhls",10000764:"bhmq",10000765:"bhme",10000766:"bhmh",10000767:"bhlz",10000768:"bhlr",10000769:"bhnb",10000770:"bhmk",10000771:"bhmu",10000772:"bhmx",10000773:"bhmg",10000774:"bhmd",10000775:"bhmf",10000776:"bhnc",10000777:"bhmn",10000778:"bhmm",10000779:"bhma",10000780:"bhms",10000781:"bhng",10000782:"bhnj",10000783:"bhnh",10000784:"bhnk",10000785:"bhno",10000786:"bhnm",10000787:"bhnu",10000788:"bhnv",10000789:"bhns",10000790:"bhnt",10000791:"bhnq",10000792:"bhnr",10000793:"bhob",10000794:"bhny",10000795:"bhod",10000796:"bhoh",10000797:"bhog",10000798:"bhnz",10000799:"bhoa",10000800:"bhoe",10000801:"bhnx",10000802:"bhoc",10000803:"bhof"},all_cohort_mapping:{1e7:["bgyz"],10000001:["bhgp"],10000002:["bhhc"],10000003:["bhhg"],10000004:["bhhk"],10000005:["bhhp"],10000006:["bhhv"],10000007:["bhhy"],10000008:["bhie"],10000010:["bhis"],10000011:["bhiz"],10000012:["bhji"],10000013:["bhjq"],10000014:["bhka"],10000015:["bhkl"],10000016:["bhkr"],10000017:["bhky"],10000018:["bhlg"],10000019:["bhli"],10000020:["bhlo"],10000021:["bhlp"],10000022:["bhnd"],10000023:["bhnl"],10000024:["bhnp"],10000025:["bhnw"],10000026:["bhoj"],10000035:["bgzb"],10000036:["bhgq"],10000037:["bhgs"],10000038:["bhgw"],10000039:["bhgy"],10000040:["bhgz"],10000041:["bhhe"],10000042:["bhhh"],10000043:["bhhw"],10000044:["bhhx"],10000045:["bhhz"],10000046:["bhia"],10000047:["bhif"],10000048:["bhig"],10000049:["bhii"],10000050:["bhij"],10000051:["bhik"],10000052:["bhim"],10000053:["bhip"],10000054:["bhit"],10000055:["bhiu"],10000056:["bhiv"],10000057:["bhiy"],10000058:["bhjm"],10000059:["bhjr"],10000060:["bhjs"],10000061:["bhjw"],10000062:["bhjx"],10000063:["bhkm"],10000064:["bhir"],10000065:["bhko"],10000066:["bhkp"],10000067:["bhkq"],10000068:["bhkz"],10000069:["bhla"],10000070:["bhlb"],10000071:["bhle"],10000072:["bhlf"],10000073:["bhlq"],10000074:["bhlt"],10000075:["bhlu"],10000076:["bhlw"],10000077:["bhlx"],10000078:["bhly"],10000079:["bhmb"],10000080:["bhmi"],10000081:["bhmj"],10000082:["bhml"],10000083:["bhmp"],10000084:["bhmr"],10000085:["bhmw"],10000086:["bhmz"],10000087:["bhne"],10000088:["bhnf"],10000089:["bhni"],10000090:["bhnn"],10000324:["bhhj"],10000325:["bhhi"],10000327:["bhku"],10000328:["bhkt"],10000329:["bhkw"],10000330:["bhkv"],10000687:["bgzc"],10000688:["bgza"],10000689:["bhha"],10000690:["bhgt"],10000691:["bhgx"],10000692:["bhgv"],10000693:["bhgr"],10000694:["bhgu"],10000695:["bhhb"],10000696:["bhhd"],10000697:["bhhf"],10000698:["bhhl"],10000699:["bhho"],10000700:["bhhm"],10000701:["bhhn"],10000702:["bhhq"],10000703:["bhht"],10000704:["bhhu"],10000705:["bhhs"],10000706:["bhhr"],10000707:["bhib"],10000708:["bhid"],10000709:["bhic"],10000710:["bhio"],10000711:["bhin"],10000712:["bhil"],10000713:["bhiq"],10000714:["bhih"],10000715:["bhiw"],10000716:["bhix"],10000717:["bhja"],10000718:["bhjc"],10000719:["bhjd"],10000720:["bhje"],10000721:["bhjf"],10000722:["bhjb"],10000723:["bhjg"],10000724:["bhjh"],10000725:["bhjo"],10000726:["bhjk"],10000727:["bhjn"],10000728:["bhjj"],10000729:["bhjl"],10000730:["bhjy"],10000731:["bhju"],10000732:["bhjv"],10000733:["bhjz"],10000734:["bhjt"],10000735:["bhkj"],10000736:["bhkk"],10000737:["bhki"],10000738:["bhkd"],10000739:["bhkc"],10000740:["bhkf"],10000741:["bhkh"],10000742:["bhkb"],10000743:["bhkg"],10000744:["bhke"],10000745:["bhjp"],10000746:["bhkn"],10000747:["bhkx"],10000748:["bhks"],10000749:["bhld"],10000750:["bhlc"],10000751:["bhlh"],10000752:["bhlk"],10000753:["bhlj"],10000754:["bhll"],10000755:["bhlm"],10000756:["bhlv"],10000757:["bhna"],10000758:["bhmv"],10000759:["bhmt"],10000760:["bhmy"],10000761:["bhmc"],10000762:["bhmo"],10000763:["bhls"],10000764:["bhmq"],10000765:["bhme"],10000766:["bhmh"],10000767:["bhlz"],10000768:["bhlr"],10000769:["bhnb"],10000770:["bhmk"],10000771:["bhmu"],10000772:["bhmx"],10000773:["bhmg"],10000774:["bhmd"],10000775:["bhmf"],10000776:["bhnc"],10000777:["bhmn"],10000778:["bhmm"],10000779:["bhma"],10000780:["bhms"],10000781:["bhng"],10000782:["bhnj"],10000783:["bhnh"],10000784:["bhnk"],10000785:["bhno"],10000786:["bhnm"],10000787:["bhnu"],10000788:["bhnv"],10000789:["bhns"],10000790:["bhnt"],10000791:["bhnq"],10000792:["bhnr"],10000793:["bhob"],10000794:["bhny"],10000795:["bhod"],10000796:["bhoh"],10000797:["bhog"],10000798:["bhnz"],10000799:["bhoa"],10000800:["bhoe"],10000801:["bhnx"],10000802:["bhoc"],10000803:["bhof"]},affinity_enabled:!1,activationConfigs:[]},facebook_pixel_v2:{auto_init:!0,activationConfigs:[{id:"7c4db52e-2802-4865-8dcb-5c87331414c7",tt:"EveryTime",sc:94128,c:{},wc:{}},{id:"ba2cf7b0-6100-47f8-b41f-39659cc177d4",tt:"EveryTime",sc:97851,c:{},wc:{}},{id:"042030b7-9bb6-44ff-9ab0-1064b43cee89",tt:"EveryTime",sc:86063,c:{},wc:{}},{id:"091895ba-12d1-4a3c-8bf5-60a1da6e0d15",tt:"EveryTime",sc:94127,c:{},wc:{}},{id:"0fe79cce-205b-49d0-9a92-cce41bf1fee5",tt:"EveryTime",sc:98617,c:{},wc:{}},{id:"0a051977-4abe-440d-a71d-7803ebe52e02",tt:"EveryTime",sc:71967,c:{},wc:{}},{id:"22173417-ef70-40e5-9a75-c62826384e08",tt:"EveryTime",sc:89086,c:{},wc:{}},{id:"28e38578-4e2b-40be-bb2e-1cb820b219dd",tt:"EveryTime",sc:101097,c:{},wc:{}},{id:"2163711a-952d-4557-8d7b-c4d1a82e936e",tt:"EveryTime",sc:72038,c:{},wc:{}},{id:"21c891cd-a08a-4ee7-95a4-44ffc94a7e9d",tt:"EveryTime",sc:65455,c:{},wc:{}},{id:"2df1afd3-5022-4584-96fc-0b0831ecd5d4",tt:"EveryTime",sc:137550,c:{},wc:{}},{id:"511d8380-596f-48c2-b1f8-d6f780c5f31d",tt:"EveryTime",sc:89079,c:{},wc:{}},{id:"333cdbcc-61a0-47f5-a0db-d32953c6e7c3",tt:"EveryTime",sc:65965,c:{},wc:{}},{id:"5fee62fe-b082-4c71-b82d-d6e45eea1088",tt:"EveryTime",sc:99323,c:{},wc:{}},{id:"66437013-6886-45a1-9c1e-964501d8298a",tt:"EveryTime",sc:94129,c:{},wc:{}},{id:"67261b29-d79a-4a3f-94c0-e98d70e63f35",tt:"EveryTime",sc:86061,c:{},wc:{}},{id:"683985aa-73e7-4a76-9ed9-8690f90486b9",tt:"EveryTime",sc:72060,c:{},wc:{}},{id:"5f811ca3-63c2-459f-aa74-1a60722ae734",tt:"EveryTime",sc:85242,c:{},wc:{}},{id:"6b4c4222-ee70-472d-8ada-226f72b1912a",tt:"EveryTime",sc:71973,c:{},wc:{}},{id:"741acd11-ef5a-4afe-b0b8-5dbaed873a47",tt:"EveryTime",sc:94125,c:{},wc:{}},{id:"786b7481-0edd-4d8e-9457-6626a84da7f6",tt:"EveryTime",sc:97267,c:{},wc:{}},{id:"6b1fed6e-6981-419e-9559-59974b0e6045",tt:"EveryTime",sc:97266,c:{},wc:{}},{id:"7d7f59c6-dc3f-43a9-88f9-cce2a592b7bf",tt:"EveryTime",sc:89083,c:{},wc:{}},{id:"8c6a38c0-e59f-44fe-a600-5592cbcd1db2",tt:"EveryTime",sc:89077,c:{},wc:{}},{id:"945e9276-2350-45d3-866e-3f97beed3cb6",tt:"EveryTime",sc:103274,c:{},wc:{}},{id:"9ee2603f-2519-426d-b276-83b2635dad56",tt:"EveryTime",sc:89081,c:{},wc:{}},{id:"a32c60db-1e30-4590-aef1-74ac49b79abf",tt:"EveryTime",sc:72031,c:{},wc:{}},{id:"a3a3d74d-fd83-4952-bcd5-f20759437854",tt:"EveryTime",sc:94126,c:{},wc:{}},{id:"b8199195-22a4-48c2-9ecc-a1aebb387e2e",tt:"EveryTime",sc:97849,c:{},wc:{}},{id:"c6e5e965-4522-4e46-b780-68f3f70f92b5",tt:"EveryTime",sc:89082,c:{},wc:{}},{id:"cf7dc93c-ac86-4d33-8e0d-ed0f3d63d6e8",tt:"EveryTime",sc:64821,c:{},wc:{}},{id:"da17eccb-c31c-4d49-9cd7-e7978762b6a3",tt:"EveryTime",sc:65456,c:{},wc:{}},{id:"e09bad74-8074-4dc5-aea9-537765b74bab",tt:"EveryTime",sc:65457,c:{},wc:{}},{id:"de5d4f9f-b3b5-46d7-ad76-0884722c8684",tt:"EveryTime",sc:65967,c:{},wc:{}},{id:"e6d14ea7-0988-46e5-aba2-7ab747e7fdce",tt:"EveryTime",sc:65993,c:{},wc:{}},{id:"e115c140-3d2a-462f-908e-aea953e37142",tt:"EveryTime",sc:142968,c:{},wc:{}},{id:"f216f9d4-ad01-4bcf-b51e-6023b90c01f9",tt:"EveryTime",sc:86062,c:{},wc:{}},{id:"f479b8de-0adc-4e6c-996f-a156fef8b1db",tt:"EveryTime",sc:72039,c:{},wc:{}},{id:"4d764e20-9c2a-4f12-a15b-f0ab8f2fc719",tt:"EveryTime",sc:188586,c:{},wc:{}},{id:"1044f455-49f6-4863-a455-018265343ec8",tt:"EveryTime",sc:177267,c:{},wc:{}},{id:"1e30750f-f864-4c69-abdc-0a597996f979",tt:"EveryTime",sc:177282,c:{},wc:{}},{id:"3aaf0d7e-8f6a-46d2-b64b-058c558ef567",tt:"EveryTime",sc:188175,c:{},wc:{}}]},gam_log:{auto_init:!0,activationConfigs:[]},tracking_pixel:{auto_init:!0,activationConfigs:[]},dbm:{auto_init:!0,entity_id:5949432,product_type:"INVITE_PARTNER",activationConfigs:[]},twitter_pixel:{auto_init:!0,activationConfigs:[]},web:{auto_init:!1,engagement_edge_only:!0,segment_transition_edge_only:!0,activationConfigs:[]},appnexus:{auto_init:!0,member_id:3967,activationConfigs:[]},appnexus_adserver:{auto_init:!0,activationConfigs:[]},publishers:{auto_init:!1,add_alchemy_taxonomy:!0,add_alchemy_entities:!1,activationConfigs:[]}},a=e=>{const t=r[e];return(e,n)=>(null==t?void 0:t[e])??n};a("web"),a("dfp"),a("facebook_pixel_v2")},548:(e,t,n)=>{n.d(t,{X:()=>a,k:()=>r});const r=e=>({id:e.id,name:e.name,time:new Date(e.time),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),a=e=>({id:e.id,name:e.name,time:(i(e.time)?e.time:new Date).toISOString(),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),i=e=>isFinite(e)&&e instanceof Date},656:(e,t,n)=>{n.d(t,{F:()=>u,I:()=>c});var r=n(851),a=n(392),i=n(328),o=n(735),s=n(652);const c=(e,t)=>{let n=!1;return r.UI(a.UI((0,s.bw)((r=>{n||(n=(0,o.zG)(r,i.G((e=>{let[,t]=e;return"Pageview"===t.name}))),n&&e.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:t,time_origin:"sdk_init"}))}))))},u=(e,t)=>{const n=c(e,t);return(0,o.ls)(r.En(2,i.uZ()),(e=>{let[t,a]=e;return(0,o.zG)(a,n,r.UI((e=>e()))),t}))}},373:(e,t,n)=>{n.r(t),n.d(t,{service:()=>Aa});var r=n(735),a=n(116),i=n(851),o=n(567),s=n(377);const c=e=>{const t=e.current;return(0,r.zG)(e,i.UI((e=>e===t?{segmentsEntered:[],segmentsExited:[]}:{segmentsEntered:(0,r.zG)(e,f(t)),segmentsExited:(0,r.zG)(t,f(e))})))},u=e=>new Set(e),f=e=>t=>(0,r.zG)(t,d((t=>!e.has(t)))),d=e=>t=>{const n=[];return t.forEach((t=>e(t)&&n.push(t))),n};var l=n(392),g=n(328),m=n(652),p=n(268),b=n(751);const h=e=>{let{events:t,...n}=e;return a.K4((e=>{let{stopped:a}=e;const[s,c,u]=(0,r.zG)(t,i.En(3,g.uZ())),f=(0,r.zG)(i.vP(n.viewId,n.currentTimestampSecs,u,a),i.Rp(o.YP,((e,t)=>{let[n,a,i,s]=t;if(s)return e;const c=i();return(0,r.zG)(e,o.hX((e=>e.id===n)),o.EQ((()=>({id:n,lastEngagementTime:a})),(e=>({id:n,lastEngagementTime:(0,r.zG)(c,g.dF((e=>{let[,t]=e;return"PageviewEngagement"===t.name})),o.EQ((()=>e.lastEngagementTime),(e=>{let[,t]=e;return Math.floor(t.time.getTime()/1e3)})))}))),o.G)})),(e=>i.vP(e,n.currentTimestampSecs)),i.UI((e=>{let[t,n]=e;return(0,r.zG)(t,o.hX((e=>600>n-e.lastEngagementTime)),o.UI((e=>e.id)))})),i.D8(o.Eh(b.Eq))),d={PageviewEngagement:{engaged_time:0},SegmentEntry:new Set,SegmentExit:new Set,CohortEntry:new Set,CohortExit:new Set},h=(0,r.zG)(i.vP({events:s,sessionId:n.sessionId,viewIdOpt:f,stopped:a}),i.Rp(o.YP,((e,t)=>{let{events:n,sessionId:a,viewIdOpt:i,stopped:s}=t;if(s)return e;const c=(0,r.zG)(i,o.UI((t=>(0,r.zG)(e,o.tS((0,m.vg)("unprocessedPVC")),o.hX((e=>e.viewId===t)),o.fS((()=>({aggregations:d,customProperties:{},sessionId:a,viewId:t}))),(e=>(0,r.zG)(n(),g.u4(e,((e,t)=>{let[,n]=t;return function(e,t){switch(t.name){case"Pageview":return t.view_id!==e.viewId?e:{...e,customProperties:t.properties};case"SegmentEntry":{const n=t.properties.segment_number;return(0,r.zG)(e,(0,m.rO)({aggregations:e=>e.SegmentExit.has(n)?(0,r.zG)(e,(0,m.rO)({CohortExit:w(String(n)),SegmentExit:w(n)})):(0,r.zG)(e,(0,m.rO)({CohortEntry:y(String(n)),SegmentEntry:y(n)}))}))}case"SegmentExit":{const n=t.properties.segment_number;return(0,r.zG)(e,(0,m.rO)({aggregations:e=>e.SegmentEntry.has(n)?(0,r.zG)(e,(0,m.rO)({CohortEntry:w(String(n)),SegmentEntry:w(n)})):(0,r.zG)(e,(0,m.rO)({CohortExit:y(String(n)),SegmentExit:y(n)}))}))}case"PageviewEngagement":{if(t.view_id!==e.viewId)return e;const n=t.properties;return(0,r.zG)(e,(0,m.rO)({aggregations:(0,m.rO)({PageviewEngagement:()=>({engaged_time:n.total_engaged_time,completion:n.total_completion})})}))}default:return e}}(e,n)})))))))),u=(0,r.zG)(e,o.EQ((()=>l.of(g.cS)),(e=>(0,r.zG)(e.unprocessedPVC,o.hX((e=>{var t;return e.viewId!==(null===(t=o.FS(c))||void 0===t?void 0:t.viewId)})),o.EQ((()=>e.pvcsToProcessImmediately),(t=>{let n=[...e.pvcsToProcessImmediately(),v(t)];return()=>{const e=n;return n=g.cS,e}}))))));return o.G({pvcsToProcessImmediately:u,unprocessedPVC:c})})));return{eventsToProcessImmediately:(0,r.zG)(h,i.UI(o.EQ((()=>()=>g.cS),(e=>e.pvcsToProcessImmediately))),(e=>i.vP(e,c)),i.UI(l.RD),i.UI(l.UI(g.xH))),eventsToProcessOnPageUnload:(0,r.zG)(h,i.UI(o.tS((0,m.vg)("unprocessedPVC"))),i.D8(o.Eh((0,p.MW)({aggregations:(0,m.Or)(),customProperties:(0,m.Or)(),sessionId:(0,m.Or)(),viewId:(0,m.Or)()}))),i.UI((0,r.ls)(o.UI(v),g.Yo)))}}))},v=e=>(0,r.bc)(`PageviewComplete-${e.viewId}`,{name:"PageviewComplete",time:new Date,session_id:e.sessionId,view_id:e.viewId,properties:{...e.customProperties,aggregations:(0,r.zG)(e.aggregations,(0,m.rO)({SegmentEntry:S,SegmentExit:S,CohortEntry:S,CohortExit:S}))}});const y=e=>t=>{const n=new Set(t);return n.add(e),n},w=e=>t=>{const n=new Set(t);return n.delete(e),n},S=e=>[...e];var E=n(992);const I=()=>({kind:"null",value:null}),_=e=>({kind:"string",value:e}),G=e=>({kind:"number",value:e}),k=e=>({kind:"array",value:e}),z=e=>({kind:"object",value:e}),U=e=>e,x=()=>({kind:"bottom"}),P=e=>({kind:"inner",a:e}),q=e=>({kind:"top",error:e}),C=e=>({kind:"unbounded",group:e}),T=(e,t)=>({kind:"windowed",key:t,group:e}),O=(e,t,n)=>({kind:"countLimit",n,limit:t,group:e}),D=(e,t,n)=>({kind:"uniqueLimit",n,limit:t,group:e}),A=e=>({kind:"numberGroup",group:e}),M=e=>({kind:"stringGroup",group:e}),j=e=>({kind:"tuple",tuple:e}),R=e=>({state:e}),F=(e,t)=>({commands:e,payload:t});var Y=n(209);const L=(e,t)=>{switch(e.kind){case"bottom":return{kind:"bottom"};case"inner":return P(t(e.a));case"top":return q(e.error)}},N=e=>(0,Y.Zt)(((t,n)=>{if("bottom"===t.kind&&"bottom"===n.kind)return 0;if("bottom"===t.kind)return-1;if("bottom"===n.kind)return 1;if("top"===t.kind&&"top"===n.kind)return b.Df.compare(t.error,n.error);if("top"===t.kind)return 1;if("top"===n.kind)return-1;if("inner"===t.kind&&"inner"===n.kind)return e.compare(t.a,n.a);throw new Error("Non exhaustive match in extendedAlgebraOrd")}));var $=n(885),H=n(500),Q=n(365),B=function(e){return-1===e?1:1===e?-1:0};function V(e,t){return(0,H.oA)(e.map(t))}function K(e,t,n,r){const a=(e,t)=>{if(0===e.length)return(0,H.oA)(t.map((e=>(0,o.G)({1:e[1],2:n(o.YP,(0,o.G)(e[2]))}))));if(0===t.length)return(0,H.oA)(e.map((e=>(0,o.G)({1:e[1],2:n((0,o.G)(e[2]),o.YP)}))));if(e.length>0&&t.length>0&&(0,Y.lt)(r)(e[0][1],t[0][1])){const[r,...i]=e,s=r[1],c=r[2];return(0,H.Ce)({1:s,2:n((0,o.G)(c),o.YP)})(a(i,t))}if(e.length>0&&t.length>0&&(0,Y.gt)(r)(e[0][1],t[0][1])){const[r,...i]=t,s=r[1],c=r[2];return(0,H.Ce)({1:s,2:n(o.YP,(0,o.G)(c))})(a(e,i))}if(e.length>0&&t.length>0){const[r,...i]=e,[s,...c]=t,u=r[1],f=r[2],d=s[2];return(0,H.Ce)({1:u,2:n((0,o.G)(f),(0,o.G)(d))})(a(i,c))}throw new Error("Non exhaustive match in mapOption2")},i=(0,Y.Uz)((e=>e[1]))(r),s=(e=>{const t=V(e,(e=>(0,o.pC)(e[2])?(0,o.G)({1:e[1],2:e[2].value}):o.YP));return 0===t.length?o.YP:(0,o.G)(t)})(a((0,H.DY)(i)([...e].map((e=>({1:e[0],2:e[1]})))),(0,H.DY)(i)([...t].map((e=>({1:e[0],2:e[1]}))))));return(0,o.UI)((e=>new Map(e.map((e=>[e[1],e[2]])))))(s)}function W(e,t,n,r){const a=(0,Y.Uz)((e=>e[0]))(r),i=(0,H.DY)(a)([...t]).reduceRight(((e,t)=>{if((0,Q.nM)(e)){const r=n(t[1],e.left);return(0,o.pC)(r)?(0,Q.t$)(r.value):(0,Q.F2)(t[0])}return e}),(0,Q.t$)(e));return(0,o.Uo)(i)}function X(e,t){return new Map([...e].map(t))}function J(e,t){return new Map([...e].filter(t))}var Z=n(11);function ee(e){return JSON.stringify(te(e))}function te(e){switch(e.kind){case"null":return ae.encode(e);case"string":return ie.encode(e);case"number":return oe.encode(e);case"array":return se.encode(e);case"object":return ce.encode(e)}}function ne(e){return null===e?ae.decode(e):"number"==typeof e?oe.decode(e):"string"==typeof e?ie.decode(e):Array.isArray(e)?se.decode(e):ce.decode(e)}const re=(e,t)=>(0,Q.t$)(`Failed to decode. Input was ${JSON.stringify(e)}. Codec type was ${t}`),ae={encode:e=>null,decode:e=>null===e?(0,Q.F2)({kind:"null",value:null}):re(e,"SimpleNull")},ie={encode:e=>e.value,decode:e=>"string"==typeof e?(0,Q.F2)(_(e)):re(e,"SimpleString")},oe={encode:e=>e.value,decode:e=>"number"==typeof e?(0,Q.F2)(G(e)):re(e,"SimpleNumber")},se={encode:e=>e.value.map(te),decode:e=>{if(Array.isArray(e)){const t=(0,H.fw)(Q.g1)(ne)(e);return(0,Q.UI)(k)(t)}return re(e,"SimpleArray")}},ce={encode:e=>{const t=[...e.value.entries()];return Object.assign({},...Array.from(t,(([e,t])=>({[e]:te(t)}))))},decode:e=>{if(e&&e.constructor===Object){const t=(0,H.fw)(Q.g1)((([e,t])=>(0,r.zG)(ne(t),(0,Q.UI)((t=>(0,r.bc)(e,t))))))(Object.entries(e));return(0,Q.UI)((e=>z(new Map([...e]))))(t)}return re(e,"SimpleObject")}};function ue(e){return(0,r.zG)(e,de,(0,o.UI)(ee),(0,o.fS)((()=>"<encode error>")))}function fe(e){return(0,o.UI)(he)(function(e){switch(e.state.kind){case"top":return(0,o.G)(_(e.state.error));case"bottom":return o.YP;case"inner":return de(e.state.a)}}(e))}function de(e){return function(e){switch(e.kind){case"numberGroup":case"stringGroup":return le(e.group);case"tuple":return e.tuple.length>0}}(e.payload)?(0,o.G)(k(function(e,t){const n=(0,o.UI)((e=>(0,H.Ce)(e)(t)))(e);return(0,o.fS)((()=>t))(n)}((0,o.UI)((e=>_(function(e){const t=e=>(0,o.EQ)((()=>""),(e=>"b"+JSON.stringify(e)))(e.bound),n=e=>{switch(e.operation){case"add":return"p";case"mul":return"m";case"max":return"v";case"min":return"n"}},r=e=>{const r=t(e[1])+n(e[1]);return 1===e[2]?r:r+JSON.stringify(e[2])};return e.map(r).join("")}(e))))(e.commands),function(e){const t=e=>{switch(e.kind){case"bottom":return{kind:"null",value:null};case"top":return _(e.error);case"inner":return G(e.a)}},n=e=>V([ge,me,e=>(0,r.zG)(e,be,z,o.G)],(t=>t(e))),a=e=>V([ge,pe,e=>(0,r.zG)(e,be,(e=>X(e,(([e,t])=>[JSON.stringify(e),t]))),z,o.G)],(t=>t(e)));switch(e.kind){case"tuple":return e.tuple.map(t);case"stringGroup":return n(e.group);case"numberGroup":return a(e.group)}}(e.payload)))):o.YP}function le(e){switch(e.kind){case"unbounded":return e.group.size>0;case"windowed":return e.group.size>0||(0,o.pC)(e.key);case"countLimit":case"uniqueLimit":return e.group.size>0||(0,o.pC)(e.limit)}}function ge(e){switch(e.kind){case"unbounded":return o.YP;case"windowed":return(0,o.G)(_("w"));case"countLimit":return(0,o.G)(_(1===e.n?"x":`x${e.n}`));case"uniqueLimit":return(0,o.G)(_(1===e.n?"u":`u${e.n}`))}}function me(e){switch(e.kind){case"unbounded":return o.YP;case"windowed":return(0,o.G)(_((0,o.pC)(e.key)?e.key.value:""));case"countLimit":case"uniqueLimit":return(0,o.G)(_((0,o.pC)(e.limit)?e.limit.value:""))}}function pe(e){switch(e.kind){case"unbounded":return o.YP;case"windowed":return(0,o.pC)(e.key)?(0,o.G)(G(e.key.value)):(0,o.G)({kind:"null",value:null});case"countLimit":case"uniqueLimit":return(0,o.pC)(e.limit)?(0,o.G)(G(e.limit.value)):(0,o.G)({kind:"null",value:null})}}function be(e){switch(e.kind){case"unbounded":case"windowed":case"countLimit":case"uniqueLimit":return e.group}}function he(e){switch(e.kind){case"array":return 0===e.value.length?{kind:"null",value:null}:1===e.value.length?he(e.value[0]):k(e.value.map(he));case"object":return(0,r.zG)(J(e.value,(([e,t])=>"null"!==t.kind)),(e=>X(e,(e=>[e[0],he(e[1])]))),z);default:return e}}function ve(e){const t=e=>{if(0===e.length)return{kind:"bottom"};const t=(e=>{if(4!==e.length)return o.YP;const[t,n,r,a]=e;if("string"===t.kind&&"string"===n.kind&&"object"===a.kind){const e=(0,o.DT)((e=>ye(e[1].value)&&we(e[2].value)))({1:t,2:n});return(0,o.UI)((e=>({prim:e[1].value,grp:e[2].value,cutoff:r,m:a.value})))(e)}return o.YP})(e);if((0,o.pC)(t)){const{prim:e,grp:n,cutoff:r,m:a}=t.value,i=Se(r,a,Ee(n));return"string"==typeof i?q(i):P(F(Ie(e),i))}const n=(e=>{if(3!==e.length)return o.YP;const[t,n,r]=e;if("string"===t.kind&&"object"===r.kind){const e=(0,o.DT)((e=>we(e.value)))(t);return(0,o.UI)((e=>({grp:e.value,cutoff:n,m:r.value})))(e)}return o.YP})(e);if((0,o.pC)(n)){const{grp:e,cutoff:t,m:r}=n.value,a=Se(t,r,Ee(e));return"string"==typeof a?q(a):P(F(o.YP,a))}const r=(e=>{if(2!==e.length)return o.YP;const[t,n]=e;if("string"===t.kind&&"object"===n.kind){const e=(0,o.DT)((e=>ye(e.value)))(t);return(0,o.UI)((e=>({prim:e.value,m:n.value})))(e)}return o.YP})(e);if((0,o.pC)(r)){const{prim:e,m:t}=r.value;return P(F(Ie(e),M(C(t))))}const a=(e=>{if(1!==e.length)return o.YP;const[t]=e;return"object"===t.kind?(0,o.G)({m:t.value}):o.YP})(e);if((0,o.pC)(a)){const{m:e}=a.value;return P(F(o.YP,M(C(e))))}const i=(e=>{if(e.length<1)return o.YP;const[t,...n]=e;if("string"===t.kind){const e=(0,o.DT)((e=>ye(e.value)))(t);return(0,o.UI)((e=>({prim:e.value,rest:n})))(e)}return o.YP})(e);if((0,o.pC)(i)){const{prim:e,rest:t}=i.value;return P(F(Ie(e),Ge(t)))}return P(F(o.YP,Ge(e)))},n=e=>"array"===e.kind?(0,H.tS)(n)(e.value):[e];return"null"===e.kind?R({kind:"bottom"}):R(t(n(e)))}function ye(e){const t=e.split("");if(!0==(0===t.length))return!1;{const[e,...n]=t;return-1!=="bpmvn".indexOf(e)&&n.every((e=>-1!=="bpmvn0123456789.".indexOf(e)))}}function we(e){const t=e.split("");switch(!0){case 0===t.length:return!1;case"w"===t[0]&&void 0===t[1]:return!0;default:{const[e,...n]=t;return-1!=="ux".indexOf(e)&&-1===n.map((e=>!isNaN(parseInt(e)))).indexOf(!1)}}}function Se(e,t,n){switch(e.kind){case"string":return M(n({1:(0,o.G)(e.value),2:t}));case"number":case"null":return A(n({1:"null"===e.kind?o.YP:(0,o.G)(e.value),2:J(X(t,(([e,t])=>[Number(e),t])),(e=>!isNaN(e[0])))}));default:return"{bad cutoff}"}}function Ee(e){const t=e=>t=>D(t[2],t[1],e),n=e=>t=>O(t[2],t[1],e),r=e.split("");switch(!0){case"w"===r[0]&&void 0===r[1]:return e=>T(e[2],e[1]);case"u"===r[0]&&void 0===r[1]:return t(1);case"u"===r[0]&&void 0!==r[1]:return t(parseInt(r.slice(1).join("")));case"x"===r[0]&&void 0===r[1]:return n(1);case"x"===r[0]&&void 0!==r[1]:return n(parseInt(r.slice(1).join("")));default:throw new Error("This should never happen if you use isGroupCommand")}}function Ie(e){const t=e=>(0,o.Wi)(e.bound)||"add"===e.operation||"mul"===e.operation?(0,o.G)(e):o.YP,n=(e,n,a)=>{const i=((e,n)=>(0,r.zG)(e,(e=>{switch(e){case"p":return(0,o.G)("add");case"m":return(0,o.G)("mul");case"v":return(0,o.G)("max");case"n":return(0,o.G)("min");default:return o.YP}}),o.UI((e=>({operation:e,bound:n}))),o.tS(t)))(e,a);return(0,o.UI)((e=>{const{init:t,rest:r}=(0,H.zT)((e=>{return"number"==typeof(t=parseInt(e))&&isFinite(t)&&Math.floor(t)===t;var t}))(n);return{1:{1:e,2:0===t.length?1:parseInt(t.join(""))},2:r.join("")}}))(i)};return(0,o.UI)(U)((0,$.nI)(_e(e,(e=>{const t=e.split("");if(0===t.length)return o.YP;const[a,...i]=t;if("b"===a){const{init:e,rest:t}=(0,r.zG)(i,(0,H.zT)((e=>-1!=="1234567890.".indexOf(e))));if(0===e.length||0===t.length)return o.YP;const a=parseFloat(e.join("")),[s,...c]=t;return n(s,c,(0,o.G)(a))}return n(a,i,o.YP)}))))}function _e(e,t){const n=t(e);return(0,o.fS)((()=>[]))((0,o.UI)((e=>[e[1]].concat(_e(e[2],t))))(n))}function Ge(e){return j(e.map(ke))}function ke(e){switch(e.kind){case"number":return P(e.value);case"string":return q(e.value);case"null":return{kind:"bottom"};case"object":return q("{object}");case"array":return q("{array}")}}var ze=n(828);const Ue={strategy:(e,t,n)=>r=>{if((0,o.Wi)(n))return t;if("delta"===e&&(0,o.Wi)(t))return o.YP;if((0,o.Wi)(t))return n;if((0,o.pC)(t)&&(0,o.pC)(n))return r(t.value,n.value);throw new Error("Non exhaustive match in combineCommand.strategy")},operation:(e,t,n,a,i,s)=>{const c=(0,H.pR)(N(s)),u=(0,r.zG)(t.bound,o.EQ((()=>r.yR),(e=>t=>(0,Y.VV)(s)(i.fromNumber(e),t))));if("append"===e&&"add"===t.operation)return(0,H.yL)(n,a,De("append",(0,r.ls)(i.plus,u)));if("append"===e&&"mul"===t.operation)return(0,H.yL)(n,a,De("append",(0,r.ls)(i.times,u)));if("append"===e&&"max"===t.operation)return(0,Y.Fp)(c)(n,a);if("join"===e&&"add"===t.operation)return(0,H.yL)(n,a,De("join",(0,Y.Fp)(s)));if("join"===e&&"mul"===t.operation)return(0,H.yL)(n,a,De("join",(0,Y.Fp)(s)));if("join"===e&&"max"===t.operation)return(0,Y.Fp)(c)(n,a);if("min"===t.operation)return Ue.operation(e,{operation:"max",bound:t.bound},n,a,i,function(e){return(0,Y.Zt)(((t,n)=>B(e.compare(t,n))))}(s));if("delta"===e&&"max"===t.operation)return(0,Y.gt)(c)(n,a)?n:a.map(x);if("delta"===e)return(0,H.yL)(n,a,((e,t)=>(0,Y.gt)(N(s))(e,t)?L(e,u):{kind:"bottom"}));throw new Error("Non exhaustive match in combineCommand.operation")},extend:(e,t,n,r)=>{if("delta"===e&&"top"===n.kind&&"top"===r.kind)return(0,Y.gt)(b.Df)(n.error,r.error)?q(n.error):{kind:"bottom"};if("delta"===e&&"bottom"===r.kind)return n;if("delta"===e&&"bottom"===n.kind)return{kind:"bottom"};if("top"===n.kind&&"top"===r.kind)return q((0,Y.Fp)(b.Df)(n.error,r.error));if("top"===n.kind)return n;if("top"===r.kind)return r;if("inner"===n.kind&&"inner"===r.kind)return t(n.a,r.a);if("bottom"===n.kind)return r;if("bottom"===r.kind)return n;throw new Error("Non exhaustive match in extend")}},xe={fromNumber:r.yR,plus:(e,t)=>e+t,times:(e,t)=>e*t};function Pe(e,t,n,r){if("unbounded"===e.kind&&"unbounded"===t.kind){const a=e.group,i=t.group;return(0,o.fS)(x)((0,o.UI)((e=>P(C(e))))(K(a,i,n,r)))}if("windowed"===e.kind&&"windowed"===t.kind){const a=e.key,i=e.group,s=t.key,c=t.group,u=(0,Y.Fp)((0,o.pR)(r))(a,s);return(0,o.fS)(x)((0,o.UI)((e=>P(T(e,u))))(K(i,c,n,r)))}if("countLimit"===e.kind&&"countLimit"===t.kind){const a=e.n,i=t.n;if(a===i){const i=e.limit,s=e.group,c=t.limit,u=t.group,f=(0,Y.Fp)((0,o.pR)(r))(i,c);return(0,o.fS)(x)((0,o.UI)((e=>P(O(e,f,a))))(K(s,u,n,r)))}return q("Non matching counts")}if("uniqueLimit"===e.kind&&"uniqueLimit"===t.kind){const a=e.n,i=t.n;if(a===i){const i=e.limit,s=e.group,c=t.limit,u=t.group,f=(0,Y.Fp)((0,o.pR)(r))(i,c);return(0,o.fS)(x)((0,o.UI)((e=>P(D(e,f,a))))(K(s,u,n,r)))}return q("Non matching counts")}return q("Non matching group types")}function qe(e,t,n){return(0,o.fS)(I)(Ce(e,o.YP)(t,n))}function Ce(e,t){const n=t=>(n,r)=>Ue.strategy(e,n,r)(Ce(e,t)),a=(t,r,a)=>{if("stringGroup"===r.kind&&"stringGroup"===a.kind){const e=Pe(r.group,a.group,n(t),b.Df);return L(e,(e=>M(Oe(e,b.Df))))}if("numberGroup"===r.kind&&"numberGroup"===a.kind){const e=Pe(r.group,a.group,n(t),Z.Df);return L(e,(e=>A(Oe(e,Z.Df))))}if("tuple"===r.kind&&"tuple"===a.kind){const n=(0,o.pC)(t)?t.value:[];return P(j(function(e,t,n,r,a,i){const s=(e,t)=>({1:(0,H.ke)(e)(t).concat((0,H.KB)(Math.max(0,e-t.length),x)),2:(0,H.md)(e)(t)}),c=(t,n,r)=>{if(0===t.length)return Ue.operation(e,{operation:"max",bound:o.YP},n,r,a,i);if(t.length>0){const[o,...u]=t,f=s(o[2],n),d=f[1],l=f[2],g=s(o[2],r),m=g[1],p=g[2];return Ue.operation(e,o[1],d,m,a,i).concat(c(u,l,p))}throw new Error("Non exhaustive match in recurse")};return(0,H.GY)((0,H.Qp)((e=>"bottom"===e.kind))((0,H.GY)(c(t,n,r))))}(e,n,r.tuple,a.tuple,xe,Z.Df)))}throw new Error(`Non matching payload. Got ${r.kind} and ${a.kind}`)},i=(e,n)=>{if((0,o.Eh)((0,$.Eh)((0,p.n_)({1:(0,p.n_)({operation:b.Eq,bound:(0,o.Eh)(Z.Eq)}),2:Z.Eq}))).equals(e.commands,n.commands)){const r=(0,o.Wi)(e.commands)?t:e.commands,i=a(r,e.payload,n.payload);return L(i,(t=>F(e.commands,t)))}if(i=e.commands,s=n.commands,(0,o.Eh)((0,$.Eh)((0,p.n_)({1:(0,p.n_)({operation:b.Eq}),2:Z.Eq}))).equals(i,s)){const i=(0,r.zG)(((e,t)=>(0,r.zG)((0,ze.gz)(o.G5)(e,t),(0,o.UI)((([e,t])=>$.yL(e,t,((e,t)=>({1:{operation:e[1].operation,bound:(0,r.zG)((0,ze.gz)(o.G5)(e[1].bound,t[1].bound),o.UI((([e,t])=>Math.min(e,t))),o.wp((()=>e[1].bound)),o.wp((()=>t[1].bound)))},2:e[2]})))))))(e.commands,n.commands),o.wp((()=>t))),s=a(i,e.payload,n.payload);return L(s,(e=>F(i,e)))}throw new Error(`Non matching primitive strings. Got ${ue(e)} and ${ue(n)}`);var i,s};return(t,n)=>fe(R(Ue.extend(e,i,ve(t).state,ve(n).state)))}function Te(e,t,n){const r=(0,o.UI)((t=>J(e,(([e,r])=>(0,Y.gf)(n)(e,t)))))(t);return(0,o.fS)((()=>e))(r)}function Oe(e,t){switch(e.kind){case"unbounded":return e;case"windowed":return(0,o.Wi)(e.key)?e:T(Te(e.group,e.key,t),e.key);case"countLimit":{const n=e.limit,r=e.n,a=e.group,i=W(r,a,((e,t)=>t<=1?o.YP:(0,o.G)(t-1)),t),s=(0,Y.Fp)((0,o.pR)(t))(n,i);return O(Te(a,s,t),s,r)}case"uniqueLimit":{const n=e.limit,r=e.n,a=e.group,i=(e,t)=>{if("object"===e.kind){const n=[...e.value.keys(),...t.keys()],a=new Set(n);return a.size>=r?o.YP:(0,o.G)(a)}return o.YP},s=W(new Set,a,i,t),c=(0,Y.Fp)((0,o.pR)(t))(n,s);return D(Te(a,c,t),c,r)}}}function De(e,t){return(n,r)=>Ue.extend(e,((e,n)=>P(t(e,n))),n,r)}function Ae(e,t){return qe("append",e,t)}function Me(e,t){return qe("join",e,t)}var je=n(923),Re=n(17),Fe=n(767),Ye=n(862),Le=n(341),Ne=n(870);function $e(e,t){return function(n){return e.map(n,t.compact)}}function He(e,t,n){var a=$e(e,t),i=(0,Le.UI)(e,n);return function(e){return Ne.s4(a((0,r.zG)(e,i(o.IS))),a((0,r.zG)(e,i(o.EK))))}}function Qe(e,t){return function(n){return function(r){return e.map(r,(function(e){return t.filter(e,n)}))}}}function Be(e,t){return function(n){return function(r){return e.map(r,(function(e){return t.filterMap(e,n)}))}}}function Ve(e,t){var n=Qe(e,t);return function(e){var t=n((0,Re.ff)(e)),r=n(e);return function(e){return(0,Ne.s4)(t(e),r(e))}}}function Ke(e,t){var n=Be(e,t);return function(e){return function(t){return(0,Ne.s4)((0,r.zG)(t,n((function(t){return(0,o.IS)(e(t))}))),(0,r.zG)(t,n((function(t){return(0,o.EK)(e(t))}))))}}}var We=n(679),Xe=n(384);function Je(e){return(0,r.ls)(o.G,e.of)}function Ze(e){return(0,r.a9)(e.of(o.YP))}function et(e){return function(t){return e.map(t,o.G)}}function tt(e){return(0,r.ls)(o.ij,e.of)}function nt(e){var t=tt(e);return function(e){return(0,r.ls)(e,t)}}function rt(e){var t=gt(e),n=nt(e);return function(e){return t(n(e))}}function at(e){return function(t){return(0,r.ls)(t,e.of)}}function it(e){var t=gt(e),n=at(e);return function(e){return t(n(e))}}function ot(e){return function(t){return function(n){return e.of(o.DT(t)(n))}}}function st(e){return(0,r.ls)(o.Uo,e.of)}function ct(e){return function(t,n){return function(r){return e.map(r,o.EQ(t,n))}}}function ut(e){return function(t,n){return function(r){return e.chain(r,o.EQ(t,n))}}}function ft(e){return function(t){return function(n){return e.chain(n,o.EQ(t,e.of))}}}function dt(e){return(0,Le.UI)(e,o.dO)}function lt(e){return(0,ze.ap)(e,o.G5)}function gt(e){var t=Ze(e);return function(n){return function(r){return e.chain(r,o.EQ((function(){return t()}),n))}}}function mt(e){var t=Je(e);return function(n){return function(r){return e.chain(r,o.EQ(n,t))}}}var pt=n(151),bt=Je(pt.PM),ht=(pt.PM,pt.of),vt=(pt.PM,function(e){return yt(pt.tD(e))}),yt=et(pt.dO),wt=pt.UI(o.Uo),St=(pt.dO,ut(pt.qo)),Et=ft(pt.UA),It=(pt.PM,pt.PM,pt.UA,pt.PM,it(pt.UA)),_t=dt(pt.dO),Gt=lt(pt.Hi),kt=bt,zt=gt(pt.UA),Ut=(pt.UA,pt.PM,pt.dO,o.Ri,pt.dO,o.Ri,o.dO,Qe(pt.dO,o.xu)),xt=(pt.dO,o.xu,pt.dO,o.xu,pt.dO,o.xu,function(e,t){return(0,r.zG)(e,_t(t))}),Pt=function(e,t){return(0,r.zG)(e,Gt(t))},qt=function(e,t){return(0,r.zG)(e,zt(t))},Ct="TaskOption",Tt={URI:Ct,map:xt,ap:Pt,of:kt},Ot={URI:Ct,map:xt,ap:Pt,chain:qt},Dt={URI:Ct,fromIO:vt,fromTask:yt},At=(0,We.oU)(Dt,Ot),Mt=(Xe.F4,(0,Ye.a)(Ot)),jt=(Xe.Xl,Je(l.PM)),Rt=(l.PM,l.of,l.PM,l.dO,o.Uo,l.dO,l.qo,l.UA,l.UI(o.FS),l.UI(o.WG),l.PM,l.PM,l.UA,l.PM,l.UA,l.dO,l.G5,jt),Ft=(l.UA,mt(l.UA));l.PM,l.dO,o.Ri,l.dO,o.Ri,o.dO,l.dO,o.xu,l.dO,o.xu,l.dO,o.xu,l.dO,o.xu,Xe.F4,Xe.Xl;const Yt=new Set(["AdRequest","PageviewEngagement","SegmentEntry","SegmentExit"]),Lt=e=>a.dQ((t=>{let{previousState:n}=t;const[a,s]=i.Ue(!1);const[c,u]=i.gS({empty:o.YP,concat:(e,t)=>(0,r.zG)(g.oA([e,t]),o.DT(g.Od),o.UI((e=>e.reduce(((e,t)=>({...e,...t}))))))}),f=(0,r.zG)((0,m.Kn)(n)?n:{},(0,m.rO)({stateOffset:(0,r.ls)(o.DT(m.BJ),o.fS((()=>0))),fetchUnseenKey:(0,r.ls)(o.DT(m.HD),o.fS((()=>"")))})),d=(0,r.zG)(i.gS(o.uZ({concat:function(e,t){return Object.assign({},e,t)}})),(t=>{let[n,a]=t;return(0,r.zG)(i.vP(e.lastProcessedEvents,e.internalStateDiff,e.queryLanguageProcessing),i.bw((e=>{let[t,n,r]=e;if(r)return;return t().filter((e=>!Yt.has(e.name))).length>0?a(n()):void 0}))),(0,r.zG)(i.vP({internalStateDiff:n,internalStateMap:e.internalStateMap}),i.D8(((e,t)=>e.internalStateDiff===t.internalStateDiff)))})),l=(0,r.zG)(i.vP(e.sessionId,d,a),i.Rp(i.a9({...f,inFlightRequest:!1,previousDecodedState:(0,r.zG)(e.internalStateMap.current,$t,ne,Q.fS((()=>z(new Map)))),sendFullStateWithUnseen:!1}),((t,n)=>{let[a,{internalStateDiff:s,internalStateMap:c},f]=n;return(0,r.zG)(t,i.VS((t=>{if(t.inFlightRequest)return i.a9(t);const n=!f&&t.sendFullStateWithUnseen,d=n||!e.groupIdIsNewlyGenerated&&a!==t.fetchUnseenKey;return(0,r.zG)(n?Rt(c):s,Ft((()=>()=>(0,r.zG)({},o.DT((()=>d))))),pt.tD,zt((0,r.ls)(Qt(t.previousDecodedState),Fe.Vn((0,m.bw)((t=>e.logger.error(t)))),wt)),St((()=>pt.of({...t,inFlightRequest:!1})),(0,r.ls)(pt.of,pt.ak("processed",(n=>(0,r.zG)(e,Nt({delta:n.delta,stateOffset:t.stateOffset,fetchUnseen:d}),pt.UI((0,m.bw)((0,r.ls)(o.UI((0,m.vg)("stateDelta")),o.hX(Re.ff(je.xb)),u)))))),pt.UI((e=>({fetchUnseenKey:a,inFlightRequest:!1,sendFullStateWithUnseen:t.sendFullStateWithUnseen&&!n,previousDecodedState:e.decodedState,stateOffset:(0,r.zG)(e.processed,o.UI((e=>e.response.state_offset)),o.fS((()=>t.stateOffset)))}))))),i.fF,i.UI(o.fS((()=>({...t,inFlightRequest:!0})))))})))})),i.xH,i.UI((e=>({stateOffset:e.stateOffset,fetchUnseenKey:e.fetchUnseenKey}))),i.D8((0,p.MW)({stateOffset:Z.Eq,fetchUnseenKey:b.Eq})));return{state:l,value:{externalStateDelta:c}}})),Nt=e=>t=>(0,r.zG)(e,o.DT((e=>e.fetchUnseen||Re.ff(je.xb)(e.delta))),ht,zt((e=>{return(0,r.zG)(t,(n={event_source_id:t.eventSourceId,fetch_unseen:e.fetchUnseen,group_id:t.groupId,last_seen_offset:e.stateOffset,state:e.delta},e=>Fe.Y3((()=>e.permutiveApi.req({url:e.permutiveUrls.getEndpointUrl("/state",o.G("v1.0"),[["fetch_unseen",JSON.stringify(n.fetch_unseen)]]),method:"POST",payload:{group_id:n.group_id,event_source_id:n.event_source_id,state:JSON.stringify(n.state),last_seen_offset:n.last_seen_offset},contentType:"text/plain",dataType:"json",withCredentials:!1})),(e=>`Error sending state delta. Got ${Q.KC(e)}`))),Fe.Vn((0,m.bw)((e=>t.reportError(e)))),wt,Ut((e=>!!e)),It((0,r.ls)(Q.of,Q.YO("response"),Q.ak("stateDelta",(e=>{return t=e.response.state,(0,Q.Y3)((function(){return JSON.parse(t)}),r.yR);var t})),Q.Vn((0,m.bw)((e=>t.reportError(`Failed to parse State API response, got ${e}`)))),o.Uo)));var n}))),$t=e=>(0,m.b0)(e,((e,t)=>t.state?o.G({[t.checksum]:t.state}):o.YP)),Ht=e=>t=>{const n=(0,r.zG)(t,$t,ne,Q.fS((()=>z(new Map))),(t=>qe("delta",t,e)));return{decodedState:Me(n,e),delta:(0,r.zG)(n,te,o.ij,o.fS((()=>({}))))}},Qt=e=>t=>()=>new Promise((n=>(0,E.HJ)((()=>(0,r.zG)(t,Q.it(Ht(e),(e=>`Failed to compute delta for state sync. Got ${e}`)),n)))));n(605),je.dp;var Bt=je.xb,Vt=function(e){return function(t){return Object.keys(t).sort(e.compare)}};b.Df;je.dx,je.e$;je.Bu,je.P5,je.Su;var Kt=je.UI;je.ri;function Wt(e){return je.vP(e)}je._r;je.jt;je.yW,je.G,je.t9;var Xt=je.HA,Jt=(je.nn,je.kp),Zt=je.CC,en=je.RF,tn=(je.I8,je.mS,je.RJ,je._Y,je.V_),nn=je.EW,rn=je.nu,an=(je.SW,je.zV,je.Ub,je.vA,je.qS),on=(je.mK,function(e){return function(t){var n=Vt(e);return function(e,r){var a=n(e);if(0===a.length)return t.of({});for(var i=t.of({}),o=function(n){i=t.ap(t.map(i,(function(e){return function(t){return e[n]=t,e}})),r(n,e[n]))},s=0,c=a;s<c.length;s++){o(c[s])}return i}}}),sn=je.hX;je.DZ,je.uK,je.tV;je.oA,je.oh;var cn="Record";je.Eh,je.uZ,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,je.nr,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df,b.Df;var un,fn,dn=n(688),ln=n(241),gn=function(e){return function(t){return[void 0,e(t)]}},mn=function(e){return function(t){return[e(t),t]}},pn=function(e,t){return(0,r.zG)(e,vn(t))},bn=function(e,t){return(0,r.zG)(e,yn(t))},hn=function(e,t){return(0,r.zG)(e,Sn(t))},vn=function(e){return function(t){return function(n){var r=t(n),a=r[0],i=r[1];return[e(a),i]}}},yn=function(e){return function(t){return function(n){var r=t(n),a=r[0],i=r[1],o=e(i),s=o[0],c=o[1];return[a(s),c]}}},wn=function(e){return function(t){return[e,t]}},Sn=function(e){return function(t){return function(n){var r=t(n),a=r[0],i=r[1];return e(a)(i)}}},En="State",In={URI:En,map:pn},_n={URI:En,map:pn,ap:bn},Gn=(0,ze.N)(_n),kn={URI:En,map:pn,ap:bn,of:wn},zn={URI:En,map:pn,ap:bn,chain:hn},Un=(0,Ye.m)(zn),xn=(r.yR,(0,Le.YO)(In)),Pn=(0,Ye.a)(zn),qn=function(e){var t=function(e){return function(t){return function(n){for(var r=e(0,Xe.YM(t))(n),a=[r[0]],i=r[1],o=1;o<t.length;o++){var s=e(o,t[o])(i),c=s[0],u=s[1];a.push(c),i=u}return[a,i]}}}(e);return function(e){return Xe.Od(e)?t(e):wn(Xe.Xl)}},Cn=function(e){return qn((function(t,n){return e(n)}))},Tn=Cn(r.yR);!function(e){e.init=function(e){return e&&"object"==typeof e&&"externalStateMap"in e&&"internalStateMap"in e?e:{externalStateMap:o.YP,internalStateMap:{}}}}(un||(un={})),function(e){e.sequenceNonEmptyArray=e=>{if(1===e.length)return e[0];const t=(0,r.bc)([],{},[]);for(const n of e){t[0].push(...n[0]);for(const e in n[1])t[1][e]=n[1][e];t[2].push(...n[2])}return t},e.sequenceArray=t=>(0,r.zG)(t,o.DT(g.Od),o.UI(e.sequenceNonEmptyArray)),e.empty=[g.cS,je.cS,g.cS]}(fn||(fn={}));const On=e=>t=>(0,r.zG)(Dn((e=>({...e,getCurrentSession:()=>t.environment.sessionId,getCurrentView:()=>t.environment.viewId}))),Sn((()=>{return Tn([An(e),jn(t.environment.thirdPartyData),(a=t.environment.lookalikeModels,(0,r.zG)((function(e){return[e,e]}),Sn((e=>Zn.equals(e.lal,a)?wn(g.cS):(0,r.zG)(gn((0,m.rO)({lal:(0,r.a9)(a)})),Gn(Dn(function(e){const t=(0,r.zG)(e,o.fS((()=>({}))));return e=>({...e,getLookalikeModels:()=>t})}(a))),Sn((()=>(0,r.zG)(g.Yo(a),Cn((()=>Fn("updateLAL"))),vn(g.xH))))))))),(0,r.zG)(t.externalStateDelta,o.UI(Rn),o.fS((()=>wn(g.bM())))),(n=t.cloudLiftedState,(0,r.zG)(n,g.tS((e=>Object.entries(e))),Cn((e=>{let[t,n]=e;return mn((e=>(0,r.bc)(t,e.queries.cloudLiftedQueries[t],n)))})),Sn((e=>Nn(Q.F2(e)))))),Yn(t.newEvents)]);var n,a})),vn((0,r.ls)(g.xH,o.DT(g.Od),o.tS(fn.sequenceArray))),(e=>t=>{let[n,a]=e(t);if(o.pC(n)){let e=n.value,t=0;for(;e[2].length>t;)t=e[2].length,[e,a]=(0,r.zG)(a,(0,r.zG)(Yn(e[2]),vn((t=>fn.sequenceNonEmptyArray([e,...t])))));n=o.G(e)}return(0,r.bc)(n,a)}),ar(e,"query_language_process_duration")),Dn=e=>gn((0,m.rO)({effects:e}));function An(e){return(0,r.zG)((function(e){return[e,e]}),Sn((t=>{let{bootstrapped:n,effects:a,eventsForReplay:i}=t;return n?wn(g.cS):(0,r.zG)(gn((e=>({...e,bootstrapped:!0,eventsForReplay:[]}))),Sn((()=>(0,r.zG)(i,g.R3(rr(a)),Cn(Ln("bootstrap")),vn(g.xH)))),ar(e,"query_language_bootstrap_duration"))})))}const Mn=(0,r.zG)(mn((e=>e.tpdQueries)),Sn(o.EQ((()=>(0,r.zG)(mn((e=>new Set([...e.queries.queriesByEvent["!UpdateSecondPartyData"]||[],...e.queries.queriesByEvent["!UpdateThirdPartyData"]||[]]))),Un((e=>gn((0,m.rO)({tpdQueries:()=>o.G(e)})))))),wn)));function jn(e){const t=(0,r.zG)(e,o.UI(s.li));return(0,r.zG)((function(e){return[e,e]}),Sn((n=>{if(o.Eh(Z.Eq).equals(t,n.tpdHashInEffectsObject))return wn(g.cS);const a=o.FS(t);return(0,r.zG)(gn((0,m.rO)({persistentState:(0,m.rO)({tpdHash:(0,r.a9)(a)}),tpdHashInEffectsObject:(0,r.a9)(t),tpdReady:(0,r.a9)(o.pC(e))})),vn((()=>(0,r.zG)(e,o.UI(s.Yg)))),Un((e=>Dn(function(e){const t=er((()=>(0,r.zG)(e,o.fS((()=>({"3p":{}}))))));return e=>{const n=er((()=>({...t(),...e.get1PSegments()})));return{...e,getSegments:n,getSegmentsArray:er((()=>nr(n()))),get3PSegments:t}}}(e)))),Sn(o.fw(kn)((()=>(0,r.zG)(n.tpdEventsToProcess,g.EQ((()=>a!==n.persistentState.tpdHash?Fn("updateTPD"):wn(g.cS)),(0,r.ls)(Cn(Ln("updateTPD")),Gn(gn((e=>({...e,tpdEventsToProcess:[]})))),vn(g.xH))))))),vn(o.fS((()=>g.bM()))))})))}function Rn(e){return(0,r.zG)(mn((t=>(0,r.zG)(e,je.jt(((e,n)=>(0,r.zG)(je.P5(e,t.queries.metadata),o.tS((e=>je.P5(e,n))),o.tS((0,r.ls)(ne,o.Uo))))),(e=>(0,r.zG)(t.persistentState.externalStateMap,o.UI(je.DZ((0,r.ls)(ne,o.Uo))),o.EQ((()=>e),(t=>(0,r.zG)({...t,...e},je.Su(((e,n)=>(0,r.zG)(je.P5(e,t),o.tS((e=>o.Y3((()=>Me(n,e))))),o.fS((()=>n)))))))))),je.UI(te)))),Sn((e=>gn((0,m.rO)({persistentState:(0,m.rO)({externalStateMap:(0,r.a9)(o.G(e))})})))),Sn((()=>Fn("updateExternalState"))))}function Fn(e){return(0,r.zG)(mn((e=>rr(e.effects))),Sn(Ln(e)))}function Yn(e){return(0,r.zG)(e,g.EQ((()=>wn(g.bM())),(0,r.ls)(Qn,Sn(Cn((e=>{let[t,n]=e;return(0,r.zG)(n,Ln(t))}))),vn(g.xH))))}function Ln(e){return(0,r.ls)(wn,Un((e=>"Pageview"!==e.name?wn(void 0):gn((0,m.rO)({pageviewProperties:(0,r.a9)(e.properties)})))),Un((e=>{return Kn(e)?Dn((t=e.properties.segment_number,n="SegmentEntry"===e.name,e=>{return(0,r.zG)(e,(a={"1p":{...e.get1PSegments()["1p"],[t]:n}},e=>{const t=er((()=>({...a,...e.get3PSegments()})));return{...e,getSegments:t,getSegmentsArray:er((()=>nr(t()))),get1PSegments:()=>a}}));var a})):wn(void 0);var t,n})),xn("event"),Pn("queriesToProcess",(t=>{let{event:n}=t;return function(e,t){return(0,r.zG)((function(e){return[e,e]}),xn("state"),Pn("tpdQueriesToReject",(e=>{let{state:{tpdReady:t}}=e;return t?wn(o.bM()):(0,r.zG)(Mn,vn(o.DT((e=>e.size>0))))})),Sn((n=>{let{state:a,tpdQueriesToReject:i}=n;const s=(0,r.zG)(i,o.UI((e=>g.hX((t=>!e.has(t))))),o.fS((()=>e=>e)));switch(e){case"bootstrap":return wn((0,r.zG)(a.queriesForReplay,s));case"event":const e=a.tpdReady?wn(void 0):gn((0,m.rO)({tpdEventsToProcess:g.R3(t)}));return(0,r.zG)(wn(a.locallyLiftedQueriesByEvent[t.name]||[]),vn(s),Gn(e));case"lookalikeTransition":return wn(a.locallyLiftedQueriesByEvent[t.name]||[]);case"transition":const n=a.locallyLiftedQueriesByEvent[t.name]||[];if(o.pC(a.lal)){const e=a.locallyLiftedQueriesByEvent["!UpdateLookalikeModels"]||[];return wn(n.concat(e))}return wn(n);case"updateExternalState":return wn((0,r.zG)(a.persistentState.externalStateMap,o.fS((()=>({}))),je.XP));case"updateLAL":return wn(a.locallyLiftedQueriesByEvent["!UpdateLookalikeModels"]||[]);case"updateTPD":return wn([...a.locallyLiftedQueriesByEvent["!UpdateSecondPartyData"]||[],...a.locallyLiftedQueriesByEvent["!UpdateThirdPartyData"]||[]]);default:return wn([])}})))}(e,n)})),Sn((t=>{let{event:n,queriesToProcess:a}=t;return(0,r.zG)(a,g.EQ((()=>wn(g.bM())),(t=>(0,r.zG)(mn((t=>"bootstrap"!==e?t.effects:{...t.effects,getCurrentTime:()=>n.time,getCurrentView:()=>n.view_id,getCurrentSession:()=>n.session_id})),Sn((e=>(0,r.zG)(t,Cn((e=>mn((t=>(0,r.bc)(e,t.queries.locallyLiftedQueries[e]??t.cloudLiftQueriesForReplay[e]))))),Sn((t=>Nn(Q.t$((0,r.bc)(t,n)),e))))))))))})))}const Nn=(e,t)=>(0,r.zG)(e,Q.EQ((e=>{let[n,a]=e;return(0,r.zG)(n,Cn((e=>{let[n,r]=e;return $n(n,Q.t$([r,a]),t)})))}),Cn((e=>{let[t,n,r]=e;return $n(t,Q.F2([n,r]))}))),vn(fn.sequenceArray),Un(o.fw(kn)((e=>{let[,t]=e;return gn((0,m.rO)({persistentState:(0,m.rO)({internalStateMap:e=>({...e,...t})})}))}))),vn(g.Yo)),$n=(e,t,n)=>(0,r.zG)(mn(Q.it((a=>{var i,c,u;const f=n??a.effects,d=(0,r.zG)(t,Q.EQ(s.li,s.li)),l=(0,r.zG)(t,Q.UI(s.Yg),Q.fS((e=>{let[t,n]=e;return t.lift(n,f)}))),m=(0,r.zG)(a.persistentState.externalStateMap,o.tS((0,r.ls)(je.P5(e),o.UI(Xn)))),p=a.persistentState.internalStateMap[e]||{checksum:a.queries.metadata[e]},b=Jn(e,f,d,p,m,l),h=Boolean(null===(i=b.result)||void 0===i?void 0:i.result)!==Boolean(null===(c=a.persistentState.internalStateMap[e])||void 0===c||null===(u=c.result)||void 0===u?void 0:u.result),v=(0,r.zG)(g.lo(h),g.UI((()=>{var t;return{name:null!==(t=b.result)&&void 0!==t&&t.result?"SegmentEntry":"SegmentExit",time:f.getCurrentTime(),view_id:f.getCurrentView(),session_id:f.getCurrentSession(),properties:{...a.pageviewProperties,segment_number:Number(e)}}})));return(0,r.bc)(b,v)}),(t=>`Failed to interpret query ${e}. Got ${t}`))),Sn(Q.EQ((e=>wn([[e],je.cS,g.cS])),(t=>{let[n,a]=t;return(0,r.zG)(n.dropExternalState?Hn(e):wn(void 0),vn((()=>[g.cS,{[e]:n},a])))})))),Hn=e=>gn((0,m.rO)({persistentState:(0,m.rO)({externalStateMap:o.UI(je.EG(e))})}));function Qn(e){const t=e=>t=>(0,r.bc)(e,t);return mn((n=>(0,r.zG)(e,g.pO(ln.aL(((e,t)=>{const n=Kn(e);return(0,r.zG)(t,g.zT((e=>Kn(e)===n)),(e=>{let{init:t,rest:n}=e;return(0,r.bc)(t,n)}),(0,s.pL)(((e,t)=>n=>(0,r.bc)(e,(0,r.zG)(n,g.Ce(t))))(n,e)))}))),g.tS((e=>{let[a,i]=e;if(!a)return(0,r.zG)(i,g.UI(t("event")));const o=(0,r.zG)(i,g.yW((e=>n.lookalikeTransitionSegmentNumbers.has(e.properties.segment_number))),(e=>e?"lookalikeTransition":"transition"));return(0,r.zG)(i,ln.ut(((e,n)=>(0,r.zG)(e,g.UI(t("event")),g.R3((0,r.zG)(n,t(o)))))))})))))}const Bn=(0,r.ls)(je.hX((e=>{var t;return Boolean(null===(t=e.result)||void 0===t?void 0:t.result)})),je.XP,g.UI(parseInt)),Vn=(0,r.ls)(Kt((e=>e.activations??{})),sn((0,r.zG)(Boolean,(0,Re.xD)((0,Re.ff)(Bt)))));function Kn(e){var t;return("SegmentEntry"===e.name||"SegmentExit"===e.name)&&void 0!==(null===(t=e.properties)||void 0===t?void 0:t.segment_number)}const Wn=I,Xn=(0,r.ls)(ne,Q.fS(Wn)),Jn=(e,t,n,a,i,s)=>{const c={...a.activations},u={...t,setSegmentActivation:(t,n,r)=>{if(r!=e)throw new Error(`QL called setSegmentActivation for query ${r} while interpreting query ${e}`);t in c?c[t].includes(n)||(c[t]=[...c[t],n]):c[t]=[n]}},f=Xn(a.state||null),d=Xn(s),l=(0,r.zG)(Q.Y3((()=>Ae(f,d)),dn.w),Q.pF((e=>{throw(0,dn.w)(`Failed to append lifted event ${ee(d)} to internal state ${ee(f)}. Got ${e}`)}))),[g,m]=(0,r.zG)(i,o.g_((()=>(0,r.bc)(l,!1)),(e=>(0,r.zG)(Q.Y3((()=>(0,r.bc)(Ae(l,e),!1)),r.Q1),Q.fS((()=>(0,r.bc)(l,!0))))))),p=te(l),b=n.interpret(te(g),u);return{checksum:a.checksum,...null===p?{}:{state:p},...!1===b.result?{}:{result:b},...Bt(c)?{}:{activations:c},...!1===m?{}:{dropExternalState:m}}},Zn=o.Eh({equals:(e,t)=>e===t});function er(e){let t,n=!1;return()=>(n||(t=e(),n=!0),t)}function tr(e){const t=er((()=>(0,r.zG)(e,je.hX((e=>{var t;return Boolean(null===(t=e.result)||void 0===t?void 0:t.result)})),je.UI((()=>!0)),(e=>({"1p":e}))))),n={"3p":{}},a=er((()=>({...t(),...n})));return{getSegments:a,getSegmentsArray:er((()=>nr(a()))),get1PSegments:t,get3PSegments:()=>n}}function nr(e){return Object.keys(e).reduce(((t,n)=>{const r=Object.keys(e[n]),a=[];return r.forEach((t=>{!0===e[n][t]&&a.push(t)})),t[n]=a,t}),{})}const rr=e=>({name:"",properties:{},session_id:e.getCurrentSession(),view_id:e.getCurrentView(),time:e.getCurrentTime()}),ar=(e,t)=>n=>r=>{const a=e.startSpan(t),i=n(r);return a.finish(),i};var ir=n(706),or=n(656);const sr=()=>e=>((0,r.zG)(e,i.UI((e=>e()))),i.a9({newResults:l.of(g.cS),pendingEvents:g.cS})),cr=()=>()=>Fe.of((()=>({}))),ur=e=>[e,pt.of(e)],fr=s.li,dr=s.Yg,lr=e=>t=>(0,r.zG)(dr(t),(t=>()=>new Promise((n=>{const r=t();r.then(o.G).then(n);const a=(0,E.HJ)((()=>n(o.YP)),e);r.then(a)})))),gr="RefEventual",mr=i.UI(ur),pr=e=>t=>i.vP((0,r.zG)(t,i.UI(fr),i.UI(e)),(0,r.zG)(t,i.UI(dr),i.UI(pt.UI(e)))),br=e=>t=>i.vP((0,r.zG)(i.vP((0,r.zG)(e,i.UI(fr)),(0,r.zG)(t,i.UI(fr))),i.UI((e=>{let[t,n]=e;return n(t)}))),(0,r.zG)(i.vP((0,r.zG)(e,i.UI(dr)),(0,r.zG)(t,i.UI(dr))),i.UI((e=>{let[t,n]=e;return pt.ap(t)(n)})))),hr=e=>t=>(0,r.zG)(t.current,lr(e),pt.UI(o.fS((()=>(e=>fr(e.current))(t))))),vr=i.UI(fr),yr=i.UI(dr),wr={URI:gr,map:(e,t)=>pr(t)(e)},Sr={URI:gr,map:wr.map,ap:(e,t)=>br(t)(e)},Er=e=>a.dQ((t=>{let{previousState:n}=t;const[a,c]=(0,r.zG)(e.newEvents,i.En(2,g.uZ()),(0,ir.H5)(sr(e.permutiveApi,e.permutiveUrls,(u=e.customQueries,(0,r.zG)(Object.entries(u.queriesByEvent),g.hX((e=>{let[,t]=e;return(0,r.zG)(t,g.G((e=>e in u.cloudLiftedQueries)))})),g.UI(s.li))))));var u;const f=i.vP({lookalikeModels:e.lookalikeModels,sessionId:e.sessionId,thirdPartyData:(0,r.zG)(e.thirdPartyData,i.UI(o.UI((0,ir.H5)(je.UI((e=>{const t={};return e.forEach((e=>t[e]=!0)),t})))))),viewId:e.viewId}),d=(0,r.zG)(i.vP({cloudLiftedState:(0,r.zG)(c,i.UI((e=>e.newResults))),environment:f,externalStateDelta:e.externalStateDelta,newEvents:(0,r.zG)(a,(0,or.I)(e.metrics,"query_language_began_processing_pageview"))}),i.UI((0,m.rO)({environment:e=>l.of(e)})),i.UI((0,ze.Yt)(l.G5))),p=un.init(n);const b=(0,r.zG)(n?pt.of({processedState:p,stateMigratedThisInitialisation:!1}):(e.metrics.track({name:"sdk_query_state_migrated_workerisation_count_total",labels:{},value:1}),(0,r.zG)(e.migratedStateMaps,pt.UI((e=>{let{internal:t,external:n}=e;return{stateMigratedThisInitialisation:!0,processedState:{externalStateMap:n,internalStateMap:(0,r.zG)(t,o.fS((()=>({}))))}}})))),pt.Hr("environment",(()=>f.current)),pt.ak("process",(t=>{let{environment:n,processedState:a}=t;return(0,r.zG)((i={downloadCloudLiftQueries:cr(e.permutiveApi,e.permutiveUrls),environment:n,initialState:a,pastEvents:e.priorEvents,queries:e.customQueries},(0,r.zG)(pt.Do,pt.Hr("invalidatedLocalQueries",(()=>(0,r.zG)(i.queries.locallyLiftedQueries,je.z7((e=>{var t;return(null===(t=i.initialState.internalStateMap[e])||void 0===t?void 0:t.checksum)!==i.queries.metadata[e]}))))),pt.Hr("invalidatedCloudLiftQueries",(()=>(0,r.zG)(i.queries.cloudLiftedQueries,je.z7((e=>{var t;return(null===(t=i.initialState.internalStateMap[e])||void 0===t?void 0:t.checksum)!==i.queries.metadata[e]}))))),pt.Hr("hasInvalidatedQueries",(e=>{let{invalidatedCloudLiftQueries:t,invalidatedLocalQueries:n}=e;return!(je.xb(t)&&je.xb(n))})),pt.ak("eventsForReplay",(e=>{let{hasInvalidatedQueries:t}=e;return t?i.pastEvents:pt.of(g.bM())})),pt.ak("cloudLiftQueriesForReplay",(0,r.ls)(o.DT((e=>e.eventsForReplay.length>0)),o.UI((e=>Object.keys(e.invalidatedCloudLiftQueries))),o.hX(g.Od),o.UI((0,r.ls)(i.downloadCloudLiftQueries,Fe.OV(i.queries.env),pt.UI(Q.fS((()=>({})))))),o.fS((()=>pt.of({}))))),pt.Hr("queriesForReplay",(e=>{let{cloudLiftQueriesForReplay:t,invalidatedLocalQueries:n}=e;return[...Object.keys(n),...Object.keys(t)]})),pt.Hr("internalStateMap",(e=>{let{invalidatedCloudLiftQueries:t,invalidatedLocalQueries:n}=e;return(0,r.zG)(i.queries.metadata,je.Su(((e,r)=>e in n||e in t?{checksum:r}:i.initialState.internalStateMap[e])))})),pt.Hr("persistentState",(e=>{let{internalStateMap:t}=e;return{...i.initialState,internalStateMap:t}})),pt.UI((e=>{let{cloudLiftQueriesForReplay:t,eventsForReplay:n,queriesForReplay:a,persistentState:s}=e;return{bootstrapped:!1,cloudLiftQueriesForReplay:t,effects:{getCurrentTime:()=>new Date,getCurrentSession:()=>i.environment.sessionId,getCurrentView:()=>i.environment.viewId,getLookalikeModels:()=>({}),setSegmentActivation:(e,t,n)=>{throw new Error(`setSegmentActivation() called for segment ${n} without being overridden first.`)},...tr(s.internalStateMap)},eventsForReplay:n,lal:o.YP,locallyLiftedQueriesByEvent:(0,r.zG)(i.queries.queriesByEvent,je.DZ(o.KQ(g.hX((e=>e in i.queries.locallyLiftedQueries))))),lookalikeTransitionSegmentNumbers:(0,r.zG)(i.queries.queriesByEvent["!UpdateLookalikeModels"]||g.cS,g.UI(parseInt),(e=>new Set(e))),pageviewProperties:{},numEventsForReplay:n.length,queries:i.queries,queriesForReplay:a,persistentState:s,tpdEventsToProcess:g.cS,tpdHashInEffectsObject:o.YP,tpdQueries:o.YP,tpdReady:!1}})))),e.trace.traceTask("query_language_initialisation_duration"),pt.UI((0,m.bw)((t=>{var n;e.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"query_language_ready",time_origin:"sdk_init"},performance.now()),e.metrics.trackCounter({name:"sdk_queries_to_replay_count",value:(n=t,0===n.numEventsForReplay?0:n.queriesForReplay.length),labels:{}})}))),pt.UI((t=>{let n=t;return t=>{const[a,i]=(0,r.zG)(t,On(e.trace))(n);return n=i,[a,i.persistentState]}})));var i})),i.fF),h=(0,r.zG)(b,i.UI(o.UI((e=>e.process)))),v=(0,r.zG)(b,i.UI(o.EQ((()=>!1),(e=>e.stateMigratedThisInitialisation))));let y=g.bM();const w=(0,r.zG)(i.vP({processInput:h,inputIO:(0,r.zG)(d,i.UI(o.G))}),i.UI((0,ze.Yt)(o.G5)),i.UI(o.UI((e=>{let{processInput:t,inputIO:n}=e;const a=n(),[i,c]=(0,r.zG)(a,(0,m.rO)({newEvents:g.UI(s.Yg),cloudLiftedState:g.UI((e=>e.state))}),(e=>t({...e}))),u=(0,r.zG)(i,o.EQ((()=>({errors:[],events:a.newEvents,internalStateDiff:o.YP})),(e=>{let[t,n,r]=e;return{errors:t,events:a.newEvents.concat(r.map((e=>[(0,m.k$)(),e]))),internalStateDiff:o.G(n)}})));return y=(0,r.zG)(y,g.R3(u)),{consumeDeltas:()=>{const e=y;return y=g.cS,e},modelState:c}})))),S=(0,r.zG)(w,i.UI(o.UI((e=>e.modelState)))),E=(0,r.zG)(w,i.UI(o.UI((e=>e.consumeDeltas))),i.UI(o.fS((()=>l.of(g.bM()))))),I=(0,r.zG)(i.vP(S,c),i.Rp(((e,t)=>{let[n,a]=t;const i=(0,r.zG)(e,o.UI((e=>{let[,t]=e;return(0,r.zG)(n,o.EQ((()=>t),(e=>(0,r.zG)(t,g.hX((t=>!t(e,a.pendingEvents)))))))})),o.fS((()=>g.bM())));if(o.pC(n)&&g.xb(a.pendingEvents))return[ur(n.value),i];const s=(0,m.b2)(),c=(0,r.zG)(n,o.fS((()=>p)));var u;return[(0,r.zG)((()=>s.promise),(u=c,e=>[u,e])),(0,r.zG)(i,g.R3(((e,t)=>{const n=g.xb(t)||(0,r.zG)(a.pendingEvents,g.yW((e=>!t.includes(e))));return n&&s.resolve(e),n})))]})),i.UI(s.li)),_=(0,r.zG)(E,i.En(3,g.uZ()),(t=>{let[n,a,s]=t;return{errors:(0,r.zG)(n,i.UI(l.UI(g.tS((e=>e.errors))))),events:(0,r.zG)(a,i.UI(l.UI(g.tS((e=>e.events)))),(0,or.F)(e.metrics,"query_language_processed_pageview")),internalStateDiff:(0,r.zG)(s,i.UI(l.UI((0,r.ls)(g.DZ((e=>e.internalStateDiff)),o.DT(g.Od),o.UI((e=>e.reduce(((e,t)=>({...e,...t})))))))))}})),G=(0,r.zG)(I,pr((e=>e.internalStateMap))),k=vr(G);return{state:vr(I),value:{..._,stateMigratedThisInitialisation:v,internalStateMap:k,processing:(0,r.zG)(i.vP(w,c),i.UI((e=>{let[t,n]=e;return o.Wi(t)||g.Od(n.pendingEvents)}))),segments:(0,r.zG)(G,pr(Ir)),tpdUsage:(0,r.zG)(i.vP(e.thirdPartyData,k),i.UI((e=>{let[t,n]=e;return(0,r.zG)(t,o.UI((()=>Vn(n))))})))}}})),Ir=e=>(0,r.zG)(Bn(e),(e=>(0,r.zG)(e,g.uK((e=>e<1e7)),(t=>{let{left:n,right:r}=t;return{all:e,custom:r,standard:n}}))));n(856);const _r=e=>ur(Q.F2(e)),Gr="RefEventualEither",kr=e=>i.a9(_r(e)),zr=Le.UI(wr,Q.dO),Ur=ze.ap(Sr,Q.G5),xr=e=>(e=>t=>{const n=t();return(0,r.zG)(i.fF((()=>n)),i.UI(o.fS((()=>e))),i.UI((e=>(0,r.bc)(e,(()=>n)))))})(Q.F2(e)),Pr=e=>pr(Q.F2)(e),qr=e=>pr(Q.fS(e)),Cr={URI:Gr,map:(e,t)=>zr(t)(e)},Tr={URI:Gr,map:Cr.map,ap:(e,t)=>Ur(t)(e)},Or=e=>vr(e.all),Dr=(e,t)=>n=>({all:(0,r.zG)(n,zr(e)),byAdServer:(0,m.mQ)((0,r.ls)(t,o.UI((e=>(0,r.zG)(n,zr(e))))))}),Ar=e=>(0,r.zG)(e,pr(Q.F2),Dr(r.yR,(e=>o.G(e.filterCohorts)))),Mr=e=>({all:(0,r.zG)(e.all,qr((()=>g.bM()))),byAdServer:(0,m.mQ)((0,r.ls)(e.byAdServer,o.UI(qr((()=>g.bM())))))}),jr=e=>(0,r.zG)(e,Mr,Or);var Rr=n(548);const Fr=e=>a.dQ((0,r.ls)((e=>{let{previousState:t}=e;return function(e){if(e&&"object"==typeof e)return{previousUnloadEvents:"previousUnloadEvents"in e?Yr(e.previousUnloadEvents):[]};return{previousUnloadEvents:[]}}(t)}),(t=>{let{previousUnloadEvents:n}=t;n.forEach((t=>e.eventsCache.add((0,Rr.k)(t),{persistOnDisk:!0})));return{value:{newEvents:(0,r.zG)(e.newEvents,i.UI(l.UI((0,m.bw)(g.UI((t=>{let[,n]=t;Lr.has(n.name)||e.eventsCache.add(n,{persistOnDisk:!0})})))))),priorEvents:()=>e.eventsCache.all()},state:(0,r.zG)(e.eventsToProcessOnPageUnload,i.UI(g.hX((e=>{let[,t]=e;return!Lr.has(t.name)}))),i.UI(g.UI((0,r.ls)(s.Yg,Rr.X))),i.UI((e=>({previousUnloadEvents:e}))))}})));function Yr(e){return e&&Array.isArray(e)?e:[]}const Lr=new Set(["AdRequest","PageviewEngagement","PrebidAuctions","Reaction","SegmentEntry","SegmentExit","SlotRendered","ThirdPartySegments","VideoEngagement"]),Nr=function(){return(0,r.bc)(...arguments)},$r=e=>(0,r.zG)(a.K4((t=>{let{stopped:n}=t;const[a,s]=i.Ue(i.a9(l.of(o.YP)));let c;const u=new Promise((e=>{c=e}));return{priorEvents:()=>u.then((e=>e())),externalStateDelta:i.xH(a),newEvents:(0,r.zG)(i.vP(e.newEvents,n),i.UI((e=>{let[t,n]=e;return n?()=>[]:t}))),setCachedPriorEvents:c,setExternalStateDelta:s}})),a.ak("segmentationService",(t=>{let{newEvents:n,priorEvents:r,externalStateDelta:a}=t;return Er({...e,externalStateDelta:a,newEvents:n,priorEvents:r})})),a.UI((t=>(0,r.zG)(t.segmentationService.events,i.En(4,g.uZ()),(n=>{let[a,c,u,f]=n;return{...t,newEvents:a,realtime:(0,r.zG)(c,i.Rp(!1,((e,t)=>{const n=t();return e||n.some((e=>{let[,t]=e;return"Pageview"===t.name}))})),(e=>i.vP(e,t.segmentationService.processing)),i.UI((e=>{let[t,n]=e;return t&&!n})),i.u4(((e,t)=>e||t))),currentPageviewSegments:(d={processedEvents:(0,r.zG)(u,i.UI(l.UI(g.UI(s.Yg)))),segments:t.segmentationService.segments,viewId:e.viewId},(0,r.zG)(i.vP(d.processedEvents,d.viewId,d.segments),i.Rp({pageviewProcessed:!1,resolvePageviewSegments:e=>{},segments:ur({all:[],custom:[],standard:[]}),viewId:""},((e,t)=>{let[n,a,i]=t;const s=n();return(0,r.zG)(e,o.DT((e=>e.viewId===a)),o.EQ((()=>{if((0,r.zG)(s,g.G((e=>"Pageview"===e.name&&e.view_id===a))))return{pageviewProcessed:!0,resolvePageviewSegments:()=>{},segments:i,viewId:a};{const e=(0,m.b2)();return{pageviewProcessed:!1,resolvePageviewSegments:t=>e.resolve(dr(t)()),segments:Nr(fr(i),(()=>e.promise)),viewId:a}}}),(e=>e.pageviewProcessed?{...e,segments:i}:(0,r.zG)(s,g.G((e=>"Pageview"===e.name&&e.view_id===a)))?(e.resolvePageviewSegments(i),{pageviewProcessed:!0,resolvePageviewSegments:()=>{},segments:i,viewId:a}):{...e,segments:i})))})),i.UI((e=>e.segments)))),lastProcessedEvents:(0,r.zG)(f,i.UI(l.UI(g.UI(s.Yg))))};var d})))),a.Hr("cohorts",(t=>{let{segmentationService:n}=t;return(0,r.zG)(i.fF(e.nonQlCohorts),i.UI(o.UI((e=>(0,r.zG)(n.segments,pr((e=>e.all)),pr(g.UI(String)),Ar,(t=>({query_language:t,...e})))))))})),a.ak("stateSync",(t=>{let{segmentationService:n,lastProcessedEvents:r}=t;return Lt({eventSourceId:e.eventSourceId,groupId:e.groupId,groupIdIsNewlyGenerated:e.groupIdIsNewlyGenerated,internalStateDiff:n.internalStateDiff,internalStateMap:n.internalStateMap,lastProcessedEvents:r,logger:e.logger,permutiveApi:e.permutiveApi,permutiveUrls:e.permutiveUrls,queryLanguageProcessing:n.processing,reportError:e.reportError,sessionId:e.sessionId,viewId:e.viewId})})),a.bw((e=>{let{stateSync:t,setExternalStateDelta:n}=e;return n(t.externalStateDelta)})),a.ak("segmentTransitions",(t=>{let{segmentationService:n}=t;return(e=>(0,r.zG)(a.vP({currentSegmentsSet:a.K4((()=>(0,r.zG)(e.segments,i.UI(u))))}),a.ak("transitionsSinceInit",(e=>{let{currentSegmentsSet:t}=e;return a.of(c(t))})),a.UI((e=>{let{currentSegmentsSet:t,...n}=e;return n}))))({segments:(0,r.zG)(vr(n.segments),i.UI((e=>e.all))),viewId:e.viewId})})),a.Hr("cohortsRef",(e=>{let{cohorts:t}=e;return(0,r.zG)(t,i.VS(o.EQ((()=>i.a9(g.bM())),(0,r.ls)((e=>Object.values(e)),g.UI((0,r.ls)(Mr,(e=>e.all),vr,i.D8(g.Eh(b.Eq)))),g.vP(i.g1),i.UI(g.xH)))))})),a.Hr("createTrackRequest",(t=>{let{cohortsRef:n,segmentationService:a}=t;return(0,r.zG)(i.vP({cohorts:(0,r.zG)(n,i.UI(o.G)),qlSegments:(0,r.zG)(vr(a.segments),i.UI(o.G)),webClient:e.webClient}),i.UI((0,ze.Yt)(o.G5)),i.UI(o.UI((t=>{let{cohorts:n,qlSegments:r,webClient:a}=t;return t=>({...t,segments:r.all,user_id:e.groupId,cohorts:n,properties:{...t.properties,client:{...a,...t.properties.client??{}}}})}))))})),e.trackPageviewComplete?(0,r.ls)(a.ak("pageviewComplete",(t=>{let{newEvents:n}=t;return h({currentTimestampSecs:e.currentTimestampSecs,events:n,sessionId:e.sessionId,viewId:e.viewId})})),a.UI((e=>{let{pageviewComplete:t,...n}=e;return{...n,eventsToCacheOnPageUnload:t.eventsToProcessOnPageUnload,eventsToPublishOnPageUnload:(0,r.zG)(i.vP(n.createTrackRequest,t.eventsToProcessOnPageUnload),i.UI((e=>{let[t,n]=e;return(0,r.zG)(t,o.EQ((()=>g.cS),(e=>(0,r.zG)(n,g.UI((0,s.H5)(e))))))}))),newEvents:t.eventsToProcessImmediately}}))):a.UI((e=>({...e,eventsToCacheOnPageUnload:i.a9(g.cS),eventsToPublishOnPageUnload:i.a9(g.cS)}))),a.ak("eventCache",(t=>{let{eventsToCacheOnPageUnload:n,newEvents:i,setCachedPriorEvents:o}=t;return(0,r.zG)(e.eventsCache,Q.EQ((e=>(o(e),a.of({newEvents:i}))),(e=>(0,r.zG)(Fr({eventsCache:e,eventsToProcessOnPageUnload:n,newEvents:i}),a.UI((e=>{let{newEvents:t,priorEvents:n}=e;return o(n),{newEvents:t}}))))))})),a.UI((e=>({...e,newEvents:e.eventCache.newEvents}))),a.Hr("eventsToPublish",(t=>{let{cohorts:n,newEvents:a,segmentationService:c}=t;return(0,r.zG)(i.vP(a,e.webClient,c.segments,(0,r.zG)(n,i.UI(o.UI((0,r.ls)((e=>Object.values(e)),g.UI(Mr),g.UI((e=>e.all))))))),i.UI((t=>{let[n,a,i,c]=t;return(0,r.zG)(o.Do,o.Qt("webClient",a),o.Qt("cohorts",c),o.ak("events",(()=>(0,r.zG)(n(),o.DT(g.Od)))),ht,Mt("segments",(()=>(0,r.zG)(dr(i),yt))),At((e=>(0,r.zG)(e.cohorts,pt.uU(hr(1e3)),pt.UI(g.xH),pt.UI((t=>({...e,cohorts:t})))))),_t((t=>{let{cohorts:n,events:a,segments:i,webClient:o}=t;return(0,r.zG)(a,g.UI((0,s.H5)((t=>({...t,segments:i.all,user_id:e.groupId,cohorts:n,properties:{...t.properties,client:{...o,...t.properties.client??{}}}})))))})),pt.UI(o.fS((()=>g.bM()))))})),(e=>{const[t,n]=i.gS(g.uZ());return(0,r.zG)(e,i.UI((e=>e().then(n)))),t}))})));var Hr=n(963);function Qr(e){return t=>(0,r.zG)(i.oQ(e),i.UI((0,m.rO)({backoffAfterErrorMs:e=>e??0,backoffAfterSuccessMs:e=>e??0})),(e=>a.dQ((n=>{let{previousState:a}=n;const[s,c]=i.Ue(function(e){if("object"!=typeof e||null===e)return{lastSuccess:0,lastError:0};return e}(a)),u=(0,r.zG)(i.vP(s,e),i.UI((e=>{let[t,n]=e;return Math.max(t.lastError+n.backoffAfterErrorMs,t.lastSuccess+n.backoffAfterSuccessMs)})));return{state:s,value:(0,r.ls)(o.DT((()=>Date.now()>=u.current)),o.UI(t),o.UI((0,m.bw)((e=>e.then((()=>c({...s.current,lastSuccess:Date.now()})),(()=>c({...s.current,lastError:Date.now()})))))))}}))))}const Br=(e,t)=>n=>(0,r.zG)((e=>n(e)().then((e=>Q.nM(e)?Promise.reject(e.left):e.right))),Qr(e),a.UI((e=>n=>()=>(0,r.zG)(n,e,o.EQ((()=>Promise.resolve(Q.t$(t))),(e=>e.then(Q.F2,Q.t$))))))),Vr=e=>Un((()=>gn((0,m.rO)({previous:i.UI(Q.UI(o.hX((t=>{let[n]=t;return e(n)})))),consistent:(0,r.ls)(Ut((t=>{let[n]=t;return e(n)})),_t((0,ir.H5)(Fe.UI(o.hX((t=>{let[n]=t;return e(n)}))))))})))),Kr=e=>Un((t=>{let[,n]=t;return gn((0,m.rO)({consistent:t=>(0,r.zG)((0,ze.gz)(Tt)(t,yt(n)),Ut((t=>{let[[n],r]=t;return e(n,r)})),_t((t=>{let[n,a]=t;return(0,r.zG)(n,(0,ir.H5)(Fe.UI(o.hX((t=>{let[n]=t;return e(n,a)})))))})))}))})),Wr=e=>t=>Q.nM(e)&&Q.nM(t)?e.left===t.left?e:t:Q.tO(e)&&Q.tO(t)&&e.right===t.right?e:t,Xr=(e,t)=>n=>Array.isArray(n)&&2===n.length&&e(n[0])&&t(n[1]),Jr=()=>({equals:(e,t)=>{let[n,r]=e,[a,i]=t;return n===a&&r===i}}),Zr=e=>(0,r.zG)(e,Un((e=>{let[,t,n]=e;return gn((e=>{const a=(0,r.zG)(e.consistent,_t(s.Yg),zt(wt),pt.UI(o.xH)),c=(0,r.zG)(a,_t(Q.F2),Et((()=>(0,ze.gz)(Fe.Hi)(Fe.fF(t),n))),Fe.UI(o.G),m.HP);return{previous:(0,r.zG)(i.vP(e.previous,i.fF(c)),i.UI((e=>{let[t,n]=e;return(0,r.zG)(n,o.EQ((()=>t),Q.wp((()=>t))))}))),consistent:(0,r.zG)(t,pt.UI((e=>(0,r.bc)(e,c))),yt)}}))}))),ea=()=>{throw new Error("Developer error.")};const ta=(e,t)=>(0,r.zG)(function(e){return Fe.it((t=>e.permutiveApi.req({url:e.permutiveUrls.getClassificationModelsEndpointUrl("/segment",o.G(e.config.classificationModelsApiVersion)),method:"POST",payload:{userCohorts:t.cohorts,userId:t.userId},contentType:"text/plain",dataType:"json",withCredentials:!1})),(e=>`Failed to fetch classification models: ${e}`))}(e),Br({backoffAfterErrorMs:6e5},"CLM request blocked by rate limiting."),a.VS((e=>{return(0,r.zG)(t,(e=>(0,r.zG)(e,i.UI((e=>e.queryLanguageCohorts)),i.UI(pt.UI((e=>(0,r.bc)(e,(0,m.HP)((()=>(0,r.zG)(e,(0,m.SL)((e=>0|e))))))))),(t=>i.vP(e,t)))),i.UI((t=>{let[n,a]=t;return(0,r.zG)(a,((e,t,n)=>a=>(0,r.zG)((0,m.HP)(a),(a=>i=>(0,r.bc)((0,r.bc)(e,(0,r.zG)(a,pt.UI(t),m.HP),(0,r.zG)(a,pt.tS(n),m.HP)),i))))(ra(),(e=>{let[,t]=e;return{qlCohortsHash:t(),timestamp:n.currentTimestampSecs,userId:n.userId}}),(0,r.ls)((t=>{let[r]=t;return e({userId:n.userId,cohorts:r})}),Fe.UI(na))),Vr((e=>e.userId===n.userId)),Vr((e=>n.currentTimestampSecs-e.timestamp<2592e3)),Kr(((e,t)=>e.qlCohortsHash===t.qlCohortsHash)),Kr(((e,t)=>t.timestamp-e.timestamp<86400)))})),(n=e=>"object"==typeof e&&null!==e&&"qlCohortsHash"in e&&"timestamp"in e&&"userId"in e,c=e=>"object"==typeof e&&null!==e&&"allCohorts"in e&&"gam"in e&&"xandrSsp"in e,(0,r.ls)(i.UI(Zr),i.UI(vn((e=>{let[t]=e;return{zero:t}}))),i.UI(Pn("cache",(()=>function(e){return[e,e]}))),a._i((0,r.ls)(i.VS((e=>e.previous)),i.UI(o.Uo),i.UI(o.xH),i.D8(o.Eh(Jr()))),(0,r.ls)(o.hX(m.El),o.xH,o.hX(Xr(n,c)),(e=>({previous:i.a9(Q.F2(e)),consistent:(0,r.zG)(ht(e),_t((t=>{let[n]=t;return(0,r.bc)(n,Fe.F2(e))})))})))),a.UI(i.VS((e=>{let{cache:t,zero:n}=e;return(0,r.zG)(t.previous,i.UI(Q.UI(o.EQ((()=>n),s.Yg))),i.YO("current"),i.Hr("consistent",(0,r.a9)((0,r.zG)(t.consistent,pt.tS(o.EQ(ea,s.Yg)),Fe.UI(o.pF(ea)),Fe.UI(s.Yg)))),i.UI((e=>{let{current:t,consistent:n}=e;return[t,n]})))}))),a.UI(i.u4(((e,t)=>(0,r.zG)(t,(0,s.pL)(Wr(fr(e))))))))));var n,c})));function na(e){return{allCohorts:(0,g.xH)(Object.values(e)),gam:e.gam||g.cS,xandrSsp:e.xandrSsp||g.cS}}const ra=()=>({allCohorts:g.cS,gam:g.cS,xandrSsp:g.cS}),aa=(e,t)=>(0,r.zG)(t,a.KD([[e=>!e.consent,a.K4((()=>kr(ra())))],ta(e,t)]),a.UI(i.xH),a.UI(Dr((e=>e.allCohorts),(e=>"dfp"===e.id?o.G((e=>e.gam)):o.YP))),a.UI(o.G));var ia=n(930);const oa=["pug"],sa=function(e,t){return(0,r.zG)(ca(e),Qr({backoffAfterErrorMs:6e5}),a.VS((e=>ia.m((0,r.zG)(t,i.UI((0,m.rO)({tpdUsage:o.UI((0,r.ls)(je.UI(je.z7((e=>!oa.includes(e)))),je.hX((0,Re.ff)(je.xb))))})),i.UI((t=>{let{tpdUsage:n,userId:a}=t;return{validityKey:()=>a,freshnessKey:(0,r.ls)((()=>n),o.EQ((()=>0),(0,r.ls)(JSON.stringify,m.vp))),refresh:(0,r.zG)(n,o.hX((e=>Object.keys(e).length>0)),o.UI(Fe.it((t=>(0,r.zG)(e({user_id:a,time:new Date,tpd_segments:t}),o.fS((()=>Promise.reject("Blocked by backoff."))))),(e=>`Failed to report TPD usage. Got ${e}`))))}})))))),a.UI(r.Q1))};const ca=e=>t=>{const{config:n,metrics:r,permutiveApi:a,permutiveUrls:i}=e,s=r.startTimer("sdk_http_tpd_usage_seconds",{});return a.req({url:i.getEndpointUrl("/tpd/usage",o.G(n.apiVersion)),method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1}).then((e=>(r.stopTimer("sdk_http_tpd_usage_seconds",s),e)))};function ua(e,t){const n=["amp","gigya","pxid","sailthru"],s=(0,r.zG)(t.identities,i.UI(o.UI(je.z7((e=>!n.includes(e)))))),c=e=>(0,m.vp)(JSON.stringify(e)),u=e=>[c(e),e];return(0,r.zG)(a.vP({fetchFromNewEndpoint:(0,r.zG)(fa(e),Qr({backoffAfterErrorMs:6e5})),fetchFromLegacyEndpoint:(0,r.zG)(da(e),Qr({backoffAfterErrorMs:6e5}))}),a.VS((n=>{let{fetchFromNewEndpoint:c,fetchFromLegacyEndpoint:f}=n;return(0,r.zG)(ia.m((0,r.zG)(i.vP(t.userId,t.sessionId,s),i.UI((t=>{let[n,a,i]=t;return{validityKey:()=>n,freshnessKey:()=>`${la(i)},${a}`,refresh:(0,r.zG)(i,o.UI((t=>je.xb(t)?Fe.of({}):Fe.Y3((()=>(0,r.zG)((t=>(0,r.zG)(c(t),o.UI((e=>e.catch((()=>(0,r.zG)(f(t.identities),o.fS((()=>e))))))),o.wp((()=>f(t.identities))),o.UI((0,m.bw)((t=>{const n=e.metrics.startTimer("sdk_get_third_party_data_task_duration_seconds",{});t.catch(r.Q1).then((()=>{e.metrics.stopTimer("sdk_get_third_party_data_task_duration_seconds",n)}))})))))({userId:n,identities:t}),o.fS((()=>Promise.reject("Blocked by persistent backoff"))))),(e=>`Error fetching TPD. Got ${e}`)))),o.UI(Fe.UI(u)))}})))),ia.d((e=>o.G((e=>Array.isArray(e)?e:u(e))(e)))),a.UI(i.UI(Q.fS((t=>(e.logger.warn("[TPD]",`Failed to retrieve usable value, using zero value. ${t}`),o.G(u({}))))))),a.bw((0,r.ls)(i.UI(o.pC),i.UI((t=>{t&&e.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"audience_matching_ready",time_origin:"sdk_init"})})))))})))}const fa=e=>async t=>{const n=e.metrics.startTimer("sdk_http_audience_matching_seconds",{}),a=await e.permutiveApi.req({url:e.permutiveUrls.getAudienceMatchingEndpointUrl("/id",o.G("v1"),t.userId),payload:{identities:(0,r.zG)(t.identities,je.Yz,g.UI((e=>{let[t,n]=e;return{tag:t,id:n}})))},method:"POST",withCredentials:!1,dataType:"json"});return e.metrics.stopTimer("sdk_http_audience_matching_seconds",n),a.items},da=e=>async t=>{const n=e.metrics.startTimer("sdk_http_tpd_seconds",{}),r=await e.permutiveApi.req({url:e.permutiveUrls.getEndpointUrl("/tpd",o.G(e.config.apiVersion)),method:"POST",payload:{user_id:t},contentType:"text/plain",dataType:"json",withCredentials:!1});return e.metrics.stopTimer("sdk_http_tpd_seconds",n),r},la=(0,r.ls)(JSON.stringify,m.vp);const ga=(e,t)=>(0,r.zG)(a.vP({data:ua(e,{identities:t.identities,sessionId:t.sessionId,userId:t.userId}),usageReporting:sa(e,i.vP({tpdUsage:t.tpdUsage,userId:t.userId}))}),a.ak("analytics",(e=>{let{data:n}=e;return function(e){return a.dQ((t=>{let{previousState:n}=t;const[a,s]=i.gS(g.uZ());var c;return{state:(0,r.zG)(i.vP(e.userId,e.providerSegments,e.sessionId,e.viewId),i.D8(((e,t)=>{let[n,r]=e,[a,i]=t;return n===a&&r===i})),i.Rp(null!==(c=n)&&"object"==typeof c?c:{userId:"",providerHashes:{}},((e,t)=>{let[n,a,i,c]=t;const u=(0,r.zG)(a,o.fS((()=>({})))),f=(0,r.zG)(u,je.UI((0,m.SL)(m.vp))),d=(0,r.zG)(e,o.DT((e=>e.userId===n)),o.UI((e=>e.providerHashes)),o.fS((()=>({}))));return(0,r.zG)(u,je.z7((e=>f[e]!==(d[e]||0))),(e=>Object.entries(e)),g.UI((e=>{let[t,n]=e;return(0,r.bc)((0,m.k$)(),{name:"ThirdPartySegments",properties:{data_provider:t,segments:[...n]},session_id:i,time:new Date,view_id:c})})),s),{userId:n,providerHashes:f}}))),value:a}}))}({providerSegments:(0,r.zG)(n,i.UI(o.UI(ir.Yg))),sessionId:t.sessionId,userId:t.userId,viewId:t.viewId})})),a.UI((e=>{let{data:t,analytics:n}=e;return{data:t,analyticsEvents:n}}))),ma=function(e){const t={include_geo:!0,include_isp:!0,include_ip_hash:!0,include_ip:!1},n=e.trace.startSpan("geoip_data_retrieval");return(0,r.zG)(ia.m((0,r.zG)(e.sessionId,i.UI((n=>({validityKey:()=>(0,m.vp)(JSON.stringify(t)),freshnessKey:()=>n,refresh:o.G(Fe.Y3((()=>pa(e.permutiveApi,e.metrics,e.config,t,e.permutiveUrls)),(e=>`Error fetching geoip. Got ${e}`)))}))))),a.UI(i.UI(Q.fS((t=>(e.logger.warn("[geoip]",`Failed to retrieve usable value, using zero value. ${t}`),o.G({})))))),a.bw((0,r.ls)(i.UI(o.pC),i.UI((t=>{t&&(e.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"geoip_data_ready",time_origin:"sdk_init"},performance.now()),n.finish())})))))};const pa=(e,t,n,r,a)=>{const i=[];r.include_geo&&i.push(["include","geo"]),r.include_isp&&i.push(["include","isp"]),r.include_ip&&i.push(["include","ip"]),r.include_ip_hash&&i.push(["include","ip_hash"]);const s=t.startTimer("sdk_http_geoip_seconds",{});return e.req({url:a.getEndpointUrl("/geoip",o.G(n.apiVersion),i),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!1}).then((e=>(t.stopTimer("sdk_http_geoip_seconds",s),e)))},ba=e=>t=>{const n=r=>{const a={...r};for(let i in r){const o=r[i];t.hasOwnProperty(o)?null!=e&&e.dropUnenriched&&void 0===t[o]?delete a[i]:a[i]=t[o]:null!==o&&"object"==typeof o&&o.constructor===Object&&(a[i]=n(o))}return a};return n};var ha=n(965),va=n(853);const ya=function(e,t,n,s){const c=(0,va.Hn)(Sa),u=c("ssps",g.cS),f=c("all_cohort_mapping",{}),d=u.includes("google_pps"),l=c("affinity_enabled",!1);return(0,r.zG)(s.consent,a.KD([[e=>!e,a.of(kr(o.YP))],a.K4((a=>{let{stopped:c}=a;const u=(0,r.zG)(s.cohorts,zr((0,r.ls)(g.hX((e=>e in f)),g.tS((e=>f[e]))))),d=(0,r.zG)(i.vP(s.url,c),i.UI((e=>{let[t,n]=e;return(0,r.zG)(t,o.hX((()=>l&&!n)))})),i.UI(o.UI((n=>Fe.Y3((()=>e.req({method:"GET",url:t.getEndpointUrl("/standard-audiences/v1/affinity",o.YP,[["url",n]]),withCredentials:!1,dataType:"json"})),String)))),i.UI(o.UI(Fe.Vn((0,m.bw)((e=>n(`Failed to fetch affinity cohorts: ${e}`)))))),i.UI(o.UI(Fe.UI((e=>e.affinity_values)))),i.UI(o.fS((()=>Fe.of(g.bM())))),i.VS(xr(g.bM())));return(0,r.zG)((0,ze.gz)(Tr)(u,d),zr(g.xH),zr((e=>[...new Set(e)])),zr(o.G))}))]),a.UI(i.xH),a.UI((e=>({cohorts:(0,r.zG)(e,zr(o.fS((()=>g.bM()))),Dr((e=>e),(e=>"dfp"===e.id&&d?o.G(wa):o.YP)),o.G),externalData:{[Ea]:(0,r.zG)(vr(e),i.UI(o.Uo),i.UI(o.xH),i.UI(o.UI(wa)),i.D8(o.Eh(g.Eh(b.Eq))),i.UI(o.UI((e=>({ssps:u,cohorts:e})))))}}))))};const wa=e=>[...new Set(e.map((e=>e.replace(/-ac$/,"").replace(/-aw$/,"").replace(/-c$/,""))))],Sa="ssp";const Ea="_pssps",Ia=e=>{const t=(0,r.zG)((null==e?void 0:e.dfp)??[],g.UI(String),(e=>new Set(e)));return{id:"dfp",filterCohorts:g.hX((e=>t.has(e)))}};const _a=e=>{const t=(0,r.zG)(Object.values(e)??[],g.UI(String),(e=>new Set(e)));return{id:"xandr_ssp",filterCohorts:g.hX((e=>t.has(e)))}},Ga=e=>{if(!e.metrics.isEnabled())return()=>{};const t=(0,r.zG)(e.adServers,g.UI((e=>(0,r.bc)(e.id,e))),je.sq,je.UI((t=>{const n=(0,r.zG)(e.cohorts,je.DZ((e=>e.byAdServer(t))),(e=>i.vP(e)),i.UI(je.UI((a=5e3,s="Timeout",e=>(0,r.zG)(e,lr(a),pt.UI(o.pF((()=>Q.t$(s)))))))),i.UI((0,ze.Yt)(pt.Hi)),i.UI(pt.UI((0,r.ls)(je.oh,Ne.Vn(je.Su(((t,n)=>{e.logger.warn("[Targeting Metrics]",`[${t}]`,n)}))),Ne.F2))),(e=>()=>e.current));var a,s;return(0,r.ls)(g.of,g.UI((e=>e.cohorts)),za,g.UI((e=>{let[t,n]=e;return{allCohorts:new Set(t),cohortCountByType:ka(t),requestCount:n}})),(a=>(0,r.zG)(n(),pt.UI(je.Su(((t,n)=>(a,i)=>{(0,r.zG)(n,g.Hr("actualCohortCount",(e=>{let{cohortCountByType:t}=e;return(0,r.zG)(t,je.P5(a))})),g.UI((n=>{const s={cohort_type:a,target:t},c=i.reduce(((e,t)=>n.allCohorts.has(t)?e+1:e),0),u=i.length-c;e.metrics.track({name:"sdk_ad_request_missed_cohorts",labels:s,value:n.requestCount*u}),e.metrics.track({name:"sdk_ad_request_successful_cohorts",labels:s,value:n.requestCount*c}),(0,r.zG)(n.actualCohortCount,o.UI((t=>{const r=t-c;e.metrics.track({name:"sdk_ad_request_superfluous_cohorts",labels:s,value:n.requestCount*r})})))})))})(t.id,a))))),(e=>e()))})));return e=>{if("AdRequest"===e.name)(n=e.properties).ad_server_id in t&&t[n.ad_server_id](n);var n}},ka=e=>({ql:(0,r.zG)(e,g.u4(0,((e,t)=>isNaN(parseInt(t))?e:e+1)))}),za=e=>(0,r.zG)(e,g.pO((e=>{const{init:t,rest:n}=(0,r.zG)(e,g.zT((t=>t===e[0])));return[t,n]})),g.UI((e=>[e[0],e.length]))),Ua=e=>o.YP;const xa=p.n_({cohorts:g.Eh((0,m.Or)()),ctx:(0,m.Or)()}),Pa=g.cS;Promise.resolve(Q.F2(Pa)),p.n_({userId:(0,m.Or)(),lastSuccess:{equals:(e,t)=>e&&t&&xa.equals(e,t)||e===t}});const qa=p.n_({cohorts:H.Eh(p.n_({code:b.Eq,groups:H.Eh(Z.Eq)})),groups:H.Eh(Z.Eq)}),Ca=(p.n_({userId:(0,m.Or)(),lastSuccess:{equals:(e,t)=>e===t||!!e&&!!t&&p.bc(b.Eq,qa).equals(e,t)}}),(e,t)=>(e.log("[advertiser] pass_cohorts_to_prebid: false"),{_pcrdbs:i.a9(o.YP),_pcrprs:i.a9(o.YP)}));const Ta=function(e,t){return a.of({cohorts:o.YP,externalData:Ca(e.logger,o.YP)})};const Oa=a.K4((()=>{}));const Da=e=>t=>(0,r.zG)(e,je.UI((e=>t.reduce(((t,n)=>t+Number(e.has(n))),0)))),Aa=e=>t=>{const{consent:n,currentTimestampSecs:c,identities:u,sessionId:f,userId:d,viewId:h,pageviewState:v}=t;return(0,r.zG)(a.K4((()=>{let n;const r=new Promise((e=>{n=e})),[a,s]=i.Ue(i.a9(o.YP));return{...t,adServers:[Ia(e.optimisedActivationsConfig.dfp),_a(e.optimisedActivationsConfig.appnexus_adserver)],nonQlCohortsT:()=>r,setNonQlCohorts:n,setTpdUsage:s,tpdUsage:i.xH(a)}})),a.ak("geoip",(()=>(e=>(0,r.zG)(e,ma,a.YO("data"),a.Hr("replacementMap",(e=>{let{data:t}=e;return(0,r.zG)(t,i.UI(o.UI((e=>{var t;return{$ip_geo_info:e.geo_info,$ip_geo_info_continent:null===(t=e.geo_info)||void 0===t?void 0:t.continent,$ip_isp_info:e.isp_info,$ip_address:e.ip,$ip_address_hash:e.ip_hash}}))))})),a.Hr("permutiveContext",(e=>{let{data:t}=e;return(0,r.zG)(t,i.UI(o.EQ((()=>({})),(e=>{var t,n,r,a,i,o,s,c,u;return{isp:null===(t=e.isp_info)||void 0===t?void 0:t.isp,organization:null===(n=e.isp_info)||void 0===n?void 0:n.organization,autonomous_system_number:null===(r=e.isp_info)||void 0===r?void 0:r.autonomous_system_number,autonomous_system_organization:null===(a=e.isp_info)||void 0===a?void 0:a.autonomous_system_organization,continent:null===(i=e.geo_info)||void 0===i?void 0:i.continent,country:null===(o=e.geo_info)||void 0===o?void 0:o.country,city:null===(s=e.geo_info)||void 0===s?void 0:s.city,province:null===(c=e.geo_info)||void 0===c?void 0:c.province,postal_code:null===(u=e.geo_info)||void 0===u?void 0:u.postal_code}}))))}))))({...e,sessionId:f}))),a.Hr("watson",(t=>{let{webClient:n}=t;return(0,r.zG)(e.watson,o.fS((()=>(0,r.zG)(n,i.UI(o.UI((e=>e.url))),i.D8(o.Eh(b.Eq)),(t=>(0,ha.watson)({...e,pageUrl:t,watsonEnabled:(0,r.zG)(v,i.UI((e=>e.watsonEnabled)))}))))))})),a.ak("audienceMatching",(t=>{let{tpdUsage:n}=t;return ga(e,{identities:u,sessionId:f,tpdUsage:n,userId:d,viewId:h})})),a.UI((e=>{let{audienceMatching:{analyticsEvents:t,...n},newEvents:a,...o}=e;return{...o,audienceMatching:n,newEvents:(0,r.zG)(i.vP(a,t),i.UI(l.RD),i.UI(l.UI(g.xH)))}})),a.UI((e=>{const[t,n,a]=i.Ue(o.bM()),[s,c]=(0,r.zG)(e.newEvents,i.En(2,g.uZ())),u=(0,r.zG)(i.vP(s,t),i.UI((e=>{let[t,n]=e;return(0,r.zG)(n,o.UI((e=>(0,r.zG)(t,l.UI(g.UI((0,m.bw)((t=>{let[,n]=t;return e(n)}))))))),o.fS((()=>l.of(g.bM()))))})));return{...e,newEvents:u,newEventsForAdvertiserSegmentation:c,collectTargetingSuccessMetrics:e=>{n(o.G(e)),a()}}})),a.ak("enrichedEvents",(t=>{let{enrichmentReplacementMap:n,geoip:c,newEvents:u,watson:f}=t;return(0,r.zG)(i.vP({misc:n,geoip:c.replacementMap,watson:f.replacementMap}),i.UI((0,ze.Yt)(o.G5)),i.UI(o.UI((e=>{let{misc:t,geoip:n,watson:r}=e;return{...t,...n,...r}}))),(t=>a.K4((()=>((e,t,n,a)=>((0,r.zG)(t,i.UI(o.pC),i.YP((t=>{t&&e.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"event_enrichment_ready",time_origin:"sdk_init"})}))),(0,r.zG)(n,i.VS((()=>(0,r.zG)(i.vP((0,r.zG)(t,i.UI(o.UI(ba({dropUnenriched:!0})))),a),i.UI((0,r.ls)((e=>{let[t,n]=e;return()=>(0,r.zG)(t,o.EQ((()=>[]),(e=>(0,r.zG)(n(),g.UI((0,s.H5)((0,m.rO)({properties:e})))))))})))))))))(e.metrics,t,d,u)))))})),a.UI((0,m.rO)({enrichedEvents:(0,or.F)(e.metrics,"pageview_enriched")})),a.ak("lookalikeModels",(()=>(0,r.zG)(e.lookalikeModels,o.EQ((()=>(0,Hr.lookalikeModelsService)({...e,consent:n,currentTimestampSecs:c})),a.of)))),a.ak("queryLanguage",(n=>{let{audienceMatching:o,nonQlCohortsT:s,enrichedEvents:c,lookalikeModels:u,setTpdUsage:f,userIdIsNewlyGenerated:l}=n;return(0,r.zG)((g={...e,...t,newEvents:c,thirdPartyData:o.data,groupId:d,groupIdIsNewlyGenerated:l,nonQlCohorts:s,lookalikeModels:u,migratedStateMaps:e.migratedStateMaps},(0,r.zG)(i.vP(g.eventSourceId,g.groupId,g.groupIdIsNewlyGenerated),i.D8((0,r.zG)(b.Eq,p.Uz((e=>{let[t]=e;return t})))),a.kR((e=>{let[t,n,i]=e;return(0,r.zG)($r({...g,eventSourceId:t,groupId:n,groupIdIsNewlyGenerated:i,migratedStateMaps:g.migratedStateMaps}),a.yi(t))})),a.UI((e=>({stateMigratedThisInitialisation:(0,r.zG)(e,i.VS((e=>e.segmentationService.stateMigratedThisInitialisation))),cohorts:(0,r.zG)(e,i.VS((e=>e.cohortsRef))),currentPageviewSegments:{all:(0,r.zG)(e,i.VS((e=>e.currentPageviewSegments)),pr((e=>e.all))),custom:(0,r.zG)(e,i.VS((e=>e.currentPageviewSegments)),pr((e=>e.custom))),standard:(0,r.zG)(e,i.VS((e=>e.currentPageviewSegments)),pr((e=>e.standard)))},eventsToPublish:(0,r.zG)(e,i.VS((e=>e.eventsToPublish))),eventsToPublishOnPageUnload:(0,r.zG)(e,i.VS((e=>e.eventsToPublishOnPageUnload))),realtime:(0,r.zG)(e,i.VS((e=>e.realtime)),i.Rp(!1,((e,t)=>e||t)),i.bw((e=>{e&&g.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"worker_realtime",time_origin:"sdk_init"},performance.now())}))),segments:{all:(0,r.zG)(e,i.VS((e=>vr(e.segmentationService.segments))),i.UI((e=>e.all))),custom:(0,r.zG)(e,i.VS((e=>vr(e.segmentationService.segments))),i.UI((e=>e.custom))),standard:(0,r.zG)(e,i.VS((e=>vr(e.segmentationService.segments))),i.UI((e=>e.standard)))},thirdPartyDataUsage:(0,r.zG)(e,i.VS((e=>e.segmentationService.tpdUsage))),transitionsSinceInit:(0,r.zG)(e,i.VS((e=>e.segmentTransitions.transitionsSinceInit)))}))))),a.bw((e=>{let{thirdPartyDataUsage:t}=e;return f(t)})));var g})),a.ak("classificationModels",(t=>{let{queryLanguage:r}=t;return aa(e,i.vP({consent:n,currentTimestampSecs:c,queryLanguageCohorts:yr(r.currentPageviewSegments.all),realtime:r.realtime,userId:d}))})),a.ak("demandPartners",(n=>{let{queryLanguage:s}=n;return((e,t)=>(0,r.zG)(ya(e.permutiveApi,e.permutiveUrls,e.reportError,t),a.UI((e=>{let{cohorts:t,externalData:n}=e;return{ssp:t,externalData:n}}))))(e,{cohorts:Pr(s.currentPageviewSegments.all),consent:t.consent,url:(0,r.zG)(t.webClient,i.UI(o.UI((e=>e.url))))})})),a.ak("advertiserSegmentation",(t=>{let{queryLanguage:r,newEventsForAdvertiserSegmentation:a}=t;return Ta(e,i.vP({consent:n,customCohorts:yr(r.currentPageviewSegments.custom),realtime:r.realtime,sessionId:f,standardCohorts:yr(r.currentPageviewSegments.standard),userId:d,viewId:h,events:a}))})),a.ak("ipIdentifier",(e=>{let{userId:t,geoip:n}=e;return(0,r.zG)(n.data,i.UI(o.tS(o.KQ((e=>e.ip))))),Oa})),a.ak("nonQlCohorts",(e=>{let{advertiserSegmentation:t,classificationModels:n,contextualCohorts:i,setNonQlCohorts:o,demandPartners:s,viewId:c}=e;return(0,r.zG)(a.of(je.oA({advertiser:t.cohorts,classificationModel:n,contextual:Ua({contextualCohorts:i,viewId:c}),ssp:s.ssp})),a.bw(o))})),a.Hr("qlCohorts",(e=>{let{queryLanguage:t}=e;return(0,r.zG)(t.segments.all,i.UI(g.UI(String)))})),a.bw((t=>{return t.collectTargetingSuccessMetrics(Ga({adServers:t.adServers,cohorts:{...t.nonQlCohorts,query_language:(n=t.qlCohorts,(0,r.zG)(n,mr,Ar))},logger:e.logger,metrics:e.metrics}));var n})),a.Hr("eventsToPublish",(t=>{let{qlCohorts:n,queryLanguage:a,nonQlCohorts:o}=t;const s=(e=>{if(!e.metrics.isEnabled())return e=>{};const t=(0,r.zG)(e.cohortsByType,je.UI(i.Rp(new Set,((e,t)=>new Set([...e,...t])))),(e=>i.vP(e)));return n=>{"Pageview"===n.name&&(0,E.HJ)((()=>(0,r.zG)(n.cohorts,Da(t.current),je.Su(((t,n)=>e.metrics.track({name:"sdk_pageview_cohort_count",labels:{cohort_type:t},value:n}))))))}})({cohortsByType:(0,r.zG)(o,je.UI(jr),je.dx("query_language",n)),metrics:e.metrics});return(0,r.zG)(a.eventsToPublish,i.UI(l.UI(g.UI((0,m.bw)((e=>{let[,t]=e;return s(t)}))))))})),a.UI((e=>{let{adServers:t,advertiserSegmentation:n,demandPartners:a,eventsToPublish:o,geoip:s,queryLanguage:c,nonQlCohorts:u,watson:f}=e;return{activations:(0,r.zG)(t,g.UI((e=>(0,r.zG)(Object.values(u),g.UI(Mr),g.DZ((t=>t.byAdServer(e))),g.UI(vr),g.UI(i.D8(g.Eh(b.Eq))),(e=>i.vP(...e)),i.UI(g.xH),(t=>(0,r.bc)(e.id,t))))),je.sq),cohorts:{all:c.cohorts,ql:c.segments.all,qlCustom:c.segments.custom,qlStandard:c.segments.standard},context:(0,r.zG)(i.vP(f.permutiveContext,s.permutiveContext),i.UI((e=>{let[t,n]=e;return{...t,...n}}))),eventsToPublish:o,eventsToPublishOnPageUnload:c.eventsToPublishOnPageUnload,externalData:i.vP({...n.externalData,...a.externalData}),geoIP:s.data,realtime:c.realtime,stateMigratedThisInitialisation:c.stateMigratedThisInitialisation,transitionsSinceInit:c.transitionsSinceInit}})))}},652:(e,t,n)=>{n.d(t,{BJ:()=>d,El:()=>P,G6:()=>w,HD:()=>f,HP:()=>_,Kn:()=>u,Or:()=>E,PQ:()=>S,SL:()=>g,aT:()=>b,b0:()=>v,b2:()=>m,bw:()=>z,k$:()=>h,lo:()=>U,mQ:()=>G,rO:()=>k,vg:()=>I,vp:()=>l});var r=n(500),a=n(735),i=n(567),o=n(17),s=n(751),c=n(992);const u=e=>"object"==typeof e&&!Array.isArray(e)&&null!==e,f=e=>"string"==typeof e,d=e=>"number"==typeof e&&!Number.isNaN(e);function l(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}function g(e){return t=>{let n=0;for(let r of t){n=n+e(r)|0}return n}}o.ff(s.xb);function m(){let e,t;return{promise:new Promise(((n,r)=>{e=n,t=r})),reject:t,resolve:e}}let p=[];function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.userAgent;if(p.unshift(e),p.length>1)return;const n=["beforeunload","pagehide"],r=n.concat(["visibilitychange"]),a=e=>{if(!i&&e){i=!0;const e=p;p=[],e.forEach((e=>{try{e()}catch{}}))}};let i=!1;r.forEach((e=>{window.addEventListener(e,(()=>{const n=("visibilitychange"!==e||document.hidden)&&y(t);a(n)}))})),n.forEach((e=>{window.addEventListener(e,(()=>a(!0)))}))}function h(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^(self.crypto||self.msCrypto).getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function v(e,t){const n=Object.keys(e),r=n.length,a={};for(let o=0;o<r;o++){const r=n[o],s=t(r,e[r]);(0,i.pC)(s)&&(a[r]=s.value)}return a}function y(e){return/Mobi|Android/i.test(e)}function w(e){return/^((?!chrome|android).)*safari/i.test(e)}function S(e,t){return new Promise((n=>{(0,c.HJ)((()=>{Promise.resolve(e()).then(n)}),(null==t?void 0:t.timeout)??0)}))}const E=()=>({equals:(e,t)=>Object.is(e,t)});function I(e){return t=>null!=t&&e in t?t[e]:void 0}function _(e){let t=i.YP;const n=(0,i.fS)((()=>{const n=e();return t=(0,i.G)(n),n}));return()=>n(t)}const G=e=>{const t=new Map;return n=>(t.has(n)||t.set(n,e(n)),t.get(n))},k=e=>t=>{const n={...t};for(const a in e){var r;n[a]=null===(r=e[a])||void 0===r?void 0:r.call(e,t[a])}return n};function z(e){return t=>(e(t),t)}const U=e=>t=>{const n=e.slice(0,-1),o=e.slice(-1)[0];return(0,a.zG)(n,r.f2((e=>{let[n,r]=e;return(0,a.zG)(t,i.DT(n),i.UI(r))})),i.fS((()=>o(t))))},x=e=>t=>{if("number"==typeof t)return t;if("string"==typeof t){const n=e(t);return Number.isNaN(n)?void 0:n}};x(parseInt),x(parseFloat);function P(e){return"object"==typeof e&&null!==e&&"_tag"in e&&["None","Some"].includes(e._tag)}},963:(e,t,n)=>{n.r(t),n.d(t,{lookalikeModelsService:()=>w,realService:()=>E,stubService:()=>S});var r=n(735),a=n(567);const i=(e,t,n,r)=>t+(n-t)*r/(Math.pow(2,e)-1),o=(e,t)=>{const n=(e,t)=>{const n=e.toString(16);return("0".repeat(t)+n).slice(Math.min(-t,-n.length))};return`${n(e.getUint32(t),8)}-${n(e.getUint16(t+4),4)}-${n(e.getUint16(t+6),4)}-${n(e.getUint16(t+8),4)}-${n(e.getUint32(t+10),8)}${n(e.getUint16(t+14),4)}`},s=e=>{const t=[1,2],n=e.getInt8(0);if(1===n)return c(e);if(2===n)return u(e);{const r=(0,a.Y3)((()=>o(e,1))),i=(0,a.g_)((()=>"Couldn\'t decode model id"),(e=>`Model id was ${e}`))(r);throw new Error(`Decoding only supported for version(s): ${t}; Supplied version was ${n}; ${i}`)}},c=e=>f(e,1),u=e=>f(e,2),f=(e,t)=>{const n=o(e,1),r=((e,t)=>{switch(String.fromCharCode(e.getInt8(t))){case"1":return"1p";case"3":return"3p"}})(e,17),a=e.getInt8(18),i=e.getFloat32(19),s=e.getFloat32(23),[c,u]=((e,t,n,r,a,i)=>{const o={};let s=0;do{let n;1===i?(s=e.getUint16(t),n=e.getUint16(t+2),t+=4):(s=e.getUint32(t),n=e.getUint16(t+4),t+=6),o[0===s?"const":s]=n.toString(36)}while(0!==s);return[o,t]})(e,27,0,0,0,t);return[{version:t,id:n,data_preference:r,weights:c,precision:a,min:i,max:s},u]};var d=n(767),l=n(151),g=n(992),m=n(116),p=n(851),b=n(365),h=n(930),v=n(652);const y=()=>a.G({}),w=E;function S(e){return m.K4((()=>p.a9(y())))}function E(e){e.logger.warn("add cleanup of legacy LAL cache");const t=e.trace.startSpan("lookalike_models_data_retrieval_duration");return(0,r.zG)(h.m((0,r.zG)(p.vP(e.consent,e.currentTimestampSecs),p.UI((t=>{let[n,o]=t;return{currentTimestampSecs:o,validity:{maxAge:604800,key:()=>null},freshness:{maxAge:86400,key:()=>null},refresh:(0,r.zG)(n,a.DT(Boolean),a.UI((()=>d.fF(function(e){const t="Failed fetching binary models, reverting to JSON.\\nError: ",n="Failed fetching json models.\\nError: ";return(0,r.zG)(d.Y3((()=>_(e)),(e=>e.message)),g.N1,d.oU((e=>()=>function(e){const t=[];let n=0;for(;n<e.byteLength;){const[r,a]=s(new DataView(e,n));t.push(r),n+=a}return t}(e))),g.N1,d.UI(I((e=>{let{precision:t,max:n,min:r}=e;return{"1p":{},precision:t,min:r,max:n}}))),d.Vn((n=>(e.logger.log(t+n),e.metrics.track({name:"sdk_binary_models_missing_count",value:1,labels:{}}),n))),d.wp((()=>(0,r.zG)(d.Y3((()=>G(e)),(e=>e.message)),d.UI((e=>e.models)),d.UI(I((()=>({"1p":{}}))))))),d.UI((e=>(e=>{const t=Object.keys(e);return t.length>0&&e[t[0]].hasOwnProperty("precision")})(e)?(e=>{const t={},n=Object.keys(e),r=e=>{const t={"1p":{}},{precision:n,min:r,max:a}=e,o=e["1p"],s=Object.keys(o);for(let e=0;e<s.length;e++){const c=s[e],u=parseInt(o[c],36);t["1p"][c]=i(n,r,a,u)}return t};for(let a=0;a<n.length;a++){const i=n[a],o=e[i];t[i]=r(o)}return t})(e):e)),d.fS((t=>(e.reportError(n+t),l.of({})))))}(e)))))}})))),m.UI(p.UI((0,r.ls)(b.fS((t=>(e.logger.warn("[LAL]",`Failed to refresh, using zero value. ${t}`),y()))),(0,v.bw)(a.UI((()=>{t.finish(),e.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"lookalike_models_ready",time_origin:"sdk_init"})})))))))}function I(e){return t=>{const n={};for(let r=0;r<t.length;r++){const a=t[r],{id:i,weights:o}=a;if(void 0===i||void 0===o)continue;const s=e(a);Object.keys(o).forEach((e=>{s["1p"][e]=o[e]})),n[i]=s}return n}}const _=e=>{const{permutiveApi:t,config:n,metrics:r}=e,a=r.startTimer("sdk_http_models_seconds",{});return t.req({url:k(n.cdnProtocol,n.cdnBaseUrl,"binary"),method:"GET",contentType:"text/plain",dataType:"binary",withCredentials:!1}).then((e=>(r.stopTimer("sdk_http_models_seconds",a),e)))},G=e=>{const{permutiveApi:t,config:n,metrics:r}=e,a=r.startTimer("sdk_http_models_seconds",{});return t.req({url:k(n.cdnProtocol,n.cdnBaseUrl,"json"),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!1}).then((e=>(r.stopTimer("sdk_http_models_seconds",a),e)))};function k(e,t,n){const r=`${e}://${t}`;switch(n){case"binary":return`${r}/models/v2/10453011-272d-49cd-9043-1964fdb36fd8-models.bin`;case"json":return`${r}/models/10453011-272d-49cd-9043-1964fdb36fd8-models.json`}}},869:(e,t,n)=>{n.d(t,{K:()=>U,O:()=>k});let r,a;const i=new WeakMap,o=new WeakMap,s=new WeakMap,c=new WeakMap,u=new WeakMap;let f={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return o.get(e);if("objectStoreNames"===t)return e.objectStoreNames||s.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return g(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(m(this),t),g(i.get(this))}:function(...t){return g(e.apply(m(this),t))}:function(t,...n){const r=e.call(m(this),t,...n);return s.set(r,t.sort?t.sort():[t]),g(r)}}function l(e){return"function"==typeof e?d(e):(e instanceof IDBTransaction&&function(e){if(o.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)}));o.set(e,t)}(e),t=e,(r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,f):e);var t}function g(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{t(g(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&i.set(t,e)})).catch((()=>{})),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=l(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const m=e=>u.get(e);const p=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],h=new Map;function v(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(h.get(t))return h.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=b.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!p.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,a?"readwrite":"readonly");let o=i.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),a&&i.done]))[0]};return h.set(t,i),i}f=(e=>({...e,get:(t,n,r)=>v(t,n)||e.get(t,n,r),has:(t,n)=>!!v(t,n)||e.has(t,n)}))(f);var y=n(688),w=n(365),S=n(735),E=n(151),I=n(767),_=n(652),G=n(992);const k="[IDB]",z=(e,t,n,r,a,i)=>(0,S.zG)((0,E.of)(e.getNamespacedStorageKey(a)),(0,E.tS)((e=>(0,I.Y3)((async()=>n.put(r,i,e)),y.w))),(0,E.UI)((0,w.g_)((e=>{throw t.error(k,`Failed to store crypto key to ${r} due to unexpected error,\\n`,e),e}),(()=>i))),(e=>e()));class U{namespace;logger;cryptoAlg;idb;mainObjectStore;keyObjectStore;keyObjectKey;cryptoKey;MAX_CONSECUTIVE_PUTS=30;puts=1;hasForcedCompaction=!1;constructor(e,t,n,r,a,i,o,s){this.namespace=e,this.logger=t,this.cryptoAlg=n,this.idb=r,this.mainObjectStore=a,this.keyObjectStore=i,this.keyObjectKey=o,this.cryptoKey=s,this.logDebug("Created",this.idb)}static initialise(e,t,n,r,a,i,o,s,c,u){const f=(0,_.G6)(navigator.userAgent)&&!1,d=[u,r.isAvailable(),!f].every((e=>!0===e)),l=async(t,a,i)=>(0,S.zG)(await t.get(i,e.getNamespacedStorageKey(a)),(async e=>e??r.generateKey(!1)),(async r=>z(e,n,t,o,s,await r))).catch((e=>{const t=(0,y.w)(e);throw n.error(k,"Get crypto key failed. Got\\n",t),t})),g=(e,t,n)=>t.includes(n)?(0,S.Q1)():e.createObjectStore(n),m=()=>x(a,c,{upgrade:e=>{const t=[...e.objectStoreNames];g(e,t,i),g(e,t,o)}}).then((e=>{const t=[...e.objectStoreNames];return t.includes(i)&&t.includes(o)?e:Promise.reject(new Error("Object store(s) missing."))})),p=d?(0,w.Y3)((()=>function(e){if(!(0,_.G6)(navigator.userAgent)||!indexedDB.databases)return Promise.resolve();let t=()=>{},n=0;return new Promise((e=>{const r=()=>(n++,indexedDB.databases().finally((0,G.GL)(e)));t=(0,G.UM)(r,100),r()})).finally((()=>{t(),e.track({name:"sdk_idb_conn_attempt_safari_count",value:n,labels:{}})}))}(t).then((()=>m())).catch((e=>(n.error(`Re-creating IDB database ${a} due to error`,e),P(a).then((()=>m())))))),String):(0,w.t$)("Connection not attempted. Default to localStorage");return(0,w.g_)((e=>(0,I.t$)(e)),(t=>(0,S.zG)((0,I.Y3)((()=>t.then((async e=>({db:e,cryptoKey:await l(e,s,o)})))),String),(0,I.UI)((t=>{let{db:a,cryptoKey:c}=t;return new U(e,n,r,a,i,o,s,c)})))))(p)}async put(e,t){return(0,S.zG)((async()=>(0,S.bc)(JSON.stringify(e),this.cryptoKey)),(0,E.tS)((e=>{let[t,n]=e;return(0,E.of)(this.cryptoAlg.encrypt(n,t))})),(0,E.tS)((e=>async()=>(await this.recreateIfNecessary(this.puts++),e))),(0,E.tS)((e=>(0,I.Y3)((()=>this.idb.put(this.mainObjectStore,e,this.namespace.getNamespacedStorageKey(String(t)))),y.w))),(0,E.UI)((0,w.g_)((n=>{throw this.logError(`Failed to put "${t.toString()}" value`,e,". Got \\n",n),"QuotaExceededError"===n.name&&this.forceCompaction(),n}),(()=>t))),(e=>e()))}get(e){return(0,S.zG)(this.namespace.getNamespacedStorageKey(String(e)),(t=>this.idb.get(this.mainObjectStore,t).then((async e=>e?JSON.parse(await this.cryptoAlg.decrypt(this.cryptoKey,e)):null)).catch((t=>{const n=(0,y.w)(t);throw this.logError(`Get ${e.toString()} failed. Got`,n),n}))))}delete(e){return(0,S.zG)(this.namespace.getNamespacedStorageKey(String(e)),(e=>this.idb.delete(this.mainObjectStore,e)))}deleteStore(){return this.logDebug("Deleting",this.idb),this.idb.close(),P(this.idb.name)}forceCompaction(){if(this.hasForcedCompaction)return null;this.hasForcedCompaction=!0,this.logDebug("Attempting to force compaction");const e=`__${this.mainObjectStore}`;return x(e).then((t=>(t.close(),P(e))))}recreateIfNecessary(e){return(0,_.G6)(navigator.userAgent)&&e%this.MAX_CONSECUTIVE_PUTS==0?this.recreate():Promise.resolve()}async recreate(){const e=this.idb.name,t=this.idb.version,n=await this.idb.getAllKeys(this.mainObjectStore),r=[];for(const e of n)r.push([e,await this.idb.get(this.mainObjectStore,e)]);await this.deleteStore(),this.idb=await x(e,t,{upgrade:e=>{e.createObjectStore(this.mainObjectStore),e.createObjectStore(this.keyObjectStore)}}),await Promise.all(r.map((e=>{let[t,n]=e;return this.idb.put(this.mainObjectStore,n,t)}))),await z(this.namespace,this.logger,this.idb,this.keyObjectStore,this.keyObjectKey,this.cryptoKey),this.logDebug("Reset to",this.idb)}logDebug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(k,...t)}logError(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(k,...t)}}const x=(0,S.ls)((function(e,t,{blocked:n,upgrade:r,blocking:a,terminated:i}={}){const o=indexedDB.open(e,t),s=g(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(g(o.result),e.oldVersion,e.newVersion,g(o.transaction))})),n&&o.addEventListener("blocked",(()=>n())),s.then((e=>{i&&e.addEventListener("close",(()=>i())),a&&e.addEventListener("versionchange",(()=>a()))})).catch((()=>{})),s}),G.t_,(e=>e.then((e=>({close:e.close.bind(e),createObjectStore:(0,S.ls)(e.createObjectStore.bind(e),S.Q1),delete:(0,S.ls)(e.delete.bind(e),G.t_),get:(0,S.ls)(e.get.bind(e),G.t_),getAllKeys:(0,S.ls)(e.getAllKeys.bind(e),G.t_),get name(){return e.name},get objectStoreNames(){return e.objectStoreNames},put:(0,S.ls)(e.put.bind(e),G.t_),get version(){return e.version}}))))),P=(0,S.ls)((function(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(()=>t())),g(n).then((()=>{}))}),G.t_)},569:(e,t,n)=>{n.r(t),n.d(t,{make:()=>o});var r=n(735),a=n(869);const i=e=>{const{logger:t,consent:n,prefix:r}=e,a=(e,n)=>(t.debug(`${r} Failed to write ${String(n)} as consent is revoked`),Promise.resolve(n));return e=>class extends e{put=((e,t,n)=>function(){return(n()?t:e)(...arguments)})(super.put.bind(this),a,(()=>!n.current))}},o=(e,t,n,o,s,c,u,f,d,l,g)=>(0,r.zG)(a.K,i({logger:d,consent:l,prefix:a.O})).initialise(e,t,d,n,o,s,c,u,f,g)},965:(e,t,n)=>{n.r(t),n.d(t,{watson:()=>c});var r=n(851),a=n(735),i=n(567),o=n(328),s=n(751);const c=e=>(0,a.zG)(f(e),r.YO("data"),r.Hr("replacementMap",(e=>{let{data:t}=e;return(0,a.zG)(t,i.YO("data"),i.Hr("taxonomyLabels",(e=>{let{data:t}=e;return function(e){const t=e=>{const t=e.split("/").filter((e=>e));return t.map(((e,n)=>"/"+t.slice(0,n+1).join("/")))},n=o.xH(e.filter(Boolean).map((e=>t(e.label))));return o.jj(s.Eq)(n)}(t.taxonomy??[])})),i.UI((e=>{var t,n,r;let{data:i,taxonomyLabels:s}=e;return{$alchemy_concepts:i.concepts??[],$alchemy_document_emotion:(null===(t=i.emotion)||void 0===t||null===(n=t.document)||void 0===n?void 0:n.emotion)??null,$alchemy_document_sentiment:(null===(r=i.sentiment)||void 0===r?void 0:r.document)??null,$alchemy_entities:i.entities??[],$alchemy_entity_names:(0,a.zG)(i.entities??[],o.UI((e=>e.text))),$alchemy_keywords:i.keywords??[],$alchemy_taxonomy:i.taxonomy??[],$alchemy_taxonomy_labels:s,$taxonomy_labels:s}})))})),r.Hr("permutiveContext",(e=>{let{data:t}=e;return(0,a.zG)(t,i.EQ((()=>({})),(e=>({watson:e}))))})),(e=>({permutiveContext:(0,a.zG)(e,r.UI((e=>e.permutiveContext))),replacementMap:(0,a.zG)(e,r.UI((e=>e.replacementMap)))}))),u=()=>r.a9(i.G({})),f=u},828:(e,t,n)=>{n.d(t,{N:()=>o,Qt:()=>s,Yt:()=>l,ap:()=>i,gz:()=>d});var r=n(735),a=n(384);function i(e,t){return function(n){return function(r){return e.ap(e.map(r,(function(e){return function(n){return t.ap(e,n)}})),n)}}}function o(e){return function(t){return function(n){return e.ap(e.map(n,(function(e){return function(){return e}})),t)}}}function s(e){return function(t,n){return function(r){return e.ap(e.map(r,(function(e){return function(n){var r;return Object.assign({},e,((r={})[t]=n,r))}})),n)}}}function c(e,t,n){return function(r){for(var a=Array(n.length+1),i=0;i<n.length;i++)a[i]=n[i];return a[n.length]=r,0===t?e.apply(null,a):c(e,t-1,a)}}var u={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(n){return[e,t,n]}}},4:function(e){return function(t){return function(n){return function(r){return[e,t,n,r]}}}},5:function(e){return function(t){return function(n){return function(r){return function(a){return[e,t,n,r,a]}}}}}};function f(e){return a.e$.call(u,e)||(u[e]=c(r.bc,e-1,[])),u[e]}function d(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=t.length,a=f(r),i=e.map(t[0],a),o=1;o<r;o++)i=e.ap(i,t[o]);return i}}function l(e){return function(t){for(var n=Object.keys(t),r=n.length,a=function(e){var t=e.length;switch(t){case 1:return function(t){var n;return(n={})[e[0]]=t,n};case 2:return function(t){return function(n){var r;return(r={})[e[0]]=t,r[e[1]]=n,r}};case 3:return function(t){return function(n){return function(r){var a;return(a={})[e[0]]=t,a[e[1]]=n,a[e[2]]=r,a}}};case 4:return function(t){return function(n){return function(r){return function(a){var i;return(i={})[e[0]]=t,i[e[1]]=n,i[e[2]]=r,i[e[3]]=a,i}}}};case 5:return function(t){return function(n){return function(r){return function(a){return function(i){var o;return(o={})[e[0]]=t,o[e[1]]=n,o[e[2]]=r,o[e[3]]=a,o[e[4]]=i,o}}}}};default:return c((function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var a={},i=0;i<t;i++)a[e[i]]=n[i];return a}),t-1,[])}}(n),i=e.map(t[n[0]],a),o=1;o<r;o++)i=e.ap(i,t[n[o]]);return i}}},500:(e,t,n)=>{n.d(t,{Ce:()=>u,DY:()=>I,Eh:()=>j,GY:()=>E,Gb:()=>m,KB:()=>d,Lx:()=>O,Qp:()=>y,Su:()=>x,UI:()=>z,YM:()=>g,f2:()=>w,fw:()=>A,hX:()=>T,ke:()=>p,md:()=>v,oA:()=>C,pR:()=>R,tS:()=>U,yL:()=>_,yW:()=>F,zT:()=>h});var r=n(735),a=(n(341),n(384)),i=n(885),o=n(328),s=(n(870),n(605),function(e){return 0===e.length}),c=i.Od,u=i.Ce,f=(i.ws,i.R3),d=(i.Im,function(e,t){return e<=0?[]:i.KB(t)(e)});var l=i.dC,g=(o.P5,o.YM),m=(o.Z$,function(e){return c(e)?a.G(i.Gb(e)):a.YP}),p=function(e){return function(t){return l(e,t)?S(t):t.slice(0,e)}};var b=function(e,t){for(var n=e.length,r=0;r<n&&t(e[r]);r++);return r};function h(e){return function(t){var n=G(b(t,e))(t);return{init:n[0],rest:n[1]}}}var v=function(e){return function(t){return e<=0||s(t)?S(t):e>=t.length?[]:t.slice(e,t.length)}};function y(e){return function(t){return t.slice(b(t,e))}}o.cx;var w=o.f2;o.JO,o.qr;var S=function(e){return e.slice()},E=function(e){return s(e)?[]:e.slice().reverse()},I=function(e){return function(t){return t.length<=1?S(t):t.slice().sort(e.compare)}},_=function(e,t,n){for(var r=[],a=Math.min(e.length,t.length),i=0;i<a;i++)r[i]=n(e[i],t[i]);return r};o.t9;var G=function(e){return function(t){return e>=1&&c(t)?i.lx(e)(t):s(t)?[S(t),[]]:[[],S(t)]}};o.kp,o.Eq;var k=i.of,z=function(e){return function(t){return t.map((function(t){return e(t)}))}},U=function(e){return function(t){return(0,r.zG)(t,function(e){return function(t){for(var n=[],r=0;r<t.length;r++)n.push.apply(n,e(r,t[r]));return n}}((function(t,n){return e(n)})))}},x=function(e){return function(t){return t.map((function(t,n){return e(n,t)}))}},P=function(e){return function(t){for(var n=[],r=0;r<t.length;r++){var i=e(r,t[r]);a.pC(i)&&n.push(i.value)}return n}},q=function(e){return P((function(t,n){return e(n)}))},C=q(r.yR),T=function(e){return function(t){return t.filter(e)}},O=o.Lx,D=(o.xP,o.u4,o.OE),A=(o.nq,o.iw,function(e){var t=M(e);return function(e){return t((function(t,n){return e(n)}))}}),M=function(e){return function(t){return D(e.of([]),(function(n,a,i){return e.ap(e.map(a,(function(e){return function(t){return(0,r.zG)(e,f(t))}})),t(n,i))}))}},j=(o.ZN,o.Eh),R=o.pR,F=(o.pJ,o.oR,i.oo,o.yW);o.j0,a.F4,i.w6,i.QI,i.Ss},862:(e,t,n)=>{function r(e){return function(t){return function(n){return e.chain(n,(function(n){return e.map(t(n),(function(){return n}))}))}}}function a(e){return function(t,n){return function(r){return e.chain(r,(function(r){return e.map(n(r),(function(e){var n;return Object.assign({},r,((n={})[t]=e,n))}))}))}}}n.d(t,{a:()=>a,m:()=>r})},365:(e,t,n)=>{n.d(t,{g1:()=>w,G5:()=>y,dO:()=>b,wp:()=>k,Pd:()=>_,ak:()=>$,YO:()=>N,tS:()=>E,g_:()=>O,ij:()=>j,Yo:()=>x,DT:()=>U,Eh:()=>m,fS:()=>A,pF:()=>D,nM:()=>P,tO:()=>q,t$:()=>c,UI:()=>p,Vn:()=>G,EQ:()=>T,of:()=>h,F2:()=>u,LF:()=>M,KC:()=>L,i$:()=>Y,Y3:()=>R,it:()=>F});var r=n(862),a=n(690),i=n(735),o=n(341),s=n(384),c=s.t$,u=s.F2,f=function(e,t){return(0,i.zG)(e,p(t))},d=function(e,t){return(0,i.zG)(e,v(t))},l=function(e,t){return(0,i.zG)(e,E(t))},g="Either",m=function(e,t){return{equals:function(n,r){return n===r||(P(n)?P(r)&&e.equals(n.left,r.left):q(r)&&t.equals(n.right,r.right))}}},p=function(e){return function(t){return P(t)?t:u(e(t.right))}},b={URI:g,map:f},h=u,v=function(e){return function(t){return P(t)?t:P(e)?e:u(t.right(e.right))}},y={URI:g,map:f,ap:d},w={URI:g,map:f,ap:d,of:h},S=function(e){return function(t){return P(t)?t:e(t.right)}},E=S,I={URI:g,map:f,ap:d,chain:l},_=function(e,t){return function(n){return P(n)?c(e(n.left)):u(t(n.right))}},G=function(e){return function(t){return P(t)?c(e(t.left)):t}},k=function(e){return function(t){return P(t)?e():t}},z={URI:g,fromEither:i.yR},U=(0,a.DT)(z),x=(0,a.Yo)(z),P=s.nM,q=s.tO,C=function(e,t){return function(n){return P(n)?e(n.left):t(n.right)}},T=C,O=T,D=function(e){return function(t){return P(t)?e(t.left):t.right}},A=D,M=function(e){return P(e)?u(e.left):c(e.right)},j=function(e){return function(t){return null==t?c(e):u(t)}},R=function(e,t){try{return u(e())}catch(e){return c(t(e))}},F=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return R((function(){return e.apply(void 0,n)}),t)}},Y=C(i.yR,i.yR);function L(e){return e instanceof Error?e:new Error(String(e))}s.F4;var N=(0,o.YO)(b),$=(0,r.a)(I);s.Xl},856:(e,t,n)=>{n.d(t,{EQ:()=>w,F2:()=>s,KQ:()=>l,LF:()=>k,LU:()=>G,LV:()=>S,NG:()=>g,Pd:()=>v,UI:()=>m,Vn:()=>y,ap:()=>p,dQ:()=>_,fS:()=>E,i$:()=>z,ij:()=>d,m8:()=>u,pk:()=>f,t$:()=>c,tS:()=>b,vx:()=>I,wp:()=>h});var r=n(828),a=n(365),i=n(735),o=n(341);function s(e){return(0,i.ls)(a.F2,e.of)}function c(e){return(0,i.ls)(a.t$,e.of)}function u(e){return function(t){return e.map(t,a.F2)}}function f(e){return function(t){return e.map(t,a.t$)}}function d(e){return function(t){return(0,i.ls)(a.ij(t),e.of)}}function l(e){var t=d(e);return function(e){var n=t(e);return function(e){return(0,i.ls)(e,n)}}}function g(e){var t=b(e),n=l(e);return function(e){var r=n(e);return function(e){return t(r(e))}}}function m(e){return(0,o.UI)(e,a.dO)}function p(e){return(0,r.ap)(e,a.G5)}function b(e){return function(t){return function(n){return e.chain(n,(function(n){return a.nM(n)?e.of(n):t(n.right)}))}}}function h(e){return function(t){return function(n){return e.chain(n,(function(n){return a.nM(n)?t():e.of(n)}))}}}function v(e){return function(t,n){return function(r){return e.map(r,a.Pd(t,n))}}}function y(e){return function(t){return function(n){return e.map(n,a.Vn(t))}}}function w(e){return function(t,n){return function(r){return e.map(r,a.EQ(t,n))}}}function S(e){return function(t,n){return function(r){return e.chain(r,a.EQ(t,n))}}}function E(e){return function(t){return function(n){return e.chain(n,a.EQ(t,e.of))}}}function I(e){return function(t){return function(n){return e.chain(n,(function(n){return a.nM(n)?t(n.left):e.of(n)}))}}}function _(e){var t=I(e);return function(n){return t((function(t){return e.map(n(t),(function(e){return a.nM(e)?e:a.t$(t)}))}))}}function G(e){return function(t){return function(n){return e.chain(n,a.EQ((function(n){return e.map(t(n),a.t$)}),(function(t){return e.of(a.F2(t))})))}}}function k(e){return function(t){return e.map(t,a.LF)}}function z(e){return function(t){return e.map(t,a.i$)}}},268:(e,t,n)=>{n.d(t,{MW:()=>c,Uz:()=>o,bc:()=>i,f7:()=>r,n_:()=>a,w4:()=>s});n(735);var r=function(e){return{equals:function(t,n){return t===n||e(t,n)}}},a=function(e){return r((function(t,n){for(var r in e)if(!e[r].equals(t[r],n[r]))return!1;return!0}))},i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r((function(t,n){return e.every((function(e,r){return e.equals(t[r],n[r])}))}))},o=function(e){return function(t){return r((function(n,r){return t.equals(e(n),e(r))}))}},s={equals:function(e,t){return e===t}},c=a;s.equals},690:(e,t,n)=>{n.d(t,{DT:()=>o,Yo:()=>i,fX:()=>c});var r=n(735),a=n(384);function i(e){return function(t){return function(n){return e.fromEither(a.Wi(n)?a.t$(t()):a.F2(n.value))}}}function o(e){return function(t,n){return function(r){return e.fromEither(t(r)?a.F2(r):a.t$(n(r)))}}}function s(e){return function(t){return(0,r.ls)(t,e.fromEither)}}function c(e,t){var n=s(e);return function(e){return function(r){return t.chain(r,n(e))}}}},130:(e,t,n)=>{n.d(t,{At:()=>o,oU:()=>i});var r=n(862),a=n(735);function i(e,t){return function(n){var r=(0,a.ls)(n,e.fromIO);return function(e){return t.chain(e,r)}}}function o(e,t){var n=(0,r.m)(t);return function(t){return n((0,a.ls)(t,e.fromIO))}}},679:(e,t,n)=>{n.d(t,{oU:()=>a});var r=n(735);function a(e,t){return function(n){var a=(0,r.ls)(n,e.fromTask);return function(e){return t.chain(e,a)}}}},341:(e,t,n)=>{function r(e,t){return function(n){return function(r){return e.map(r,(function(e){return t.map(e,n)}))}}}function a(e){return function(t){return function(n){return e.map(n,(function(e){return e(t)}))}}}function i(e){return function(t){return function(n){return e.map(n,(function(e){var n;return(n={})[t]=e,n}))}}}function o(e){return function(t,n){return function(r){return e.map(r,(function(e){var r;return Object.assign({},e,((r={})[t]=n(e),r))}))}}}n.d(t,{Hr:()=>o,OV:()=>a,UI:()=>r,YO:()=>i})},392:(e,t,n)=>{n.d(t,{G5:()=>g,PM:()=>l,RD:()=>y,UA:()=>p,UI:()=>c,dO:()=>d,of:()=>u,qo:()=>m});var r=n(735),a=(n(341),n(384)),i=function(e,t){return function(){return t(e())}},o=function(e,t){return function(){return e()(t())}},s=function(e,t){return function(){return t(e())()}},c=function(e){return function(t){return i(t,e)}},u=r.a9,f="IO",d={URI:f,map:i},l={URI:f,of:u},g={URI:f,map:i,ap:o},m={URI:f,map:i,ap:o,chain:s},p={URI:f,map:i,ap:o,of:u,chain:s},b=(r.yR,r.yR,a.F4,u(a.Xl)),h=function(e){var t=function(e){return function(t){return function(){for(var n=[e(0,a.YM(t))()],r=1;r<t.length;r++)n.push(e(r,t[r])());return n}}}(e);return function(e){return a.Od(e)?t(e):b}},v=function(e){return h((function(t,n){return e(n)}))},y=v(r.yR)},885:(e,t,n)=>{n.d(t,{Ce:()=>f,Eh:()=>E,Gb:()=>_,Im:()=>d,KB:()=>b,Od:()=>s,QI:()=>G,R3:()=>l,Ss:()=>k,dC:()=>c,lx:()=>S,nI:()=>p,of:()=>y,oo:()=>g,w6:()=>h,ws:()=>u,yL:()=>w});var r=n(735),a=(n(341),n(384)),i=n(241),o=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},s=function(e){return e.length>0},c=function(e,t){return e<0||e>=t.length},u=function(e){return function(t){return o([e],t,!0)}},f=u,d=function(e){return function(t){return o(o([],t,!0),[e],!1)}},l=d,g=function(e,t,n){if(s(n)){var r=m(n);return r.splice(e,0,t),r}return[t]},m=a.r1,p=function(e){return s(e)?a.G(e):a.YP},b=function(e){return function(t){for(var n=Math.max(0,Math.floor(t)),r=[e(0)],a=1;a<n;a++)r.push(e(a));return r}},h=function(e,t){return e<=t?b((function(t){return e+t}))(t-e+1):[e]};var v=m,y=function(e){return[e]},w=function(e,t,n){for(var r=[n(e[0],t[0])],a=Math.min(e.length,t.length),i=1;i<a;i++)r[i]=n(e[i],t[i]);return r};i.xP,i.Lx;var S=function(e){return function(t){var n=Math.max(1,e);return n>=t.length?[v(t),[]]:[(0,r.zG)(t.slice(1,n),f(I(t))),t.slice(n)]}},E=(i.u4,i.OE,i.nq,i.iw,i.YM,i.ZN,i.Eh),I=(a.F4,i.YM),_=function(e){return e.slice(1)};i.Z$,i.VV,i.Fp,i.j0;function G(e,t){return void 0===t?f(e):(0,r.zG)(t,f(e))}var k=function(e,t){return(0,r.zG)(e,l(t))};i.ur},567:(e,t,n)=>{n.d(t,{DT:()=>g,Do:()=>ue,EK:()=>p,EQ:()=>Z,Eh:()=>_,FS:()=>ce,G:()=>l,G5:()=>C,Hr:()=>de,IS:()=>m,KQ:()=>oe,Qt:()=>ge,Ri:()=>L,UI:()=>z,Uo:()=>K,WG:()=>se,Wi:()=>X,Y3:()=>ie,YO:()=>fe,YP:()=>d,aD:()=>J,ak:()=>le,bM:()=>A,dO:()=>U,fS:()=>ne,fw:()=>V,g_:()=>ee,hX:()=>N,ij:()=>ae,lo:()=>j,pC:()=>W,pF:()=>te,pR:()=>G,tS:()=>T,uZ:()=>k,wp:()=>D,xH:()=>re,xu:()=>B});var r=n(828),a=n(862),i=n(735),o=n(341),s=n(384),c=n(17),u=n(870),f=(n(605),n(560)),d=s.YP,l=s.G;function g(e){return function(t){return e(t)?l(t):d}}var m=function(e){return"Right"===e._tag?d:l(e.left)},p=function(e){return"Left"===e._tag?d:l(e.right)},b=function(e,t){return(0,i.zG)(e,z(t))},h=function(e,t){return(0,i.zG)(e,q(t))},v=function(e,t){return(0,i.zG)(e,T(t))},y=function(e,t){return(0,i.zG)(e,N(t))},w=function(e,t){return(0,i.zG)(e,$(t))},S=function(e,t){return(0,i.zG)(e,H(t))},E=function(e,t){return(0,i.zG)(e,Q(t))},I="Option",_=function(e){return{equals:function(t,n){return t===n||(X(t)?X(n):!X(n)&&e.equals(t.value,n.value))}}},G=function(e){return{equals:_(e).equals,compare:function(t,n){return t===n?0:W(t)?W(n)?e.compare(t.value,n.value):1:-1}}},k=function(e){return{concat:function(t,n){return X(t)?n:X(n)?t:l(e.concat(t.value,n.value))},empty:d}},z=function(e){return function(t){return X(t)?d:l(e(t.value))}},U={URI:I,map:b},x=l,P={URI:I,of:x},q=function(e){return function(t){return X(t)||X(e)?d:l(t.value(e.value))}},C={URI:I,map:b,ap:h},T=function(e){return function(t){return X(t)?d:e(t.value)}},O={URI:I,map:b,ap:h,chain:v},D=function(e){return function(t){return X(t)?e():t}},A=function(){return d},M={URI:I,zero:A},j=(0,f.l)(M,P),R=T(i.yR),F=(0,u.s4)(d,d),Y=function(e){return X(e)?F:(0,u.s4)(m(e.value),p(e.value))},L={URI:I,compact:R,separate:Y},N=function(e){return function(t){return X(t)?d:e(t.value)?t:d}},$=function(e){return function(t){return X(t)?d:e(t.value)}},H=function(e){return function(t){return(0,u.s4)(y(t,(0,c.ff)(e)),y(t,e))}},Q=function(e){return(0,i.ls)(z(e),Y)},B={URI:I,map:b,compact:R,separate:Y,filter:y,filterMap:w,partition:S,partitionMap:E},V=function(e){return function(t){return function(n){return X(n)?e.of(d):e.map(t(n.value),l)}}},K=p,W=s.pC,X=function(e){return"None"===e._tag},J=function(e,t){return function(n){return X(n)?e():t(n.value)}},Z=J,ee=Z,te=function(e){return function(t){return X(t)?e():t.value}},ne=te,re=R,ae=function(e){return null==e?d:l(e)},ie=function(e){try{return l(e())}catch(e){return d}},oe=function(e){return(0,i.ls)(e,ae)},se=Z(i.gn,i.yR),ce=Z(i.r5,i.yR);var ue=x(s.F4),fe=(0,o.YO)(U),de=(0,o.Hr)(U),le=(0,a.a)(O),ge=(0,r.Qt)(C);s.Xl},209:(e,t,n)=>{n.d(t,{Fp:()=>l,Uz:()=>s,VV:()=>d,Zt:()=>o,gf:()=>f,gt:()=>u,lt:()=>c});var r=n(268),a=n(735),i=function(e){return function(t,n){return t===n||0===e(t,n)}},o=function(e){return{equals:i(e),compare:function(t,n){return t===n?0:e(t,n)}}},s=function(e){return function(t){return o((function(n,r){return t.compare(e(n),e(r))}))}},c=(a.W8,function(e){return function(t,n){return-1===e.compare(t,n)}}),u=function(e){return function(t,n){return 1===e.compare(t,n)}},f=function(e){return function(t,n){return-1!==e.compare(t,n)}},d=function(e){return function(t,n){return t===n||e.compare(t,n)<1?t:n}},l=function(e){return function(t,n){return t===n||e.compare(t,n)>-1?t:n}};r.w4.equals},17:(e,t,n)=>{n.d(t,{ff:()=>r,xD:()=>a});n(735);var r=function(e){return function(t){return!e(t)}},a=function(e){return function(t){return function(n){return t(n)&&e(n)}}}},328:(e,t,n)=>{n.d(t,{Ce:()=>p,DZ:()=>V,EQ:()=>v,Eh:()=>ce,Eq:()=>R,Ew:()=>k,G:()=>ye,Hr:()=>Se,JO:()=>x,Lx:()=>ee,OE:()=>te,Od:()=>m,P5:()=>w,R3:()=>b,Su:()=>H,UI:()=>$,YM:()=>S,Yo:()=>h,Z$:()=>E,ZN:()=>oe,bM:()=>Y,bj:()=>q,cS:()=>he,cx:()=>G,dF:()=>U,f2:()=>z,hX:()=>Q,iw:()=>re,j0:()=>we,jj:()=>T,kp:()=>j,lo:()=>ge,nI:()=>be,nq:()=>ne,oA:()=>K,oR:()=>pe,of:()=>F,pJ:()=>me,pO:()=>O,pR:()=>ue,qr:()=>P,t9:()=>C,tS:()=>L,u4:()=>Z,uK:()=>W,uZ:()=>se,vP:()=>ae,xH:()=>N,xP:()=>J,xb:()=>g,yW:()=>ve,zT:()=>_});var r=n(268),a=n(735),i=n(341),o=n(384),s=n(11),c=n(209),u=n(241),f=n(870),d=(n(605),n(560)),l=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},g=function(e){return 0===e.length},m=u.Od,p=u.Ce,b=(u.ws,u.R3);u.Im;var h=function(e){return o.Wi(e)?he:[e.value]},v=function(e,t){return function(n){return m(n)?t(n):e()}},y=u.dC;function w(e,t){return void 0===t?function(t){return w(e,t)}:y(e,t)?o.YP:o.G(t[e])}var S=function(e){return m(e)?o.G(u.YM(e)):o.YP},E=function(e){return m(e)?o.G(u.Z$(e)):o.YP};var I=function(e,t){for(var n=e.length,r=0;r<n&&t(e[r]);r++);return r};function _(e){return function(t){var n=D(I(t,e))(t);return{init:n[0],rest:n[1]}}}var G=function(e){return function(t){for(var n=0;n<t.length;n++)if(e(t[n]))return o.G(n);return o.YP}};function k(e){return function(t){for(var n=0;n<t.length;n++)if(e(t[n]))return o.G(t[n]);return o.YP}}var z=function(e){return function(t){for(var n=0;n<t.length;n++){var r=e(t[n]);if(o.pC(r))return r}return o.YP}};function U(e){return function(t){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return o.G(t[n]);return o.YP}}var x=function(e){return function(t){for(var n=t.length-1;n>=0;n--){var r=e(t[n]);if(o.pC(r))return r}return o.YP}},P=function(e){return function(t){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return o.G(n);return o.YP}},q=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"Left"===r._tag&&t.push(r.left)}return t};function C(e){return function(t,n){if(void 0===n){var r=C(e);return function(e){return r(t,e)}}for(var a,i=0;i<n.length;i++)if(a=n[i],e.equals(a,t))return!0;return!1}}var T=function(e){var t=u.jj(e);return function(e){return m(e)?t(e):e}},O=function(e){var t=u.pO(e);return function(e){return m(e)?t(e):he}},D=function(e){return function(t){return e>=1&&m(t)?u.lx(e)(t):g(t)?[t,he]:[he,t]}};var A=function(e,t){return(0,a.zG)(e,$(t))},M=function(e,t,n){return(0,a.zG)(e,Z(t,n))},j=function(e,t){return(0,a.zG)(e,me(t))},R=function(e,t){return(0,a.zG)(e,pe(t))},F=u.of,Y=function(){return he},L=function(e){return function(t){return(0,a.zG)(t,function(e){return function(t){if(g(t))return he;for(var n=[],r=0;r<t.length;r++)n.push.apply(n,e(r,t[r]));return n}}((function(t,n){return e(n)})))}},N=L(a.yR),$=function(e){return function(t){return t.map((function(t){return e(t)}))}},H=function(e){return function(t){return t.map((function(t,n){return e(n,t)}))}},Q=function(e){return function(t){return t.filter(e)}},B=function(e){return function(t){for(var n=[],r=0;r<t.length;r++){var a=e(r,t[r]);o.pC(a)&&n.push(a.value)}return n}},V=function(e){return B((function(t,n){return e(n)}))},K=V(a.yR),W=function(e){return X((function(t,n){return e(n)}))},X=function(e){return function(t){for(var n=[],r=[],a=0;a<t.length;a++){var i=t[a];e(a,i)?r.push(i):n.push(i)}return(0,f.s4)(n,r)}},J=function(e){return function(t){return function(n){return n.reduce((function(n,r,a){return e.concat(n,t(a,r))}),e.empty)}}},Z=function(e,t){return te(e,(function(e,n,r){return t(n,r)}))},ee=function(e){var t=J(e);return function(e){return t((function(t,n){return e(n)}))}},te=function(e,t){return function(n){for(var r=n.length,a=e,i=0;i<r;i++)a=t(i,a,n[i]);return a}},ne=function(e,t){return re(e,(function(e,n,r){return t(n,r)}))},re=function(e,t){return function(n){return n.reduceRight((function(e,n,r){return t(r,n,e)}),e)}},ae=function(e){return function(t){return M(t,e.of(Y()),(function(t,n){return e.ap(e.map(t,(function(e){return function(t){return(0,a.zG)(e,b(t))}})),n)}))}},ie="ReadonlyArray",oe=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},se=function(){return{concat:function(e,t){return g(e)?t:g(t)?e:e.concat(t)},empty:he}},ce=function(e){return(0,r.f7)((function(t,n){return t.length===n.length&&t.every((function(t,r){return e.equals(t,n[r])}))}))},ue=function(e){return(0,c.Zt)((function(t,n){for(var r=t.length,a=n.length,i=Math.min(r,a),o=0;o<i;o++){var c=e.compare(t[o],n[o]);if(0!==c)return c}return s.Df.compare(r,a)}))},fe={URI:ie,map:A},de={URI:ie,of:F},le={URI:ie,zero:Y},ge=(0,d.l)(le,de),me=function(e){return function(t){for(var n=l([],e(t),!0),r=[];n.length>0;){var a=n.shift();o.nM(a)?n.unshift.apply(n,e(a.left)):r.push(a.right)}return r}},pe=function(e){return function(t){var n=e(t),r=[],a=[];function i(t){o.nM(t)?e(t.left).forEach((function(e){return r.push(e)})):a.push(t.right)}for(var s=0,c=n;s<c.length;s++){i(c[s])}for(;r.length>0;)i(r.shift());return a}},be=(u.oo,function(e){return g(e)?he:e.slice()}),he=u.cS;function ve(e){return function(t){return t.every(e)}}var ye=function(e){return function(t){return t.some(e)}},we=function(e){var t=u.j0(e);return function(n){return v((function(){return e.empty}),t(n))}},Se=(o.F4,(0,i.Hr)(fe));u.w6,u.QI,u.Ss},241:(e,t,n)=>{n.d(t,{R3:()=>h,Im:()=>b,pO:()=>G,ur:()=>H,QI:()=>K,cS:()=>d,Lx:()=>q,xP:()=>O,c2:()=>w,Eh:()=>j,ZN:()=>M,YM:()=>R,j0:()=>V,Od:()=>l,dC:()=>g,Z$:()=>Y,UI:()=>U,aL:()=>Q,ut:()=>B,Fp:()=>$,VV:()=>N,of:()=>z,Ce:()=>p,ws:()=>m,w6:()=>E,u4:()=>P,nq:()=>C,iw:()=>D,OE:()=>T,Ss:()=>W,lx:()=>k,jj:()=>y,oo:()=>v});var r,a=n(268),i=n(735),o=(n(341),n(384)),s=n(209),c=function(e){return{concat:s.VV(e)}},u=function(e){return{concat:s.Fp(e)}};r=void 0;var f=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},d=o.Xl,l=o.Od,g=function(e,t){return e<0||e>=t.length},m=function(e){return function(t){return f([e],t,!0)}},p=m,b=function(e){return function(t){return f(f([],t,!0),[e],!1)}},h=b,v=function(e,t,n){if(l(n)){var r=o.r1(n);return r.splice(e,0,t),r}return[t]},y=function(e){return function(t){if(1===t.length)return t;for(var n=[R(t)],r=function(t){n.every((function(n){return!e.equals(n,t)}))&&n.push(t)},a=0,i=F(t);a<i.length;a++){r(i[a])}return n}},w=function(e){return l(e)?o.G(e):o.YP},S=function(e){return function(t){for(var n=Math.max(0,Math.floor(t)),r=[e(0)],a=1;a<n;a++)r.push(e(a));return r}},E=function(e,t){return e<=t?S((function(t){return e+t}))(t-e+1):[e]};function I(e,t){return t?e.concat(t):function(t){return t.concat(e)}}var _=function(e){return function(t){for(var n=[e,t[0]],r=1;r<t.length;r++)n.push(e,t[r]);return n}},G=function(e){return function(t){for(var n=e(t),r=[n[0]],a=n[1];l(a);){var i=e(a),o=i[0],s=i[1];r.push(o),a=s}return r}},k=function(e){return function(t){var n=Math.max(1,e);return n>=t.length?[t,d]:[(0,i.zG)(t.slice(1,n),p(R(t))),t.slice(n)]}},z=o.ri,U=function(e){return x((function(t,n){return e(n)}))},x=function(e){return function(t){for(var n=[e(0,R(t))],r=1;r<t.length;r++)n.push(e(r,t[r]));return n}},P=function(e,t){return T(e,(function(e,n,r){return t(n,r)}))},q=function(e){return function(t){return function(n){return n.slice(1).reduce((function(n,r){return e.concat(n,t(r))}),t(n[0]))}}},C=function(e,t){return D(e,(function(e,n,r){return t(n,r)}))},T=function(e,t){return function(n){return n.reduce((function(e,n,r){return t(r,e,n)}),e)}},O=function(e){return function(t){return function(n){return n.slice(1).reduce((function(n,r,a){return e.concat(n,t(a+1,r))}),t(0,n[0]))}}},D=function(e,t){return function(n){return n.reduceRight((function(e,n,r){return t(r,n,e)}),e)}},A=o.YM,M=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},j=function(e){return(0,a.f7)((function(t,n){return t.length===n.length&&t.every((function(t,r){return e.equals(t,n[r])}))}))},R=(o.F4,A),F=o.Gb,Y=function(e){return e[e.length-1]},L=function(e){return e.slice(0,-1)},N=function(e){var t=c(e);return function(e){return e.reduce(t.concat)}},$=function(e){var t=u(e);return function(e){return e.reduce(t.concat)}},H=function(e){return function(t){return t.reduce(e.concat)}},Q=function(e){return function(t){return e(R(t),F(t))}},B=function(e){return function(t){return e(L(t),Y(t))}},V=function(e){var t=H(e);return function(e){return(0,i.ls)(function(e){return function(t){var n=F(t);return l(n)?(0,i.zG)(n,_(e),p(R(t))):t}}(e),t)}};function K(e,t){return void 0===t?p(e):(0,i.zG)(t,p(e))}var W=function(e,t){return(0,i.zG)(e,I([t]))}},923:(e,t,n)=>{n.d(t,{Bu:()=>h,CC:()=>R,DZ:()=>ne,EG:()=>b,EW:()=>Q,Eh:()=>de,G:()=>O,HA:()=>A,Hd:()=>U,I8:()=>Y,P5:()=>v,RF:()=>F,RJ:()=>N,SW:()=>V,Su:()=>w,UI:()=>S,Ub:()=>W,V_:()=>H,XP:()=>d,Yz:()=>q,_Y:()=>$,_r:()=>z,cS:()=>y,dp:()=>c,dx:()=>m,e$:()=>p,hX:()=>te,jt:()=>x,kp:()=>j,mK:()=>Z,mS:()=>L,nn:()=>M,nr:()=>ge,nu:()=>B,oA:()=>ce,oh:()=>ue,qS:()=>J,ri:()=>G,sq:()=>C,t9:()=>D,tV:()=>ae,uK:()=>re,uZ:()=>le,vA:()=>X,vP:()=>k,xb:()=>u,yW:()=>T,z7:()=>P,zV:()=>K});var r=n(268),a=n(735),i=n(384),o=n(870),s=n(751),c=(n(605),function(e){return Object.keys(e).length}),u=function(e){for(var t in e)if(i.e$.call(e,t))return!1;return!0},f=function(e){return function(t){return Object.keys(t).sort(e.compare)}},d=f(s.Df);function l(e){if("function"==typeof e)return l(s.Df)(e);var t=f(e);return function(e){return function(n){for(var r=[],a=0,i=t(n);a<i.length;a++){var o=i[a];r.push(e(o,n[o]))}return r}}}var g=l(s.Df)((function(e,t){return[e,t]}));var m=function(e,t){return function(n){if(i.e$.call(n,e)&&n[e]===t)return n;var r=Object.assign({},n);return r[e]=t,r}},p=function(e,t){return i.e$.call(t,e)};function b(e){return function(t){if(!i.e$.call(t,e))return t;var n=Object.assign({},t);return delete n[e],n}}function h(e){return function(t,n){if(void 0===n){var r=h(e);return function(e){return r(e,t)}}for(var a in t)if(!i.e$.call(n,a)||!e.equals(t[a],n[a]))return!1;return!0}}function v(e,t){return void 0===t?function(t){return v(e,t)}:i.e$.call(t,e)?i.G(t[e]):i.YP}var y={};function w(e){return function(t){var n={};for(var r in t)i.e$.call(t,r)&&(n[r]=e(r,t[r]));return n}}function S(e){return w((function(t,n){return e(n)}))}function E(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return E(s.Df).apply(void 0,e);var n=f(e[0]);return function(e,t){return function(r){for(var a=e,i=n(r),o=i.length,s=0;s<o;s++){var c=i[s];a=t(c,a,r[c])}return a}}}function I(e){if("compare"in e){var t=f(e);return function(e){return function(n){return function(r){for(var a=e.empty,i=t(r),o=i.length,s=0;s<o;s++){var c=i[s];a=e.concat(a,n(c,r[c]))}return a}}}}return I(s.Df)(e)}function _(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return _(s.Df).apply(void 0,e);var n=f(e[0]);return function(e,t){return function(r){for(var a=e,i=n(r),o=i.length-1;o>=0;o--){var s=i[o];a=t(s,r[s],a)}return a}}}var G=function(e,t){var n;return(n={})[e]=t,n};function k(e){return Z(s.Df)(e)}function z(e){return function(t){var n={},r={};for(var a in t)if(i.e$.call(t,a)){var s=e(a,t[a]);switch(s._tag){case"Left":n[a]=s.left;break;case"Right":r[a]=s.right}}return(0,o.s4)(n,r)}}function U(e){return function(t){var n={},r={};for(var a in t)if(i.e$.call(t,a)){var s=t[a];e(a,s)?r[a]=s:n[a]=s}return(0,o.s4)(n,r)}}function x(e){return function(t){var n={};for(var r in t)if(i.e$.call(t,r)){var a=e(r,t[r]);i.pC(a)&&(n[r]=a.value)}return n}}function P(e){return function(t){var n={},r=!1;for(var a in t)if(i.e$.call(t,a)){var o=t[a];e(a,o)?n[a]=o:r=!0}return r?n:t}}var q=g,C=function(e){for(var t={},n=0,r=e;n<r.length;n++){var a=r[n];t[a[0]]=a[1]}return t};function T(e){return function(t){for(var n in t)if(!e(t[n]))return!1;return!0}}function O(e){return function(t){for(var n in t)if(e(t[n]))return!0;return!1}}function D(e){return function(t,n){if(void 0===n){var r=D(e);return function(e){return r(t,e)}}for(var a in n)if(e.equals(n[a],t))return!0;return!1}}var A=function(e,t){return(0,a.zG)(e,S(t))},M=function(e,t){return(0,a.zG)(e,w(t))},j=function(e){var t=ie(e);return function(e,n,r){return(0,a.zG)(e,t(n,r))}},R=function(e){return function(t){var n=oe(e)(t);return function(e,t){return(0,a.zG)(e,n(t))}}},F=function(e){var t=se(e);return function(e,n,r){return(0,a.zG)(e,t(n,r))}},Y=function(e,t){return(0,a.zG)(e,te(t))},L=function(e,t){return(0,a.zG)(e,ne(t))},N=function(e,t){return(0,a.zG)(e,re(t))},$=function(e,t){return(0,a.zG)(e,ae(t))},H=function(e){var t=E(e);return function(e,n,r){return(0,a.zG)(e,t(n,r))}},Q=function(e){var t=I(e);return function(e){var n=t(e);return function(e,t){return(0,a.zG)(e,n(t))}}},B=function(e){var t=_(e);return function(e,n,r){return(0,a.zG)(e,t(n,r))}},V=function(e,t){return(0,a.zG)(e,z(t))},K=function(e,t){return(0,a.zG)(e,U(t))},W=function(e,t){return(0,a.zG)(e,x(t))},X=function(e,t){return(0,a.zG)(e,P(t))},J=function(e){var t=ee(e);return function(e){var n=t(e);return function(e,t){return n(e,(0,a.ls)(a.SK,t))}}},Z=function(e){var t=J(e);return function(e){var n=t(e);return function(e){return n(e,a.yR)}}},ee=function(e){return function(t){var n=f(e);return function(e,r){var a=n(e);if(0===a.length)return t.of(y);for(var i=t.of({}),o=function(n){i=t.ap(t.map(i,(function(e){return function(t){var r;return Object.assign({},e,((r={})[n]=t,r))}})),r(n,e[n]))},s=0,c=a;s<c.length;s++){o(c[s])}return i}}},te=function(e){return P((function(t,n){return e(n)}))},ne=function(e){return x((function(t,n){return e(n)}))},re=function(e){return U((function(t,n){return e(n)}))},ae=function(e){return z((function(t,n){return e(n)}))};function ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=E(e[0]);return function(e,t){return n(e,(function(e,n,r){return t(n,r)}))}}return ie(s.Df).apply(void 0,e)}function oe(e){if("compare"in e){var t=I(e);return function(e){var n=t(e);return function(e){return n((function(t,n){return e(n)}))}}}return oe(s.Df)(e)}function se(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=_(e[0]);return function(e,t){return n(e,(function(e,n,r){return t(n,r)}))}}return se(s.Df).apply(void 0,e)}var ce=function(e){var t={};for(var n in e)if(i.e$.call(e,n)){var r=e[n];i.pC(r)&&(t[n]=r.value)}return t},ue=function(e){var t={},n={};for(var r in e)if(i.e$.call(e,r)){var a=e[r];i.nM(a)?t[r]=a.left:n[r]=a.right}return(0,o.s4)(t,n)},fe="ReadonlyRecord";function de(e){var t=h(e);return(0,r.f7)((function(e,n){return t(e)(n)&&t(n)(e)}))}function le(e){return{concat:function(t,n){if(u(t))return n;if(u(n))return t;var r=Object.assign({},t);for(var a in n)i.e$.call(n,a)&&(r[a]=i.e$.call(t,a)?e.concat(t[a],n[a]):n[a]);return r},empty:y}}s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df;function ge(e,t){return i.e$.call(void 0===t?this:t,e)}s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df},377:(e,t,n)=>{n.d(t,{H5:()=>s,Kl:()=>c,Lx:()=>f,Pd:()=>i,Yg:()=>a,li:()=>r,nq:()=>d,pL:()=>o,u4:()=>u});n(735);function r(e){return e[0]}function a(e){return e[1]}var i=function(e,t){return function(n){return[t(r(n)),e(a(n))]}},o=function(e){return function(t){return[e(r(t)),a(t)]}},s=function(e){return function(t){return[r(t),e(a(t))]}},c=r,u=function(e,t){return function(n){return t(e,r(n))}},f=function(){return function(e){return function(t){return e(r(t))}}},d=function(e,t){return function(n){return t(r(n),e)}}},870:(e,t,n)=>{n.d(t,{F2:()=>o,Vn:()=>a,s4:()=>r});n(735);var r=function(e,t){return{left:e,right:t}},a=function(e){return function(t){return r(e(i(t)),o(t))}},i=function(e){return e.left},o=function(e){return e.right}},151:(e,t,n)=>{n.d(t,{At:()=>G,Do:()=>k,Hi:()=>y,Hr:()=>U,PM:()=>v,UA:()=>E,UI:()=>l,YO:()=>z,ak:()=>x,ap:()=>g,dO:()=>h,mU:()=>I,of:()=>m,pE:()=>O,qA:()=>w,qo:()=>S,tD:()=>c,tS:()=>p,uU:()=>T});var r=n(862),a=n(130),i=n(735),o=n(341),s=n(384),c=function(e){return function(){return Promise.resolve().then(e)}};var u=function(e,t){return(0,i.zG)(e,l(t))},f=function(e,t){return(0,i.zG)(e,g(t))},d=function(e,t){return(0,i.zG)(e,p(t))},l=function(e){return function(t){return function(){return Promise.resolve().then(t).then(e)}}},g=function(e){return function(t){return function(){return Promise.all([Promise.resolve().then(t),Promise.resolve().then(e)]).then((function(e){return(0,e[0])(e[1])}))}}},m=function(e){return function(){return Promise.resolve(e)}},p=function(e){return function(t){return function(){return Promise.resolve().then(t).then((function(t){return e(t)()}))}}},b="Task";var h={URI:b,map:u},v={URI:b,of:m},y={URI:b,map:u,ap:f},w={URI:b,map:u,ap:f,of:m},S={URI:b,map:u,ap:f,chain:d},E={URI:b,map:u,of:m,ap:f,chain:d},I=(i.yR,(0,r.m)(S)),_={URI:b,fromIO:c},G=(0,a.At)(_,S),k=m(s.F4),z=(0,o.YO)(h),U=(0,o.Hr)(h),x=(0,r.a)(S),P=m(s.Xl),q=function(e){var t=function(e){return function(t){return function(){return Promise.all(t.map((function(t,n){return Promise.resolve().then((function(){return e(n,t)()}))})))}}}(e);return function(e){return s.Od(e)?t(e):P}},C=function(e){var t=function(e){return function(t){return function(){return s.Gb(t).reduce((function(t,n,r){return t.then((function(t){return Promise.resolve().then(e(r+1,n)).then((function(e){return t.push(e),t}))}))}),Promise.resolve().then(e(0,s.YM(t))).then(s.ri))}}}(e);return function(e){return s.Od(e)?t(e):P}},T=function(e){return q((function(t,n){return e(n)}))},O=function(e){return C((function(t,n){return e(n)}))}},767:(e,t,n)=>{n.d(t,{At:()=>Z,DT:()=>W,EQ:()=>I,F2:()=>b,Hi:()=>Q,Hr:()=>re,Ij:()=>oe,LV:()=>_,OV:()=>H,Qt:()=>ie,UI:()=>O,Vn:()=>A,Y3:()=>k,YO:()=>ne,Zl:()=>R,ak:()=>ae,fF:()=>S,fS:()=>G,fX:()=>K,it:()=>z,oU:()=>J,of:()=>Y,t$:()=>p,tD:()=>w,tS:()=>j,wE:()=>te,wp:()=>F});var r=n(828),a=n(862),i=n(856),o=n(690),s=n(130),c=n(679),u=n(735),f=n(341),d=n(384),l=n(151),g=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},m=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},p=i.t$(l.PM),b=i.F2(l.PM),h=i.m8(l.dO),v=i.pk(l.dO),y=(0,u.ls)(l.tD,h),w=(l.tD,y),S=h,E=l.of,I=(l.tD,i.EQ(l.dO)),_=i.LV(l.UA),G=i.fS(l.UA),k=function(e,t){return function(){return g(void 0,void 0,void 0,(function(){var n;return m(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e().then(d.F2)];case 1:return[2,r.sent()];case 2:return n=r.sent(),[2,d.t$(t(n))];case 3:return[2]}}))}))}},z=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return k((function(){return e.apply(void 0,n)}),t)}},U=(l.dO,l.PM,l.PM,l.UA,l.UA,l.UA,l.UA,l.dO,function(e,t){return(0,u.zG)(e,O(t))}),x=function(e,t){return(0,u.zG)(e,M(t))},P=function(e,t){return(0,u.zG)(e,j(t))},q=function(e,t,n){return(0,u.zG)(e,D(t,n))},C=function(e,t){return(0,u.zG)(e,A(t))},T=function(e,t){return(0,u.zG)(e,F(t))},O=i.UI(l.dO),D=i.Pd(l.dO),A=i.Vn(l.dO),M=i.ap(l.Hi),j=i.tS(l.UA),R=j,F=i.wp(l.UA),Y=b,L=p,N="TaskEither";var $={URI:N,map:U},H=(0,f.OV)($),Q={URI:N,map:U,ap:x},B={URI:N,map:U,ap:x,chain:P},V={URI:N,fromEither:E},K=(0,o.fX)(V,B),W=(0,o.DT)(V),X={URI:N,fromIO:w},J=(0,s.oU)(X,B),Z=(0,s.At)(X,B),ee={URI:N,fromIO:w,fromTask:S},te=(0,c.oU)(ee,B);d.F4;var ne=(0,f.YO)($),re=(0,f.Hr)($),ae=(0,a.a)(B),ie=(0,r.Qt)(Q),oe=(d.Xl,{URI:N,bimap:q,mapLeft:C,map:U,of:Y,ap:x,chain:P,alt:T,fromIO:w,fromTask:S,throwError:L})},706:(e,t,n)=>{n.d(t,{H5:()=>o,Yg:()=>i,li:()=>a});var r=n(377),a=(n(735),r.li),i=r.Yg;var o=function(e){return function(t){return[a(t),e(i(t))]}};r.Kl,r.Lx,r.u4,r.nq},605:(e,t,n)=>{function r(e,t){return function(n){var r=e.traverse(n);return function(e,a){return n.map(r(e,a),t.separate)}}}function a(e,t){return function(n){var r=e.traverse(n);return function(e,a){return n.map(r(e,a),t.compact)}}}n.d(t,{BL:()=>a,Fj:()=>r})},560:(e,t,n)=>{function r(e,t){return function(n){return n?t.of(void 0):e.zero()}}n.d(t,{l:()=>r})},735:(e,t,n)=>{n.d(t,{MZ:()=>a,Q1:()=>u,SK:()=>g,W8:()=>o,a9:()=>i,bc:()=>d,gn:()=>s,ls:()=>f,r5:()=>c,yR:()=>r,zG:()=>l});function r(e){return e}var a=r;function i(e){return function(){return e}}var o=i(!0),s=i(null),c=i(void 0),u=c;function f(e,t,n,r,a,i,o,s,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return a(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return i(a(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return o(i(a(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return s(o(i(a(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return c(s(o(i(a(r(n(t(e.apply(this,arguments)))))))))}}}function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}function l(e,t,n,r,a,i,o,s,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return a(r(n(t(e))));case 6:return i(a(r(n(t(e)))));case 7:return o(i(a(r(n(t(e))))));case 8:return s(o(i(a(r(n(t(e)))))));case 9:return c(s(o(i(a(r(n(t(e))))))));default:for(var u=arguments[0],f=1;f<arguments.length;f++)u=arguments[f](u);return u}}var g=function(e,t){return t}},384:(e,t,n)=>{n.d(t,{F2:()=>d,F4:()=>h,G:()=>s,Gb:()=>p,Od:()=>g,Wi:()=>a,Xl:()=>b,YM:()=>m,YP:()=>o,e$:()=>v,nM:()=>c,pC:()=>i,r1:()=>y,ri:()=>l,t$:()=>f,tO:()=>u});var r=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},a=function(e){return"None"===e._tag},i=function(e){return"Some"===e._tag},o={_tag:"None"},s=function(e){return{_tag:"Some",value:e}},c=function(e){return"Left"===e._tag},u=function(e){return"Right"===e._tag},f=function(e){return{_tag:"Left",left:e}},d=function(e){return{_tag:"Right",right:e}},l=function(e){return[e]},g=function(e){return e.length>0},m=function(e){return e[0]},p=function(e){return e.slice(1)},b=[],h={},v=Object.prototype.hasOwnProperty,y=function(e){return r([e[0]],e.slice(1),!0)}},11:(e,t,n)=>{n.d(t,{Df:()=>a,Eq:()=>r,Pc:()=>o});var r={equals:function(e,t){return e===t}},a={equals:r.equals,compare:function(e,t){return e<t?-1:e>t?1:0}},i=(r.equals,a.compare,{concat:function(e,t){return e+t}}),o={concat:i.concat,empty:0}},751:(e,t,n)=>{n.d(t,{Df:()=>a,Eq:()=>r,xb:()=>i});var r={equals:function(e,t){return e===t}},a={equals:r.equals,compare:function(e,t){return e<t?-1:e>t?1:0}},i=function(e){return 0===e.length}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=n(992),t=n(851),r=n(735),a=n(116),i=n(567),o=n(328),s=n(652),c=n(767);function u(e,n){return(0,r.zG)(c.Y3((()=>e.get(n)),(e=>`Failed to read previous state from IndexedDB: ${e}.`)),c.UI((e=>e??void 0)),c.UI((a=>i=>(0,r.ls)((0,s.rO)({previousState:()=>a}),i,(i=>{let{value:o,state:c}=i;const[u,f]=t.Ue(!1),d=(0,r.zG)(c,t.Rp(-1,(e=>e+1)));return{value:(0,r.bc)(u,o),state:(0,r.zG)(t.vP(c,d),(0,s.bw)(t.YP((t=>{let[r,i]=t;if(0!==i||r!==a)switch(f(!1),typeof r){case"undefined":e.delete(n).then((()=>f(!0)));break;case"object":null===r?e.delete(n).then((()=>f(!0))):e.put(r,n).then((()=>f(!0)));break;default:e.put(r,n).then((()=>f(!0)))}}))))}})))))}function f(e){return n=>(0,r.ls)((0,s.rO)({previousState:t=>e.current?t:void 0}),n,(0,s.rO)({state:(0,r.ls)((n=>t.vP(e,n)),t.UI((e=>{let[t,n]=e;return t?n:void 0})))}))}var d=n(365);class l extends Error{static errorName="NetworkRequestFailedError";name=l.errorName;constructor(){super(l.defaultMessage)}static get defaultMessage(){return"Network request failed"}}class g extends Error{static errorName="NetworkRequestTimeoutError";name=g.errorName;constructor(){super(g.defaultMessage)}static get defaultMessage(){return"Network request timed out"}}var m=n(384),p=function(e){return"Left"===e._tag},b=function(e){return"Right"===e._tag};function h(e){return{_tag:"Left",left:e}}function v(e){return{_tag:"Right",right:e}}function y(e,t){return{_tag:"Both",left:e,right:t}}var w=function(e,t,n){return function(r){switch(r._tag){case"Left":return e(r.left);case"Right":return t(r.right);case"Both":return n(r.left,r.right)}}},S=w;S(v,h,(function(e,t){return y(t,e)}));var E=v,I="These";r.yR,r.yR,m.Xl;class _{metrics;constructor(e){this.metrics=e}req(e){return this.reqImpl(e).then((e=>(0,r.MZ)(e)))}reqWithBeacon(e){var t,n;let{url:r,payload:a}=e;const i=JSON.stringify(a),o=(null===(t=navigator)||void 0===t||null===(n=t.sendBeacon)||void 0===n?void 0:n.call(t,r,JSON.stringify(a)))??!1;return this.trackRequestMetrics({is_beacon:!0,is_error:!o,request:{method:"POST",url:r,content_length:i.length}}),o}reqImpl(t){const n="arraybuffer",{url:a,dataType:o,contentType:c,method:u,withCredentials:f,timeout:p}=t;return new Promise(((b,h)=>{const w=new XMLHttpRequest,S="POST"===t.method?"string"==typeof(E=t.payload)?E:JSON.stringify(E):null;var E;const I=e=>this.trackRequestMetrics({is_beacon:!1,request:{method:u,url:a,content_length:(null==S?void 0:S.length)??0},response:e});w.onload=(0,e.GL)((()=>{var e,t;return(0,r.zG)(w.status,d.DT((e=>e<400),(()=>{const e="text"===w.responseType||""===w.responseType?w.responseText:"Couldn\'t access response text";return`Failed ajax request. Status code was ${w.status}. ${e}`})),d.tS((()=>"json"===o?w.responseText?d.Y3((()=>JSON.parse(w.responseText)),(e=>`Failed to parse response as JSON. Response was ${JSON.stringify(w.responseText)}. Got ${e}`)):d.F2(null):"text"===o?d.F2(w.responseText):d.F2(w.response))),(0,s.bw)((0,r.ls)(i.IS,(t={content_length:"text"===w.responseType||""===w.responseType?(null===(e=w.responseText)||void 0===e?void 0:e.length)??0:w.responseType===n?w.response.byteLength:0,response_time_ms:self.performance.now()-_,status_code:w.status},function(e){return m.Wi(e)?v(t):y(e.value,t)}),I)),d.EQ(h,b))})),w.onerror=(0,e.GL)((()=>{I(d.t$("network error")),h(new l)})),w.ontimeout=(0,e.GL)((()=>{I(d.t$("timeout")),h(new g)})),w.open(u,a,!0),c&&w.setRequestHeader("content-type",c),w.timeout=p||w.timeout,w.withCredentials=f||w.withCredentials,w.responseType="binary"===o?n:w.responseType;const _=self.performance.now();w.send(S)}))}trackRequestMetrics(e){var t;if(null===(t=this.metrics)||void 0===t||!t.isEnabled())return;const n=new URL(e.request.url).pathname;if(n.includes("metrics"))return;const a=t=>this.metrics.track({name:"sdk_http_request_count_total",value:1,labels:{request_method:e.request.method,request_path:n,request_content_length:e.request.content_length,...t}});var o;!0===e.is_beacon?a({is_beacon:!0,is_error:e.is_error}):(0,r.zG)((o=e.response,p(o)?m.YP:(b(o),m.G(o.right))),i.aD((()=>({})),(e=>({response_content_length:e.content_length,response_status:e.status_code,response_time_ms:e.response_time_ms}))),(t=>({is_beacon:!1,is_error:!b(e.response),...t})),a)}}class G{config;PATH_JOINER_Q="?";PATH_JOINER_A="&";constructor(e){this.config=e}getBaseUrl(){return`${this.config.apiProtocol}://${this.config.apiHost}`}getEndpointUrl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("base",e,t,n)}getSdkErrorsUrl(e,t){return this.getUrl("sdk-errors",e,t,[])}getAdvertiserEndpointUrl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("adv",e,t,n)}getClassificationModelsEndpointUrl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("clm",e,t,n)}getAudienceMatchingEndpointUrl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const a=`${e}/${n}/audiences`;return this.getUrl("audience-matching",a,t,r)}getCCSCohortMembershipEndpointUrl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("ccs",e,t,n)}makeAuthenticatedUrl(e){return this.makeUrlWithQueryParams(e,[["k",this.config.apiKey]])}getUrlPrefix(e){switch(e){case"base":return"";case"adv":return"/adv";case"sdk-errors":return"/sdk-errors";case"clm":return"/clm";case"audience-matching":return"/audience-matching";case"ccs":return"/ccs"}}getUrl(e,t,n,r){const a=this.getUrlPrefix(e),o=(0,i.g_)((()=>""),(e=>`/${e}`))(n),s=`${this.getBaseUrl()}${a}${o}${t}`;return this.makeUrlWithQueryParams(s,r.concat([["k",this.config.apiKey]]))}makeUrlWithQueryParams(e,t){const n=t.map((e=>{let[t,n]=e;return`${t}=${n}`})).join(this.PATH_JOINER_A),r=e.includes(this.PATH_JOINER_Q)?this.PATH_JOINER_A:this.PATH_JOINER_Q;return`${e}${r}${n}`}}var k=n(869),z=n(828);class U{sdkInitTimestamp;timeOriginSdkInit;logger;prefix="[Metrics]";timeOriginForContext=q();pendingMetrics=[];pendingCounters={};pendingTimers={};constructor(e,t,n){this.sdkInitTimestamp=e,this.timeOriginSdkInit=t,this.logger=n}isEnabled(){return!0}consume(){const e=this.pendingMetrics.concat(Object.values(this.pendingCounters).flat());return this.pendingMetrics=[],this.pendingCounters={},e}track(e){this.logDebug(`Tracking ${e.name}`,{metric:e}),this.pendingMetrics.push(e)}trackCounter(e){if(this.logDebug(`Tracking ${e.name}`,{metric:e}),e.name in this.pendingCounters){const t=Object.keys(e.labels),n=this.pendingCounters[e.name].findIndex((n=>Object.keys(n.labels).length===t.length&&t.every((t=>n.labels[t]===e.labels[t]))));-1===n?this.pendingCounters[e.name].push(e):this.pendingCounters[e.name][n]=P(this.pendingCounters[e.name][n],e.value)}else this.pendingCounters[e.name]=[e]}synchroniseTimeBetweenContexts(e){return(0,r.zG)(z.gz(i.G5)(this.timeOriginForContext,this.timeOriginSdkInit),i.UI((t=>{let[n,r]=t;return e+n-r})))}trackTimeSinceInit(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:performance.now();(0,r.zG)(this.synchroniseTimeBetweenContexts(n),i.UI((e=>(e-this.sdkInitTimestamp)/1e3)),i.UI((n=>this.track({name:e,value:n,labels:t}))))}startTimer(e,t){const n=performance.now(),r=this.generateRandomKey(e);return this.pendingTimers[r]={startTime:n,labels:t},r}stopTimer(e,t){const n=this.pendingTimers[t];if(n){const r=(performance.now()-n.startTime)/1e3;this.logDebug("timer stopped",e,r),this.track({name:e,value:r,labels:n.labels}),delete this.pendingTimers[t]}}generateRandomKey(e){return`${e}-${[...Array(24)].map((()=>Math.random().toString(36)[2])).join("")}`}logDebug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(this.prefix,...t)}}class x{isEnabled(){return!1}consume(){return[]}track(e){}trackCounter(e){}trackTimeSinceInit(e,t){}startTimer(e,t){return""}stopTimer(e,t){}}const P=(e,t)=>({...e,value:e.value+t}),q=()=>(0,r.zG)(i.Y3((()=>performance.timeOrigin)),i.hX((e=>"number"==typeof e&&!Number.isNaN(e))));class C{sdkInitTimestamp;prefix="[Permutive]"+(self.document?"[Main]":"[Worker]");debugStyle=["color: blue"].join(";");constructor(e){this.sdkInitTimestamp=e}get timeDeltaFromInit(){return`[${(new Date).getTime()-this.sdkInitTimestamp}ms]`}log(){return console.log.bind(self.console,this.timeDeltaFromInit,this.prefix)(...arguments)}debug(){return console.debug.bind(self.console,"%s%c%s",this.timeDeltaFromInit,this.debugStyle,this.prefix)(...arguments)}warn(){return console.warn.bind(self.console,this.timeDeltaFromInit,this.prefix)(...arguments)}error(){return console.error.bind(self.console,this.timeDeltaFromInit,this.prefix)(...arguments)}}class T{log(){}debug(){}warn(){}error(){}}class O{crypto=self.crypto||self.msCrypto;ALG_NAME="AES-GCM";isAvailable(){var e;return!(null===(e=this.crypto)||void 0===e||!e.subtle)}generateKey(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,e.t_)(this.crypto.subtle.generateKey({name:this.ALG_NAME,length:256},t,["encrypt","decrypt"]))}encrypt(e,t){const[n,r]=this._encrypt(e,this.str2bytes(t));return n.then((e=>{const t=new Uint8Array(16+e.byteLength);return t.set(r,0),t.set(new Uint8Array(Uint32Array.of(e.byteLength).buffer),12),t.set(new Uint8Array(e),16),t.buffer}))}decrypt(e,t){const n=new Uint8Array(t,0,12),r=new Uint32Array(t,12,1)[0],a=t.slice(16,16+r);return this._decrypt(e,n,a).then(this.bytes2str)}_encrypt(t,n){const r=this.crypto.getRandomValues(new Uint8Array(12));return[(0,e.t_)(this.crypto.subtle.encrypt({name:this.ALG_NAME,iv:r},t,n)),r]}_decrypt(t,n,r){return(0,e.t_)(this.crypto.subtle.decrypt({name:this.ALG_NAME,iv:n},t,r))}str2bytes(e){return(new TextEncoder).encode(e).buffer}bytes2str(e){return(new TextDecoder).decode(e)}}class D{config;constructor(e){this.config=e}getNamespacedStorageKey(e){return`${this.config.stateNamespace}${e}`}}var A=n(151),M=n(392),j=n(923),R=n(17),F=n(241);var Y=n(688),L=n(548);class N{timeoutDurationInMilliseconds;maxTimeOutDurationInMilliseconds;constructor(e,t){this.timeoutDurationInMilliseconds=e,this.maxTimeOutDurationInMilliseconds=t}schedule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeoutDurationInMilliseconds,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,t,n)}scheduleAccumulated(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeoutDurationInMilliseconds,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,n,r,t)}scheduleForPageUnload(e){return(0,s.aT)(e)}debounce(t,n,r,a){let i,o,c,u=[];return f=>{a&&(c=a.concat(c??a.empty,f));const d=(0,s.b2)();u.push(d);var l;return null===(l=i)||void 0===l||l(),i=(0,e.HJ)((()=>{var e;null===(e=o)||void 0===e||e(),o=void 0;const n=t(c||f);u.forEach((e=>e.resolve(n))),c=null==a?void 0:a.empty,u=[]}),n),o||(o=(0,e.HJ)((()=>{var e;null===(e=i)||void 0===e||e(),o=void 0;const n=t(c||f);u.forEach((e=>e.resolve(n))),c=null==a?void 0:a.empty,u=[]}),r)),d.promise}}}class $ extends Error{constructor(e){super(e),this.name="StoreClosingError"}}const H="permutive-events-cache",Q="permutive-events-for-page",B="[EVENTSCACHE]",V=e=>"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name;class K{config;logger;reportError;trace;metrics;userId;makeEventsStore;eventStore;eventsCache=this.makeEventsRepository(H);eventsForPage=this.makeEventsRepository(Q);eventsTTLInMilliseconds;readiness;debouncedReportError=(()=>new N(5e3,5e3).schedule((e=>this.reportError(e.errorMessage,{userId:e.userId}))))();static initialise(e,t,n,a,i,o,s){return(0,r.zG)(s(),c.UI((r=>new K(e,t,n,a,i,o,s,r))))}constructor(e,t,n,a,o,c,u,f){this.config=e,this.logger=t,this.reportError=n,this.trace=a,this.metrics=o,this.userId=c,this.makeEventsStore=u,this.eventStore=f,this.eventsTTLInMilliseconds=(0,r.zG)((0,i.ij)(this.config.eventsTTLInDays),(0,i.tS)((e=>"number"==typeof e&&e>0?(0,i.G)(24*e*3600):i.YP))),this.eventsCache.events=(0,s.HP)((()=>(0,s.PQ)((0,r.zG)(A.tD((()=>this.trace.startSpan("load_event_cache"))),A.tS((e=>(0,r.zG)(this.loadFromDisk(),A.At((t=>()=>{e.finish(),this.logDebug(`Event cache loaded, #e ${t.length}`)}))))))))),this.readiness=this.eventsCache.events().then((()=>this.migratePreviousPagesEvents())),c.onChange((()=>this.reset()))}async migratePreviousPagesEvents(){const e=this.trace.startSpan("migrate_previous_for_page_events"),t=(0,A.pE)((e=>(0,c.Y3)((()=>e.flush()),Y.w)));return(0,r.zG)([this.eventsForPage,this.eventsCache],t,(0,A.UI)((t=>{const n=o.bj(t);return n.length>0&&this.reportError(`Migrate previous events failed. Got:\\n${n.join("\\n ")}`,{userId:this.userId.current}),e.finish()})),(e=>e()))}all(){return Promise.all([this.eventsCache.events(),this.eventsForPage.events()]).then(o.xH)}async add(e,t){let{persistOnDisk:n}=t;return this.logDebug("Adding to cache",e),this.eventsForPage.events=(0,r.zG)(this.eventsForPage.events,A.UI((t=>[...t,e])),s.HP),n&&this.readiness.then((()=>this.eventsForPage.flush())),e}filterEventsByWorkspace(e){return e}pruneEventsToSizeLimit(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config.eventsCacheLimitBytes;if(n<=0||t<=n)return this.logDebug(`Event size of ${t} less than limit of ${n}`),{events:e,sizeInBytes:t};this.logDebug("Events before pruning",{count:e.length,sizeInBytes:t,byteLimit:n});let r=1,a=[...e];for(;t>n;)a.splice(0,r),r*=2,t=2*JSON.stringify(a).length;return this.logDebug("Events after pruning",{count:a.length,sizeInBytes:t}),{events:a,sizeInBytes:t}}loadFromDisk(){const e=()=>[],t=(0,r.zG)(this.eventsTTLInMilliseconds,i.EQ((()=>r.yR),(e=>o.hX((t=>e>Date.now()-t.time.getTime())))));return(0,r.zG)(A.tD((()=>(this.logLog("Loading event cache..."),this.metrics.startTimer("sdk_load_events_cache_task_duration_seconds",{})))),A.YO("loadEventsCacheTask"),A.ak("eventsFromDisk",(()=>(0,r.zG)(o.nI([this.eventStore.get(H),this.eventStore.get(Q)]),o.UI(c.LV((0,s.lo)([[e=>e instanceof $,(0,r.ls)(e,A.of)],t=>(0,r.zG)(A.tD((()=>this.reportError(`Error fetching data from store. Got ${t}`,{userId:this.userId.current}))),A.tS((()=>()=>this.reset("historical"))),A.UI(e))]),(0,r.ls)(i.fS(e),A.of))),o.vP(A.qA)))),A.At((e=>{let{eventsFromDisk:t,loadEventsCacheTask:n}=e;return()=>{this.logDebug("Read events from store:",t),this.metrics.stopTimer("sdk_load_events_cache_task_duration_seconds",n)}})),A.UI((0,r.ls)((0,s.vg)("eventsFromDisk"),o.xH,this.filterEventsByWorkspace,(e=>this.pruneEventsToSizeLimit(e,2*JSON.stringify(e).length)),(e=>(this.eventsCache.sizeInBytes=e.sizeInBytes,this.eventsCache.sizeInBytesLastSuccessfulWrite=e.sizeInBytes,e.events.length>0&&(this.metrics.track({name:"sdk_events_cache_byte_total",value:e.sizeInBytes,labels:{}}),this.metrics.track({name:"sdk_events_cache_size_total",value:e.events.length,labels:{}})),e.events)),o.UI(L.k),t)))}async reset(e){return(0,r.zG)(A.tD((()=>this.logDebug("Resetting Events Cache"))),A.tS((()=>this.eventStore.deleteStore())),c.tS((()=>this.makeEventsStore())),c.Zl((t=>(this.eventStore=t,"historical"===e?z.gz(c.Ij)(this.eventsCache.reset,this.eventsForPage.flush):z.gz(c.Ij)(this.eventsCache.reset,this.eventsForPage.reset)))),c.wE((()=>()=>this.all())),c.fS((()=>A.of(W()))),(e=>e()))}getStateSizeInBytes(){return this.eventsForPage.sizeInBytes+this.eventsCache.sizeInBytes}makeEventsRepository(e){const t=(()=>{let e=Promise.resolve(d.F2((0,r.Q1)()));return t=>e=e.then(t)})(),n=e=>(0,r.zG)(A.tD((()=>this.logDebug(`Writing ${e.length} events to ${m.key}`))),A.tS((()=>this.eventStore.put(e.map(L.X),m.key))),c.UI(r.Q1)),a=(0,r.zG)(A.tD((()=>this.logDebug(`Deleting events for ${m.key}`))),A.tS((()=>this.eventStore.delete(m.key))),c.Vn(Y.w)),i=(0,r.ls)(A.of,A.At((e=>()=>this.logError(`Events cache failed to put ${m.key}. Got ${e}`))),A.tS((0,s.lo)([[e=>V(e)&&m.retryAttempts<9,()=>(0,r.zG)(A.tD((()=>{m.retryAttempts+=1,this.logDebug(`Attempt #${m.retryAttempts} to write ${m.key} to EventsStore`)})),A.tS((()=>g)),A.tS((()=>u)))],[e=>V(e),e=>(0,r.zG)(A.tD((()=>this.logDebug(`Attempted ${m.retryAttempts} rewrite attempts and reached limit of 9 max writes.`,"Reporting QuotaExceededError to API"))),A.tS((()=>()=>this.debouncedReportError({errorMessage:`Events cache failed to put ${m.key}. Got ${e}`,userId:this.userId.current}))),A.tS((()=>c.t$(e))))],c.t$]))),o=e=>c.tD((()=>{this.logDebug(`Successfully wrote events for ${m.key} after ${m.retryAttempts} attempts`),m.retryAttempts=0,m.sizeInBytes=2*JSON.stringify(e).length,m.sizeInBytesLastSuccessfulWrite=m.sizeInBytes})),u=(0,r.zG)((()=>m.events()),A.tS((e=>(0,r.zG)(n(e),A.mU(d.EQ(i,(()=>o(e)))))))),f=(e,t)=>(0,r.zG)(e.events,A.UI((n=>{const r=2*JSON.stringify(n).length,a=this.pruneEventsToSizeLimit(n,r,t);return e.events=A.of(a.events),e.sizeInBytes=a.sizeInBytes,t-e.sizeInBytes}))),l=(e,t)=>{let[n,...a]=e;return n&&0!==t?(0,r.zG)(f(n,t),A.tS((e=>(this.logDebug(`${e} left after pruning ${n.key}`),l(a,e))))):A.of((0,r.Q1)())},g=(0,r.zG)(c.tD((()=>this.eventsForPage.sizeInBytes-this.eventsForPage.sizeInBytesLastSuccessfulWrite)),c.fX(d.DT((e=>e>0),(e=>new Error(`${this.eventsForPage.key} failed to write the same or smaller events cache of size ${e}`)))),c.tS((e=>{const t=1.2*e,n=[this.eventsCache,this.eventsForPage];return this.logDebug(`Pruning ${t} bytes from`,n),(0,r.zG)(l(n,t),c.fF)}))),m={key:e,events:A.of([]),sizeInBytes:0,sizeInBytesLastSuccessfulWrite:0,retryAttempts:0,flush:()=>(0,r.zG)(A.tD((()=>this.trace.startSpan(`write_${m.key}`))),A.tS((e=>(0,r.zG)(u,A.At((()=>()=>e.finish()))))),t),reset:()=>(0,r.zG)(A.tD((()=>{m.events=A.of([]),m.sizeInBytes=0,m.sizeInBytesLastSuccessfulWrite=0})),A.tS((()=>a)),t)};return m}logDebug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(B,...t)}logWarn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.warn(B,...t)}logError(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(B,...t)}logLog(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.log(B,...t)}}const W=()=>[],X=`permutive.${self.document?"main":"worker"}.`;class J{config;shouldUsePerformanceMark=!1;constructor(e){var t;this.config=e,this.shouldUsePerformanceMark=((null===(t=self.performance)||void 0===t?void 0:t.mark)&&this.config.tracingEnabled)??!1}startSpan(e){const t=this.generateSpan(e);return t.start(),{spanId:t.spanId,finish:t.finish}}measureSinceInit(t){const n=this.generateSpan(`${t}_since_init`);return n.start({startTime:e.NC}),{spanId:n.spanId,finish:n.finish}}traceTask(e){return t=>async()=>{const n=this.startSpan(e),r=await t();return n.finish(),r}}measureBetween(e,t,n){const r=this.generateSpan(e);r.start({startTime:t}),r.finish({startTime:n})}generateSpan(e){if(!this.shouldUsePerformanceMark)return{spanId:null,start:()=>{},finish:()=>{}};const{spanName:t,startMarkerName:n,endMarkerName:r}=J.generateUniqueMarkerNames(e);return{spanId:n,start:e=>{var t;return null===(t=self.performance)||void 0===t?void 0:t.mark(n,e)},finish:e=>{var a,i,o;null===(a=self.performance)||void 0===a||a.mark(r,{startTime:(null==e?void 0:e.startTime)??performance.now()}),null===(i=self.performance)||void 0===i||null===(o=i.measure)||void 0===o||o.call(i,t,n,r)}}}static generateUniqueMarkerNames(e){const t=`${X}${e}`,n=`${t}${J.generateId()}`;return{spanName:t,startMarkerName:`${n}_start`,endMarkerName:`${n}_end`}}static generateId(){return"_"+Math.random().toString(36).substr(2,9)}}class Z{db;static version=3;static connect(t,a,i,o,s,u,f,d,l,g){return(0,r.zG)(c.Y3((()=>Promise.resolve().then(n.bind(n,569))),String),e.N1,c.tS((e=>e.make(t,a,i,o,s,u,f,Z.version,d,l,g))),c.UI((e=>new Z(Promise.resolve(e)))))}constructor(e){this.db=e}shouldThrowStoreClosingError(e){return"NotFoundError"===e.name||"InvalidStateError"===e.name}makeStoreClosingDuringOpertationError(e){return new $(`Attempted ${e} when the current store is closing.`)}put(e,t){return(0,c.Y3)((()=>this.db.then((n=>n.put(e,t)))),(e=>{const t=(0,Y.w)(e);return this.shouldThrowStoreClosingError(t)?this.makeStoreClosingDuringOpertationError("put"):t}))}get(e){return(0,c.Y3)((()=>this.db.then((t=>t.get(e))).then(i.ij)),(e=>{const t=(0,Y.w)(e);return this.shouldThrowStoreClosingError(t)?this.makeStoreClosingDuringOpertationError("get"):t}))}delete(e){return(0,c.Y3)((()=>this.db.then((t=>t.delete(e)))),(e=>String(e)))}deleteStore(){return(0,c.Y3)((()=>this.db.then((e=>e.deleteStore()))),(e=>String(e)))}}const ee=e=>{if(!e)return"";return(0,r.zG)(e,(e=>{const t=e.length-1;return"/"===e[t]?e.slice(0,t):e}))};class te{urls;config;network;metricsCollector;logger;webClient;prefix="[API]";constructor(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>i.YP;this.urls=e,this.config=t,this.network=n,this.metricsCollector=r,this.logger=a,this.webClient=o}async reportError(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;const a=(0,Y.w)(e);if(this.logError("Reporting error:\\n",a),!this.config.sendClientErrors)return void this.logDebug("Send errors not enabled. Skipping");const s=(0,r.zG)(this.webClient,M.UI(i.fS((()=>{var e,t,n,r;return{domain:(null===(e=self.location)||void 0===e?void 0:e.hostname)??"",referrer:"document"in self?null===(t=self.document)||void 0===t?void 0:t.referrer:"",url:(null===(n=self.location)||void 0===n?void 0:n.href)??"",user_agent:(null===(r=navigator)||void 0===r?void 0:r.userAgent)??""}}))),M.UI((e=>{var r,i;const o={error_message:(null==a||null===(r=a.message)||void 0===r?void 0:r.toString())??"",stack_trace:null==a||null===(i=a.stack)||void 0===i?void 0:i.split("\\n")},s=t?{user_id:t}:{};return{platform:"web",sdk_version:"v20.9.2",ql_runtime_version:"v10.0.2",timestamp:n,domain:e.domain,url:ee(e.url),referrer:ee(e.referrer),user_agent:e.user_agent,error_message:o.error_message??String(a),stack_trace:o.stack_trace,...s}}))),c=e=>this.network.req({url:this.urls.getSdkErrorsUrl("/errors",i.G(this.config.sdkErrorsApiVersion)),method:"POST",payload:[e],contentType:"text/plain",dataType:"text",withCredentials:!1}),u=e=>{this.metricsCollector.trackCounter({name:"sdk_http_generic_network_request_fail_count_total",value:1,labels:{network_error_type:e}})};await(0,r.zG)([l,g],o.Ew((e=>a.name===e.errorName||a.message.indexOf(e.errorName)>=0||a.message.indexOf(e.defaultMessage)>=0)),i.g_((()=>{const e=s();return c(e).catch((0,r.ls)(Y.w,(e=>this.logError(e))))}),(async e=>u(e.errorName))))}logDebug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(this.prefix,...t)}logError(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(this.prefix,...t)}}const ne=function(e){let t=i.YP;const n=i.fS((()=>{const n=e();return t=i.G(n),n}));return()=>n(t)}((()=>{var e;(()=>{var s={234:function(e,s,c){var u=this&&this.__assign||function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},u.apply(this,arguments)},f=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},d=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o},l=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},g=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(s,"__esModule",{value:!0}),s.env=void 0;var m=g(c(783)),p=g(c(269));s.env=function(){function e(e){return"number"==typeof e?t[e]:e}function s(e){return"number"==typeof e?n[e]:e}function c(e){return"number"==typeof e?r[e]:e}function g(e){switch(e.length){case 0:return null;case 1:return e[0];default:return e}}function b(e,t,n){void 0===n&&(n=y);var r=c(t).reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e);return null===r?null:n(r)}function h(e,t){var n=c(t).slice();return n.unshift(e),n}function v(e,t,n){return void 0===n&&(n=y),b(e,h("properties",t),n)}var y=function(e){return e},w=function(e){return!0};function S(e,t){return function(n){for(var r=0;r<e.length;r++){if((e[r](n)||!1)===t)return t}return!t}}function E(e){return S(e,!0)}function I(e){return S(e,!1)}var _=function(e){return function(t){return!e(t)}},G=function(e,t){return function(n){return n>=e&&n<=t}},k=function(e){return new Date(e).getTime()},z=function(e){return b(e,["time"],k)},U=function(e,t){return b(t,e,k)},x=function(e,t,n,r,a,i){return function(o){var s=b(o,e,(function(e){return e.filter(r).map((function(e){return b(e,t)})).reduce(a,i)}));return n(null===s?i:s)}};function P(e,t,n,r){var a,i;try{for(var o=f(e),s=o.next();!s.done;s=o.next()){var c=s.value;if(n(c)&&t(c)===r)return r}}catch(e){a={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}return!r}var q=function(e){return function(t){return("string"==typeof e||"number"==typeof e)&&"string"==typeof t&&t.toLowerCase().indexOf(s(e).toLowerCase())>-1}},C=function(e){return function(t){return null!=t&&Array.isArray(t)&&t.indexOf(e)>=0}};function T(e,t,n,r,a){var i=b(e.getSegments(),[t,n])||!1;return a&&(r||i)&&e.setSegmentActivation(t,n,a),i}function O(e,t,n){return b(e.getSegments(),[t,n])||!1}function D(e,t,n){return void 0===n&&(n=18e5),function(r){return{a:{m:function(e,t){return[t[0],r.a.m(null!=e[0]&&e[0][0]===t[0][0]?e[1]:r.a.z,t[1])]},z:[[],r.a.z]},p:function(n,a){return[[e(n)],b(a,t)===e(n)?r.p(n,a):r.a.z]},r:function(t,n){return r.r(t,0!==n[0].length&&n[0][0]===e(t)?n[1]:r.a.z)},d:r.d.sq||{l:function(a,i){var o=b(a,t),s=e(i);if(o!==s)return null;var c=r.d.l(a,i);if(!(Array.isArray(c)&&c.length>1))return null;var u=d(c),f=u[0],l=u.slice(1),g=+(z(a)||i.getCurrentTime()),m=Math.floor(g/n),p={};return p[m]={},p[m][s]=1===l.length?l[0]:l,[f,"u",null,p]},i:function(t,n){if(!Array.isArray(t)||"object"!=typeof t[3])return[[],r.a.z];var a=e(n),i=t[3];return[[a],Object.keys(i).map((function(e){return i[e][a]})).filter((function(e){return e})).map((function(e){return r.d.i([t[0]].concat(e))})).reduce(r.a.m,r.a.z)]}}}}}var A=D((function(e){return e.getCurrentSession()}),["session_id"],18e5),M=D((function(e){return e.getCurrentView()}),["view_id"],3e5);function j(t,n,r,a){return void 0===a&&(a=1),{a:{m:function(e,t){return e.concat(t).slice(-r)},z:[]},p:function(r,a){return b(a,["name"])===e(n)?[t.p(r,a)]:[]},r:function(e,n){return t.r(e,n.reduce((function(e,n){return t.a.m(e,n)}),t.a.z))},d:t.d.ftn||{l:function(e,n){var i,o=t.d.l(e,n),s=b(e,["time"],k)*a;return o&&[o[0],"x"+r,null,(i={},i[s]=2==o.length?o[1]:o.slice(1),i)]},i:function(e,n){return e?Object.keys(e[3]||{}).sort().reverse().map((function(t){return Array.isArray(t)?l([e[0]],d(e[3][t]),!1):[e[0],e[3][t]]})).map((function(e){return t.d.i(e,n)})):[]}}}}var R=function(e,t){return null===e?null==t?null:{b:t}:null==t?{a:e}:{a:e,b:t}},F=function(e,t){return e&&t?e(t):null},Y=function(e,t,n){if(n&&n.result&&Array.isArray(n.result)){var r=F(e.d&&e.d.m,{result:n.result[0]}),a=F(t.d&&t.d.m,{result:n.result[1]});return R(r,a)}return null};var L=function(e){return function(t){function n(e){for(var t=e[0],n=1;n<e.length;n++)t=[t,e[n]];return t}function r(e){for(var n=e,r=Array(t.length),a=t.length-1;a>0;a--)r[a]=n[1],n=n[0];return r[0]=n,r}return{p:function(e,r){return n(t.map((function(t){return t.p(e,r)})))},r:function(n,a){var i=r(a);return e(t.map((function(e,t){return function(){return e.r(n,i[t])}})))({})},a:{z:n(t.map((function(e){return e.a.z}))),m:function(e,a){var i=r(e),o=r(a);return n(t.map((function(e,t){return function(e,t,n){return null===t?n:null===n?t:e.a.m(t,n)}(e,i[t],o[t])})))}},d:{l:function(e,n){return function(e){for(var t=e[0],n=1;n<e.length;n++){var r=e[n],a=t;t={},null!==a&&(t.a=a),null!==r&&(t.b=r)}return t}(t.map((function(t){return t.d.l(e,n)})))},i:function(e,r){return function(e,r){for(var a=e,i=t.map((function(e){return e.a.z})),o=function(e,n){return t[e].d.i(n,r)},s=t.length-1;s>0&&a;s--)a.b&&(i[s]=o(s,a.b)),a.a&&1===s&&(i[0]=o(0,a.a)),a=a.a;return n(i)}(e,r)}}}}},N=L(E),$=L(I);function H(e,t){var n=a[e];if(!t||!n)return!1;if(!n.length)return!0;for(var r=0,i=!1,o=function(e){for(var t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);if(r>=55296&&r<=56319){var a=e.charCodeAt(n+1);if(a>=56320&&a<=57343){t.push(e.slice(n,n+2)),++n;continue}}t.push(e.charAt(n))}return t}(t.toLowerCase()),s=0;s<o.length;s++){for(var c=o[s];r>0&&!n[r][c];)r=n[r].su?n[r].su:0;if(n[r][c]&&(i=!!n[r=n[r][c]].te))break}return i}var Q=function(e){return(0,m.default)(e).toString(p.default).slice(0,8)},B=function(e,t){var n,r,a=Q(e);if(0===t.length)return!1;if(t[0]===a)return!0;for(var i=0,o=t.length,s=!1;(s=(n=t[r=i+(o-i>>1)])!==a)&&(n<a?i=r:o=r,!(i>=o-1)););return!s},V=function(e,t){return function(n){return B(b(n,e),t)}},K=function(e,t){return function(n){return B(v(n,e),t)}};return{q:function(e){return{lift:function(t,n){return e.d.l(t,n)},interpret:function(t,n){return function(t,n){return{result:e.r(t,n)}}(n,e.d.i(t,n))},migrate:function(t){return t&&e.d.m?e.d.m(t):null},m:e.a.m,z:e.a.z,p:e.p,r:e.r,i:e.d.i}},a:I,acq:function(e,t){return{p:function(n,r){return[e.p(n,r),t.p(n,r)]},r:function(n,r){return e.r(n,r[0])&&t.r(n,r[1])},a:{z:[e.a.z,t.a.z],m:function(n,r){return[e.a.m(n[0],r[0]),t.a.m(n[1],r[1])]}},d:{l:function(n,r){return R(e.d.l(n,r),t.d.l(n,r))},i:function(n,r){return n?[e.d.i(n.a||null,r),t.d.i(n.b||null,r)]:[e.a.z,t.a.z]},m:function(n){return Y(e,t,n)}}}},acqs:$,acs:H,acs_:function(e,t){return function(n){return H(t,b(n,e))}},af_i:function(e,t,n){return void 0===n&&(n=w),function(r){return b(r,e,(function(e){return P(e,t,n,!1)}))&&!0}},af_l:function(e,t,n){return void 0===n&&(n=w),function(r){var a=b(r,e,(function(e){return e.filter(n).length}));return t(null===a?0:a)}},af_m:function(e,t,n,r){return void 0===r&&(r=w),function(a){var i=b(a,e,(function(e){return e.filter(r)}));return null===i||0===i.length?n(0):n(i.map((function(e){return b(e,t)})).reduce((function(e,t){return e+t}),0)/i.length)}},af_n:function(e,t,n,r){return void 0===r&&(r=w),x(e,t,n,r,(function(e,t){return Math.min(e,t)}),Number.POSITIVE_INFINITY)},af_p:function(e,t,n,r){return void 0===r&&(r=w),x(e,t,n,r,(function(e,t){return e*t}),1)},af_s:function(e,t,n,r){return void 0===r&&(r=w),x(e,t,n,r,(function(e,t){return e+t}),0)},af_u:function(e,t,n){return void 0===n&&(n=w),function(r){return b(r,e,(function(e){return P(e,t,n,!0)}))||!1}},af_x:function(e,t,n,r){return void 0===r&&(r=w),x(e,t,n,r,(function(e,t){return Math.max(e,t)}),Number.NEGATIVE_INFINITY)},as:function(e,t,n){var r=h("properties",t);return function(t){for(var a=b(t,r),i=n.length,o=!0,s=0;s<i;s++){var c=n[s];if(!(o=e(c)(a)))break}return o}},c:C,c_:function(e,t){return function(n){return C(t)(b(n,e))}},cl_:function(e,t){return function(n){return C(s(t))(b(n,e))}},cx:function(e){return function(t){return C(s(e))(t)}},ctu:function(t,n,r,a){return{a:a?{m:function(e,t){return e.filter((function(e){return-1===t.indexOf(e)})).concat(t).slice(-a)},z:[]}:{m:function(e,t){return e.filter((function(e){return-1===t.indexOf(e)})).concat(t)},z:[]},p:function(a,i){return b(i,["name"])===e(t)&&n(i)?b(i,r):[]},r:function(e,t){return t},d:{l:function(){return null},i:function(){return[]}}}},ctv:function(t,n,r,a){function i(e,t){var n,r=function(e){return{k:e.k,c:1+e.c}},a={arr:[],add:{k:t,c:1}};return t?(n=e.reduce((function(e,t){return e.add.k===t.k?{arr:e.arr,add:r(t)}:{arr:e.arr.concat(t),add:e.add}}),a)).arr.concat(n.add):e}return{a:a?{m:function(e,t){return i(e,t).slice(-a)},z:[]}:{m:function(e,t){return i(e,t)},z:[]},p:function(a,i){return b(i,["name"])===e(t)&&n(i)?b(i,r):null},r:function(e,t){return t.reduce((function(e,t){var n;return u(u({},e),((n={})[t.k]=t.c,n))}),{})},d:{l:function(e){return null},i:function(e){return[]}}}},ctw:function(t,n,r,a){return{a:a?{m:function(e,t){return e.concat(t).slice(-a)},z:[]}:{m:function(e,t){return e.concat(t)},z:[]},p:function(a,i){return b(i,["name"])===e(t)&&n(i)?b(i,r):[]},r:function(e,t){return t},d:{l:function(){return null},i:function(){return[]}}}},cw:function(t,n,r){return void 0===r&&(r=y),{a:{m:function(e,t){return e+t},z:0},p:function(r,a){return b(a,["name"])===e(t)&&n(a)?1:0},r:function(e,t){return r(t)},d:{l:function(r){return b(r,["name"])===e(t)&&n(r)?["p",1]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:0},m:function(e){return e&&e.result?["p",e.result]:null}}}},cb:function(t,n,r,a){return{a:{m:function(e,t){return Math.min(e+t,a)},z:0},p:function(r,a){return b(a,["name"])===e(t)&&n(a)?1:0},r:function(e,t){return r(t)},d:{l:function(r){return b(r,["name"])===e(t)&&n(r)?["b".concat(a,"p"),1]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:0},m:function(e){return e&&e.result?["b".concat(a,"p"),Math.min(a,e.result)]:null}}}},e:function(e){return function(t){return t===e}},e_:function(e,t){return function(n){return b(n,e)===t}},fm:function(e,t){return{p:t.p,r:function(n,r){return e(t.r(n,r))},a:t.a,d:t.d}},frontDecode:function(e){var t=e.split("\\t");if(0===t.length)return[];var n=t[0],r=new Array(Math.ceil(t.length/2));r[0]=t[0];for(var a=1;a<t.length/2;a+=1){var i=t[2*a-1],o=t[2*a];if(""===i)n=o;else{var s=parseInt(i);n=n.slice(0,s)+o}r[a]=n}return r},ftn:function(t,n,r){return{a:{m:function(e,t){return e.concat(t.slice(0,r-e.length))},z:[]},p:function(r,a){return b(a,["name"])===e(n)?[t.p(r,a)]:[]},r:function(e,n){return t.r(e,n.reduce((function(e,n){return t.a.m(e,n)}),t.a.z))},d:j(t,n,r,-1).d}},fw:function(t,n,r,a){return void 0===a&&(a=y),{a:{m:function(e,t){return null===e?t:e},z:null},p:function(a,i){return b(i,["name"])===e(t)&&n(i)?b(i,r):null},r:function(e,t){return t},d:{l:function(r){return b(r,["name"])===e(t)&&n(r)?["p",1]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:0},m:function(e){return e&&e.result?["p",e.result]:null}}}},g:function(e){return function(t){return t>e}},g_:function(e,t){return function(n){return b(n,e)>t}},gb:function(e,t,n){return{a:{m:function(n,r){return Object.keys(n).concat(Object.keys(r)).filter((function(e,t,n){return n.indexOf(e)===t})).sort((function(e,t){return Math.max(b(n,[t,1]),b(r,[t,1]))-Math.max(b(n,[e,1]),b(r,[e,1]))})).slice(0,t).reduce((function(t,a){var i=e.a.m(b(n,[a,0])||e.a.z,b(r,[a,0])||e.a.z);return t[a]=[i,Math.max(b(n,[a,1]),b(r,[a,1]))],t}),{})},z:{}},p:function(t,r){var a,i,o=b(r,h("properties",n)),s=e.p(t,r);return null==o||(null==(i=s)||"object"==typeof i&&0===Object.keys(i).length||i===e.a.z)?{}:((a={})[o]=[s,b(r,["time"],k)],a)},r:function(t,n){var r={};return Object.keys(n).forEach((function(a){return r[a]=e.r(t,n[a][0])})),r},d:{l:function(){return null},i:function(){return{}}}}},ge:function(e){return function(t){return t>=e}},ge_:function(e,t){return function(n){return b(n,e)>=t}},bse:function(e,t){return function(n){var r=b(n,e);return Q(r)===t}},bsne:function(e,t){return function(n){var r=b(n,e);return Q(r)!==t}},bsc:V,bsnc:function(e,t){return _(V(e,t))},bsc_:K,bsnc_:function(e,t){return _(K(e,t))},i_:y,ifp:function(e){return{a:{m:function(e,t){return t},z:null},p:function(e){return null},r:function(t,n){return function(t){return O(t,"1p",e)}(t)},d:{l:function(e,t){return null},i:function(e){return null}}}},isp:function(e,t,n,r){return{a:{m:function(e,t){return t},z:!1},p:function(n,r){return O(n,e,t)},r:function(a,i){return T(a,e,t,n,r)},d:{l:function(e,t){return null},i:function(e){return Array.isArray(e)&&(!!+e[2]||!1)}}}},itp:function(e,t,n,r){return{a:{m:function(e,t){return t},z:!1},p:function(n,r){return O(n,e,t)},r:function(a,i){return T(a,e,t,n,r)},d:{l:function(e,t){return null},i:function(e){return Array.isArray(e)&&(!!+e[2]||!1)}}}},k:b,l:function(e){return function(t){return t<e}},l_:function(e,t){return function(n){var r=b(n,e);return null!==r&&r<t}},le:function(e){return function(t){return t<=e}},le_:function(e,t){return function(n){var r=b(n,e);return null!==r&&r<=t}},lm:function(e,t){var n=function(t){return function(e,t,n){if(void 0===t[n])return NaN;var r=e||{};if(0==(r["1p"]||[]).length)return NaN;var a,i=t[n]||{},o=(i["1p"]||{}).const||0;return Object.keys(r).forEach((function(e){r[e].forEach((function(t){var n=(i[e]||{})[t]||0;o+=n}))})),a=o,1/(1+Math.pow(Math.E,-a))}(t.getSegmentsArray(),t.getLookalikeModels(),e)};return{a:{m:function(e,t){return t},z:null},p:function(e){return null},r:function(e,r){return t(n(e))},d:{l:function(e,t){return null},i:function(e){return null}}}},ltn:j,mnw:function(t,n,r,a){void 0===a&&(a=y);var i=Number.POSITIVE_INFINITY;return{a:{m:function(e,t){return e<t?e:t},z:i},p:function(a,o){return b(o,["name"])===e(t)&&n(o)?b(o,r):i},r:function(e,t){return a(t)},d:{l:function(a){return b(a,["name"])===e(t)&&n(a)?["n",b(a,r)]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:i}}}},mxw:function(t,n,r,a){void 0===a&&(a=y);var i=Number.NEGATIVE_INFINITY;return{a:{m:function(e,t){return e>t?e:t},z:i},p:function(a,o){return b(o,["name"])===e(t)&&n(o)?b(o,r):i},r:function(e,t){return a(t)},d:{l:function(a){return b(a,["name"])===e(t)&&n(a)?["v",b(a,r)]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:i}}}},n0:_(y),n:function(e){return function(t){return t!==e}},nt:_,n_:function(e,t){return function(n){return b(n,e)!==t}},o:E,ocq:function(e,t){return{p:function(n,r){return[e.p(n,r),t.p(n,r)]},r:function(n,r){return e.r(n,r[0])||t.r(n,r[1])},a:{z:[e.a.z,t.a.z],m:function(n,r){return[e.a.m(n[0],r[0]),t.a.m(n[1],r[1])]}},d:{l:function(n,r){return R(e.d.l(n,r),t.d.l(n,r))},i:function(n,r){return n?[e.d.i(n.a||null,r),t.d.i(n.b||null,r)]:[e.a.z,t.a.z]},m:function(n){return Y(e,t,n)}}}},ocqs:N,oe:function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r},os:function(e,t,n){var r=h("properties",t);return function(t){for(var a=b(t,r),i=n.length,o=!1,s=0;s<i;s++){var c=n[s];if(o=e(c)(a))break}return o}},pacs:function(e,t){return function(n){return H(t,v(n,e))}},pb:function(e,t,n){return function(r){return G(t,n)(v(r,e))}},pc:function(e,t){return function(n){var r=v(n,e);return null!=r&&Array.isArray(r)&&r.indexOf(t)>=0}},pc_:function(e,t){return function(n){var r=v(n,e),a=s(t);return null!=r&&Array.isArray(r)&&r.indexOf(a)>=0}},pe:function(e,t){return function(n){return v(n,e)===t}},pg:function(e,t){return function(n){return v(n,e)>t}},pge:function(e,t){return function(n){return v(n,e)>=t}},pl:function(e,t){return function(n){var r=v(n,e);return null!==r&&r<t}},ple:function(e,t){return function(n){var r=v(n,e);return null!==r&&r<=t}},pn:function(e,t){return function(n){return v(n,e)!==t}},ps:function(e,t){return function(n){return q(t)(v(n,e))}},pw:function(t,n,r,a){return void 0===a&&(a=y),{a:{m:function(e,t){return e*t},z:1},p:function(a,i){return b(i,["name"])===e(t)&&n(i)?b(i,r):1},r:function(e,t){return a(t)},d:{l:function(a){return b(a,["name"])===e(t)&&n(a)?(i=b(a,r))>=1?["m2p",i]:i>0?["m2p",null,1/i]:0==i?["m2p",0]:i>-1?["m2p",null,1/i,1]:["m2p",i,null,1]:null;var i},i:function(e){return e?Array.isArray(e)?0===(t=e.slice(1))[0]?0:Math.pow(-1,t[2]||0)*(t[0]||1)/(t[1]||1):e:1;var t}}}},r:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return o[e].apply(o,l([],d(t),!1))},ref:function(e){return function(t){return i[e](t)}},s:q,s_:function(e,t){return function(n){return q(t)(b(n,e))}},scq:function(e,t,n){return void 0===n&&(n=y),{p:function(n,r){return[e.p(n,r),t.p(n,r)]},r:function(r,a){return n(e.r(r,a[0])+t.r(r,a[1]))},a:{z:[e.a.z,t.a.z],m:function(n,r){return[e.a.m(n[0],r[0]),t.a.m(n[1],r[1])]}},d:{l:function(n,r){return R(e.d.l(n,r),t.d.l(n,r))},i:function(n,r){return n?[e.d.i(n.a||null,r),t.d.i(n.b||null,r)]:[e.a.z,t.a.z]},m:function(n){return Y(e,t,n)}}}},sq:A,dscq:function(t,n,r,a){var i="x".concat(a),o=function(e){return e?2===e.length?["p",i,"",e[1]]:e:null},s=function(r){var a,o=function(e){return b(e,["session_id"])}(r);return o&&b(r,["name"])===e(t)&&n(r)?["p",i,"",(a={},a[o]=1,a)]:null};return{a:{m:function(e,t){var n=o(e),r=o(t);return n?r?["p",i,"",u(u({},n[3]),r[3])]:n:r},z:null},p:function(e,t){return s(t)},r:function(e,t){var n=t&&t[3]&&"object"==typeof t[3]?Object.keys(t[3]).length:0;return r(n)},d:{l:function(e,t){return s(e)},i:function(e,t){return o(e)}}}},sw:function(t,n,r,a){return void 0===a&&(a=y),{a:{m:function(e,t){return e+t},z:0},p:function(a,i){return b(i,["name"])===e(t)&&n(i)?b(i,r):0},r:function(e,t){return a(t)},d:{l:function(a){return function(r){return b(r,["name"])===e(t)&&n(r)}(a)?(i=b(a,r))<0?["p2",null,-i]:["p2",i]:null;var i},i:function(e){return e?Array.isArray(e)?((t="p2"===e[0]?e.slice(1):e)[0]||0)-(t[1]||0):e:0;var t}}}},t:w,tb:function(e,t){return function(n){return G(e,t)(z(n))}},te:function(e){return function(t){return z(t)===e}},te_:function(e,t){return function(n){return U(e,n)===t}},tg:function(e){return function(t){return z(t)>e}},tg_:function(e,t){return function(n){return U(e,n)>t}},tge:function(e){return function(t){return z(t)>=e}},tge_:function(e,t){return function(n){return U(e,n)>=t}},ti:k,tl:function(e){return function(t){return z(t)<e}},tl_:function(e,t){return function(n){return U(e,n)<t}},tle:function(e){return function(t){return z(t)<e}},tle_:function(e,t){return function(n){return U(e,n)<t}},tn:function(e){return function(t){return z(t)!==e}},tn_:function(e,t){return function(n){return U(e,n)!==t}},tw:function(e,t,n){var r=n||100,a=Math.ceil(t/r),i=function(e){return Math.floor(e/a)},o=function(e,n,r){var a;return[i(e.getTime()-t),(a={},a[i(n)]=r,a)]},s=function(t,n){var r=Math.max(t[0],n[0]),a=Object.keys(t[1]).filter((function(e){return e>=r})).concat(Object.keys(n[1]).filter((function(e){return e>=r}))).filter((function(e,t,n){return n.indexOf(e)===t})).reduce((function(r,a){var i=e.a.m(t[1][a]||e.a.z,n[1][a]||e.a.z);return i!==e.a.z&&(r[a]=i),r}),{});return[r,a]},c=[Number.NEGATIVE_INFINITY,{}],u=function(e){var t=function(t){return t.map((function(t){var n=d(t,3),r=n[0],a=(n[1],n[2]);return o(e.t,a,r)})).reduce(s,c)};return s(t(e.in),t(e.out))},f=function(t){if(void 0!==t.result)return f(t.result);if(void 0!==t.w)return f(u(t));var n=d(t,2),r=(n[0],n[1]),a=null,i={};for(var o in r){var s=e.d.m({result:r[o]});s&&Array.isArray(s)&&(a=s[0],i[o]=g(s.slice(1)))}return a&&[a,"w",t[0],i]};return{a:{m:function(e,t){var n=e.w?u(e):e;return s(n,t)},z:c},p:function(t,n){return o(t.getCurrentTime(),b(n,["time"],k),e.p(t,n))},r:function(t,n){var r=(n.w?u(n):n)[1];return e.r(t,Object.keys(r).reduce((function(t,n){return e.a.m(t,r[n])}),e.a.z))},d:e.d.tw||{l:function(t,n){var r=e.d.l(t,n),a=e.d.i(r,n);return r&&l([r[0],"w"],d(o(n.getCurrentTime(),b(t,["time"],k),a)),!1)},i:function(e,n){var r=Array.isArray(e)?e:[],a=n.getCurrentTime(),o=i(a.getTime()-t);return[r[2]||null,Object.keys(r[3]||{}).map((function(e){var t;return(t={})[e]=r[3][e],t})).reduce((function(e,t){return Object.keys(t).filter((function(e){return parseInt(e)>=o})).forEach((function(n){return e[n]=t[n]})),e}),{})]},m:e.d.m&&f}}},vgw:function(t,n,r,a){void 0===a&&(a=y);var i={v:0,k:0};return{a:{m:function(e,t){var n=e.k+t.k;return{v:n?e.v+t.k*(t.v-e.v)/n:0,k:n}},z:i},p:function(a,o){return b(o,["name"])===e(t)&&n(o)?{v:b(o,r),k:1}:i},r:function(e,t){return a(t.v)},d:{l:function(a){return b(a,["name"])===e(t)&&n(a)?0==(i=b(a,r))?["p3",1]:i<0?["p3",1,null,-i]:["p3",1,i]:null;var i},i:function(e){return e?Array.isArray(e)?{v:(((t=e.slice(1))[1]||0)-(t[2]||0))/(t[0]||1),k:t[0]||0}:void 0:i;var t}}}},vq:M,w:function(e){return function(t){return t===s(e)}},x:function(e){return function(t){return t!==s(e)}},y:function(e,t){return function(r){return v(r,e)===n[t]}},y_:function(e,t){return function(r){return b(r,e)===n[t]}},z:function(e,t){return function(r){return v(r,e)!==n[t]}},z_:function(e,t){return function(r){return b(r,e)!==n[t]}}}}()},249:function(e,t,n){var r;e.exports=(r=r||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(480)}catch(e){}var a=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},s=o.lib={},c=s.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=c.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,a=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<a;i++){var o=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=o<<24-(r+i)%4*8}else for(var s=0;s<a;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=a,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(a());return new u.init(t,e)}}),f=o.enc={},d=f.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],a=0;a<n;a++){var i=t[a>>>2]>>>24-a%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},l=f.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],a=0;a<n;a++){var i=t[a>>>2]>>>24-a%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},g=f.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},m=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=g.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,a=r.words,i=r.sigBytes,o=this.blockSize,s=i/(4*o),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,f=e.min(4*c,i);if(c){for(var d=0;d<c;d+=o)this._doProcessBlock(a,d);n=a.splice(0,c),r.sigBytes-=f}return new u.init(n,f)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(s.Hasher=m.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}}),o.algo={});return o}(Math),r)},269:function(e,t,n){var r;e.exports=(r=n(249),function(){var e=r,t=e.lib.WordArray;function n(e,n,r){for(var a=[],i=0,o=0;o<n;o++)if(o%4){var s=r[e.charCodeAt(o-1)]<<o%4*2|r[e.charCodeAt(o)]>>>6-o%4*2;a[i>>>2]|=s<<24-i%4*8,i++}return t.create(a,i)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var a=[],i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<n;s++)a.push(r.charAt(o>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;a.length%4;)a.push(c);return a.join("")},parse:function(e){var t=e.length,r=this._map,a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var i=0;i<r.length;i++)a[r.charCodeAt(i)]=i}var o=r.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(t=s)}return n(e,t,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64)},783:function(e,t,n){var r,a,i,o,s,c,u,f;e.exports=(f=n(249),a=(r=f).lib,i=a.WordArray,o=a.Hasher,s=r.algo,c=[],u=s.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],a=n[1],i=n[2],o=n[3],s=n[4],u=0;u<80;u++){if(u<16)c[u]=0|e[t+u];else{var f=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=f<<1|f>>>31}var d=(r<<5|r>>>27)+s+c[u];d+=u<20?1518500249+(a&i|~a&o):u<40?1859775393+(a^i^o):u<60?(a&i|a&o|i&o)-1894007588:(a^i^o)-899497514,s=o,o=i,i=a<<30|a>>>2,a=r,r=d}n[0]=n[0]+r|0,n[1]=n[1]+a|0,n[2]=n[2]+i|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=o._createHelper(u),r.HmacSHA1=o._createHmacHelper(u),f.SHA1)},480:()=>{}},c={};function u(e){var t=c[e];if(void 0!==t)return t.exports;var n=c[e]={exports:{}};return s[e].call(n.exports,n,n.exports,u),n.exports}u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();var f=u(234);e=f.env})();var t=["PageviewComplete","PageviewEngagement","SegmentEntry","Pageview","SlotViewable","SlotClicked","SurveyResponse"],n=e.frontDecode("/art and entertainment/books and literature\\t43\\t/poetry\\t23\\tcomics and animation\\t23\\tdance\\t23\\tmovies and tv\\t36\\t/animated\\t37\\tchildren\'s\\t38\\tomedies\\t37\\tdocumentaries\\t37\\treality\\t38\\tomantic comedies\\t37\\ttelevision\\t24\\tusic/music genres/classical music\\t42\\topera\\t42\\tpop music\\t42\\tsoundtracks\\t23\\tshows and events/classical concert\\t23\\ttheatre\\t2\\tutomotive and vehicles/cars/luxury\\t25\\tmotorcycles\\t1\\tbusiness and industrial\\t24\\t/fashion industry\\t1\\teducation/adult education\\t11\\tlanguage learning\\t1\\tfamily and parenting\\t2\\tinance/accounting and auditing/tax preparation and planning\\t9\\tfinancial news\\t2\\tood and drink/dining out\\t16\\tfood/fruits and vegetables\\t21\\tsalads\\t16\\thealthy eating\\t16\\tvegan\\t19\\tetarian\\t1\\thealth and fitness\\t2\\tobbies and interests/arts and crafts/photography\\t23\\tbirdwatching\\t3\\tme and garden/gardening and landscaping\\t17\\thome improvement and repair\\t1\\tpets/birds\\t6\\tlarge animals\\t1\\tsociety/crime\\t9\\tdating\\t2\\tports/diving\\t8\\thorse racing\\t13\\ts\\t8\\tolympics/paralympic games\\t8\\tskiing\\t8\\tvolleyball/beach volleyball\\t2\\ttyle and fashion/beauty/cosmetics\\t1\\ttechnology and computing/consumer electronics/tv and video equipment\\t\\t101 Dálmatas\\t\\tAdicciones\\t1\\tutomotive\\t10\\t~AutoBodyStyles\\t16\\tuyingAndSelling\\t15\\tParts\\t15\\tRepair\\t15\\tTechnology\\t16\\type\\t11\\tCarCulture\\t11\\tMotorcycles\\t11\\tScooters\\t\\tBambi\\t1\\tlancanieves\\t1\\tooksAndLiterature\\t18\\t~ComicsAndGraphicNovels\\t19\\tPoetry\\t1\\tusinessAndFinance\\t18\\t~Business\\t19\\tEconomy\\t19\\tIndustries\\t\\tCareers\\t7\\t~Apprenticeships\\t8\\tCareerPlanning\\t8\\tJobSearch\\t8\\tRemoteWorking\\t1\\tenicienta\\t\\tDermatología\\t1\\tisney\\t1\\tumbo\\t\\tEIR\\t1\\tducation\\t9\\t~Homeschooling\\t14\\tworkAndStudy\\t10\\tLanguageLearning\\t10\\tPrimaryEducation\\t10\\tSecondaryEducation\\t1\\tl Rey León\\t1\\tmprendimiento\\t5\\tsas de Tecnología\\t1\\tnfermería\\t1\\tventsAndAttractions\\t20\\t~AmusementAndThemeParks\\t21\\tBars&Restaurants\\t26\\tamp;Restaurants\\t21\\tCasinos&Gambling\\t29\\tamp;Gambling\\t22\\tinemasAndEvents\\t22\\toncerts&amp;MusicEvents\\t21\\tMalls&ShoppingCenters\\t27\\tamp;ShoppingCenters\\t22\\tuseums&amp;Galleries\\t21\\tNational&CivicHolidays\\t30\\tamp;CivicHolidays\\t22\\tightclubs\\t21\\tOutdoorActivities\\t21\\tParks&amp;Nature\\t22\\tersonalCelebrations&LifeEvents\\t42\\tamp;LifeEvents\\t21\\tZoos&amp;Aquariums\\t\\tFIR\\t1\\tamilyAndRelationships\\t22\\t~Eldercare\\t23\\tMarriageAndCivilUnions\\t23\\tParenting\\t2\\trmacéutico\\t1\\tineArt\\t7\\t~Dance\\t9\\tesign\\t9\\tigitalArts\\t8\\tOpera\\t8\\tTheater\\t1\\tood&Drink\\t10\\t~AlcoholicBeverages\\t11\\tBarbecuesAndGrilling\\t11\\tCooking\\t11\\tDessertsAndBaking\\t12\\tiningOut\\t11\\tNonAlcoholicBeverages\\t5\\tamp;Drink\\t14\\t~AlcoholicBeverages\\t15\\tBarbecuesAndGrilling\\t15\\tCooking\\t15\\tDessertsAndBaking\\t16\\tiningOut\\t15\\tHealthyCookingAndEating\\t15\\tNonAlcoholicBeverages\\t15\\tVeganDiets\\t18\\tetarianDiets\\t15\\tWorldCuisines\\t\\tH\\t1\\tealthyLiving\\t13\\t~FitnessAndExercise\\t14\\tMensHealth\\t14\\tNutrition\\t14\\tSeniorHealth\\t14\\tWeightLoss\\t15\\tomensHealth\\t1\\tobbies&Interests~ArtsAndCrafts\\t18\\tCollecting\\t18\\tMagicAndIllusion\\t8\\tamp;Interests~ArtsAndCrafts\\t22\\tBirdwatching\\t22\\tCigars\\t23\\tollecting\\t22\\tGamesAndPuzzles\\t22\\tMagicAndIllusion\\t23\\todelToys\\t23\\tusicalInstruments\\t2\\tme&Garden\\t11\\t~Gardening\\t12\\tHomeAppliances\\t5\\tamp;Garden\\t15\\t~Gardening\\t16\\tHomeAppliances\\t20\\tImprovement\\t16\\tRemodeling&amp;Construction\\t\\tIniciar un negocio\\t\\tM\\t1\\tIR\\t1\\tedicalHealth\\t13\\t~CosmeticMedicalServices\\t14\\tDiseasesAndConditions\\t14\\tMedicalTests\\t14\\tPharmaceuticalDrugs\\t14\\tSurgery\\t14\\tVaccines\\t5\\tina Familiar y Comunitaria\\t1\\tovies\\t6\\t~ComedyMovies\\t7\\tHorrorMovies\\t7\\tRomanceMovies\\t1\\tusicAndAudio\\t13\\t~DanceAndElectronicMusic\\t14\\tHipHopMusic\\t14\\tRockMusic\\t14\\tSoundtracksTVAndShowtunes\\t14\\tWorldInternationalMusic\\t1\\tédico\\t\\tNewsAndPolitics\\t15\\t~Crime\\t16\\tDisasters\\t16\\tPolitics\\t16\\tWeather\\t\\tPREMIUM\\t1\\tersonalFinance\\t15\\t~ConsumerBanking\\t16\\tFinancialPlanning\\t16\\tInsurance\\t16\\tPersonalInvesting\\t16\\tRetirementPlanning\\t2\\tts~Cats\\t5\\tDogs\\t5\\tLargeAnimals\\t5\\tReptiles\\t1\\topCulture\\t10\\t~CelebrityDeaths\\t20\\tRelationships\\t20\\tStyle\\t11\\tHumorAndSatire\\t1\\tymes\\t\\tRealEstate\\t10\\t~Apartments\\t11\\tDevelopmentalSites\\t11\\tRealEstateBuyingAndSelling\\t2\\tfugiados\\t2\\tligion&Spirituality\\t21\\t~Christianity\\t22\\tIslam\\t22\\tJudaism\\t9\\tamp;Spirituality\\t25\\t~Astrology\\t26\\tChristianity\\t26\\tHinduism\\t26\\tIslam\\t26\\tJudaism\\t26\\tSpirituality\\t\\tSIGNED\\t1\\tcience\\t7\\t~BiologicalSciences\\t8\\tChemistry\\t8\\tEnvironment\\t8\\tGenetics\\t10\\tography\\t8\\tPhysics\\t8\\tSpaceAndAstronomy\\t1\\thopping\\t8\\t~SalesAndPromotions\\t1\\tports\\t6\\t~AutoRacing\\t7\\tBasketball\\t8\\toxing\\t7\\tCycling\\t7\\tExtremeSports\\t7\\tGolf\\t7\\tIceHockey\\t7\\tMartialArts\\t7\\tOlympicSports\\t7\\tRugby\\t7\\tSailing\\t8\\tkiing\\t8\\toccer\\t8\\tportsEquipment\\t8\\twimming\\t7\\tTennis\\t8\\trackAndField\\t7\\tWalking\\t8\\trestling\\t1\\ttyle&Fashion\\t13\\t~Beauty\\t15\\todyArt\\t14\\tHighFashion\\t14\\tPersonalCare\\t6\\tamp;Fashion\\t17\\t~Beauty\\t19\\todyArt\\t18\\tHighFashion\\t18\\tPersonalCare\\t18\\tStreetStyle\\t\\tTechnology&Computing~Computing\\t23\\tnsumerElectronics\\t11\\tamp;Computing\\t24\\t~ArtificialIntelligence\\t25\\tComputing\\t27\\tnsumerElectronics\\t25\\tRobotics\\t2\\tlevision\\t10\\t~ComedyTV\\t11\\tFactualTV\\t11\\tRealityTV\\t11\\tSportsTV\\t1\\toy Story\\t1\\trabajo Social\\t3\\tvel\\t6\\t~TravelLocations\\t13\\tType\\t\\tVideoGaming\\t11\\t~ConsoleGames\\t\\tWarAndConflicts\\t\\taceleradora\\t1\\tdicciones\\t1\\tndroid\\t1\\tplicaciones móviles\\t8\\tón móvil\\t2\\tps\\t2\\tuestas-deportivas\\t1\\tsuntos sociales - gente - ninos\\t20\\trupos minoritarios - homosexuales\\t1\\ttletico\\t6\\tsmo\\t1\\tutomotive\\t10\\t~autobodystyles\\t16\\tuyingandselling\\t15\\tparts\\t15\\trepair\\t15\\tsafety\\t15\\ttype\\t11\\tcarculture\\t11\\tmotorcycles\\t11\\tscooters\\t1\\tyudas\\t6\\t sociales\\t\\tbalonmano\\t2\\trcelona\\t1\\tig data\\t1\\tlock chain\\t5\\tchain\\t1\\tooksandliterature\\t18\\t~comicsandgraphicnovels\\t19\\tpoetry\\t1\\tusinessandfinance\\t18\\t~business\\t19\\teconomy\\t19\\tindustries\\t\\tcalentamiento global\\t2\\tmbio climático\\t2\\treers\\t7\\t~apprenticeships\\t8\\tcareerplanning\\t8\\tjobsearch\\t8\\tremoteworking\\t1\\tentro comunitario\\t1\\tloud computing\\t1\\tontaminación\\t2\\tworking\\t1\\trowdfunding\\t\\tdeforestación\\t2\\trechos\\t2\\tsarrollo de carrera\\t3\\templeados\\t8\\to\\t1\\tiscriminación\\t3\\tney\\t6\\t plus\\t6\\t-plus\\t2\\tversidad\\t1\\tonaciones\\t4\\tr\\t\\tecologista\\t3\\tmmerce\\t3\\tnomía circular\\t1\\tducation\\t9\\t~earlychildhoodeducation\\t10\\thomeworkandstudy\\t10\\tlanguagelearning\\t10\\tonlineeducation\\t10\\tsecondaryeducation\\t1\\tlmundo.es\\t1\\tmpleo\\t3\\trendedores\\t13\\t y empleo\\t8\\tr\\t7\\timiento\\t5\\tsa\\t7\\trias\\t9\\to\\t7\\ts\\t8\\t de tecnologia\\t8\\t-de-tecnologia\\t1\\tn\\t2\\tergía renovable\\t1\\tventsandattractions\\t20\\t~awardsshows\\t21\\tbars&amp;restaurants\\t21\\tcasinos&amp;gambling\\t22\\toncerts&amp;musicevents\\t21\\tmalls&amp;shoppingcenters\\t22\\tuseums&amp;galleries\\t21\\tnational&amp;civicholidays\\t22\\tightclubs\\t21\\toutdooractivities\\t21\\tpersonalcelebrations&amp;lifeevents\\t21\\tzoos&amp;aquariums\\t1\\txclusión social\\t2\\tpansion y empleo\\t9\\t-empleo\\t10\\ty-empleo\\t9\\t.com\\t\\tfamilyandrelationships\\t22\\t~eldercare\\t23\\tmarriageandcivilunions\\t23\\tparenting\\t1\\tineart\\t7\\t~dance\\t9\\tesign\\t8\\ttheater\\t1\\tood&amp;drink\\t14\\t~alcoholicbeverages\\t15\\tcooking\\t15\\tdessertsandbaking\\t16\\tiningout\\t15\\thealthycookingandeating\\t15\\tnonalcoholicbeverages\\t15\\tvegetariandiets\\t15\\tworldcuisines\\t1\\tundación\\t2\\ttbol\\t6\\t-femenino\\t7\\tsala\\t\\thackathon\\t1\\tealthyliving\\t13\\t~fitnessandexercise\\t14\\tmenshealth\\t14\\tnutrition\\t14\\tseniorhealth\\t14\\tweightloss\\t15\\tomenshealth\\t1\\tobbies&amp;interests~artsandcrafts\\t22\\tcollecting\\t22\\tgamesandpuzzles\\t22\\tmagicandillusion\\t2\\tme&amp;garden\\t15\\t~gardening\\t16\\thomeappliances\\t20\\tsecurity\\t16\\tremodeling&amp;construction\\t3\\tofobia\\t1\\tttps://cuidateplus.marca.com\\t\\tia\\t1\\tgualdad\\t1\\tnclusión laboral\\t3\\tubadora\\t2\\ticiar un negocio\\t2\\tnovacion y empresas\\t6\\tr\\t2\\ttegración social\\t2\\tversiones\\t11\\t éticas\\t7\\tón\\t9\\t ética\\t6\\tor\\t5\\ttir\\t3\\tierten\\t1\\tos\\t\\tjornada laboral\\t\\tmachine learning\\t2\\trca.com\\t1\\tedicalhealth\\t13\\t~cosmeticmedicalservices\\t14\\tdiseasesandconditions\\t14\\tmedicaltests\\t14\\tpharmaceuticaldrugs\\t14\\tsurgery\\t14\\tvaccines\\t5\\to\\t4\\toambiental\\t12\\te\\t1\\tma\\t1\\toda sostenible\\t2\\tvies\\t6\\t~actionandadventuremovies\\t7\\tdramamovies\\t1\\tusicandaudio\\t13\\t~danceandelectronicmusic\\t14\\thiphopmusic\\t14\\tworldinternationalmusic\\t1\\tx\\t1\\tédico\\t\\tnavidad\\t1\\tetflix\\t2\\twsandpolitics\\t15\\t~crime\\t16\\tdisasters\\t16\\tpolitics\\t16\\tweather\\t\\tobra social\\t1\\tng\\t2\\tu\\t\\tpersonalfinance\\t15\\t~consumerbanking\\t16\\tinsurance\\t16\\tpersonaldebt\\t24\\tinvesting\\t16\\tretirementplanning\\t2\\tts~cats\\t5\\tdogs\\t5\\tlargeanimals\\t5\\treptiles\\t5\\tveterinarymedicine\\t1\\tixar\\t1\\tlataforma digital\\t10\\ts digitales\\t1\\tobreza\\t2\\tpculture\\t10\\t~celebritydeaths\\t20\\trelationships\\t20\\tstyle\\t1\\tremium\\t2\\tograma social\\t8\\ts sociales\\t1\\tyme\\t4\\ts\\t\\treal-madrid\\t4\\testate\\t10\\t~apartments\\t11\\trealestatebuyingandselling\\t2\\tcaudación\\t3\\ticlaje\\t7\\tr\\t2\\tfugiados\\t2\\tgalos\\t7\\t navidad\\t3\\tugiado\\t2\\tligion&amp;spirituality~astrology\\t26\\tchristianity\\t26\\tislam\\t26\\tjudaism\\t9\\tspirituality\\t2\\tsponsabilidad social\\t22\\t corporativa\\t\\tsaas\\t2\\tlud mental\\t1\\tcience\\t7\\t~biologicalsciences\\t8\\tchemistry\\t8\\tenvironment\\t8\\tgeography\\t11\\tlogy\\t8\\tphysics\\t8\\tspaceandastronomy\\t1\\teguridad social\\t1\\thopping\\t8\\t~salesandpromotions\\t1\\tigned\\t1\\tolidaridad\\t8\\to\\t2\\tstenibilidad\\t8\\tle\\t1\\tports\\t6\\t~autoracing\\t7\\tbaseball\\t10\\tketball\\t8\\toxing\\t7\\tcycling\\t7\\textremesports\\t7\\tgolf\\t8\\tymnastics\\t7\\thuntingandshooting\\t7\\tmartialarts\\t7\\trugby\\t7\\tsailing\\t8\\toccer\\t7\\ttennis\\t8\\trackandfield\\t7\\twalking\\t1\\ttart up\\t5\\tup\\t2\\tyle&amp;fashion\\t17\\t~beauty\\t18\\thighfashion\\t18\\tpersonalcare\\t1\\tubvencion\\t8\\tón\\t2\\tmar\\t\\ttalento\\t1\\technology&amp;computing\\t24\\t~artificialintelligence\\t25\\tcomputing\\t27\\tnsumerelectronics\\t25\\tvirtualreality\\t3\\tnologia e innovacion\\t2\\tlevision\\t10\\t~dramatv\\t11\\tfactualtv\\t11\\trealitytv\\t11\\tsportstv\\t3\\tva.com\\t1\\transformacion digital\\t3\\tvel\\t6\\t~travellocations\\t13\\ttype\\t\\tus\\t\\tventure capital\\t1\\tideogaming\\t11\\t~consolegames\\t1\\toluntariado\\t9\\tos\\t\\twarandconflicts\\t1\\tww.elmundo.es\\t5\\txpansion.com\\t17\\t/directivos\\t4\\tmarca.com\\t4\\ttelva.com"),r=[["client","domain"],["article","iab_taxonomy"],["segment_number"],["classifications_watson","taxonomy_labels"],["client","url"],["content","section"],["user","age"],["campaign_id"],["article","keywords"],["answer","text"],["user","category"],["content","domain"],["content","subsection1"],["user","profesion"],["line_item_id"],["client","title"],["client","type"],["question","text"],["user","type"],["user","gender"],["isp_info","isp"],["geo_info","country"],["isp_info","autonomous_system_organization"]],a=[],i=[e.os(e.cx,1,[398,396,129,134,133,400,397,132,399]),e.os(e.cx,1,[133,399,126]),e.os(e.cx,1,[176,453]),e.os(e.cx,1,[221,222,516,513,220,223,226,514,224,515]),e.os(e.cx,1,[394,116,121]),e.os(e.cx,1,[473,192,190]),e.os(e.w,11,[589,387]),e.os(e.cx,1,[276,278]),e.os(e.cx,1,[265,260]),e.os(e.cx,1,[222,218,217,224]),e.os(e.cx,1,[86,356]),e.os(e.cx,8,[215,509,345,530,297,296,282,563,507,458,536,311,51,290,492,585,519,518]),e.os(e.cx,1,[323,68,69,70,320,321,322,67]),e.os(e.cx,1,[151,148]),e.os(e.cx,1,[219,225]),e.os(e.cx,1,[479,481,478,482,199,196,480,195,198,483]),e.os(e.cx,1,[374,95,96]),e.os(e.cx,1,[568,274]),e.os(e.cx,1,[551,244,543,249,545,243,538,251,541,550,248,242,238]),e.os(e.cx,1,[301,58,57,53,52,305,308,59,306,300,307,303,304,54,60,56]),e.bsc_(17,["98ATXnZJ"]),e.os(e.cx,1,[190,471]),e.os(e.cx,1,[209,207,205]),e.os(e.cx,1,[132,125]),e.os(e.cx,1,[320,67,70]),e.os(e.cx,1,[142,141,147,144]),e.os(e.cx,1,[174,451]),e.os(e.cx,1,[264,559,267,557,560,263,558,268,266]),e.os(e.cx,1,[66,64]),e.os(e.cx,1,[274,568,270]),e.os(e.cx,1,[94,373,93]),e.os(e.cx,1,[202,203]),e.os(e.cx,1,[120,394,392,116]),e.os(e.w,11,[591,446]),e.os(e.cx,1,[568,274,270]),e.os(e.cx,8,[338,570,433,360,386,384,385,210,501,368,89,367,358,365,364,556,359,363,366,577,167,432,362,88]),e.os(e.w,13,[80,90]),e.os(e.cx,1,[266,559]),e.os(e.cx,1,[285,284,283,579,580,578]),e.os(e.cx,1,[142,411]),e.os(e.cx,1,[264,259]),e.os(e.cx,1,[133,129,128,126,124,122,130,134,131,123,127,136]),e.os(e.cx,1,[102,103,94,107,93,91,108]),e.os(e.cx,1,[134,396,400,138,133,402,404,130,139,399,398,129,137,397,132,401,403]),e.os(e.s,11,[446]),e.os(e.s,18,[497,533]),e.os(e.cx,1,[285,284]),e.os(e.s,15,[324,325,331,333,336,337,340,341,346,347,348,350,370,383,405,426,429,430,435,437,439,444,455,456,475,476,477,492,498,499,506,507,509,512,518,521,534,535,536,537,585,586]),e.as(e.x,5,[369,581,466]),e.os(e.cx,1,[175,452]),e.os(e.cx,1,[234,230]),e.os(e.cx,1,[170,174,175,176,172,173]),e.os(e.cx,1,[70,323]),e.os(e.cx,1,[113,114]),e.os(e.cx,1,[174,453,176,449,172,451,447,450,170]),e.os(e.cx,1,[70,67,68]),e.os(e.cx,1,[64,65]),e.os(e.cx,1,[309,60,307,304,58,308,300,61,306,59,302,52,301]),e.os(e.cx,1,[103,378,371,374,94,91,373,100,98]),e.os(e.cx,1,[462,182]),e.os(e.cx,1,[375,98]),e.os(e.w,13,[169,188]),e.os(e.cx,8,[50,281,79,87,62,76,63,343,78,342]),e.os(e.cx,1,[212,504]),e.os(e.cx,1,[278,573]),e.os(e.cx,1,[449,172]),e.os(e.cx,1,[390,114,391,113]),e.os(e.cx,1,[504,212]),e.os(e.cx,1,[449,172,451,174,450,173,453,176,452,175,447,170]),e.os(e.cx,1,[285,580]),e.os(e.cx,1,[156,149,151,148,150,154]),e.bsc_(17,["/jnv+35M","iIKcvcF0"]),e.os(e.cx,1,[496,207,205,209,208,493,495,494,206]),e.bsc_(17,["14kibZg5"]),e.os(e.cx,1,[151,418]),e.os(e.cx,1,[202,488,485,201,487,203,204,484,486]),e.os(e.cx,1,[517,216,587,288,472,191]),e.os(e.w,16,[443,291]),e.os(e.cx,1,[94,91,378,373,382,103,101,371,104,108,375,109,105,377,376,98,97,374,372,379,92,381,106,380]),e.os(e.cx,1,[252,242,548]),e.os(e.cx,1,[68,321]),e.os(e.e,14,[196421776,196421557,196421770]),e.os(e.cx,1,[274,270]),e.os(e.cx,1,[130,397,123]),e.os(e.cx,1,[108,107,381]),e.os(e.cx,1,[195,199,196]),e.os(e.cx,1,[307,59]),e.os(e.cx,1,[270,274,271,269,273]),e.os(e.cx,1,[155,419]),e.os(e.cx,1,[308,60]),e.bsc_(17,["pa2iXK7M","xayB4Noh"]),e.os(e.cx,1,[206,494]),e.os(e.cx,1,[212,503,504,211]),e.os(e.cx,1,[222,217,514]),e.os(e.cx,1,[108,107]),e.os(e.cx,1,[451,172,174,447,171,449,170,176,453,448,452,175,173,450]),e.os(e.cx,1,[567,274,271,273,565,272,275,566,568,569]),e.os(e.cx,1,[473,192]),e.os(e.w,13,[110,115]),e.os(e.cx,1,[580,285]),e.os(e.cx,1,[114,391,390,113,389,112,111,388]),e.os(e.cx,8,[563,507,458,536,530,311,51,290,492,585,519,518]),e.os(e.cx,1,[196,479]),e.os(e.cx,1,[235,228,230,234]),e.os(e.cx,1,[531,236]),e.os(e.cx,1,[164,425,421,162,422,423]),e.os(e.cx,1,[69,323,320,70,321,68,67,322]),e.os(e.cx,1,[163,159,160,162]),e.os(e.w,16,[291,443]),e.os(e.cx,1,[182,462,465,183,184,464,463,186]),e.os(e.cx,1,[233,234,529,522,526]),e.os(e.cx,1,[212,213,505,214,211,504]),e.os(e.cx,1,[560,557,263,558]),e.os(e.cx,1,[132,125,398]),e.os(e.cx,1,[121,116,117]),e.os(e.cx,1,[267,266,263,558,557,264,559]),e.os(e.cx,1,[143,412]),e.os(e.cx,1,[100,99]),e.os(e.cx,1,[421,162,163,164]),e.os(e.cx,1,[280,575]),e.os(e.cx,1,[86,81]),e.os(e.cx,1,[235,529]),e.os(e.cx,1,[276,280,573,575,572,278,571,574]),e.os(e.cx,1,[459,178]),e.os(e.cx,1,[142,411,144,413,410,146,412,147,416,145,414,141,415]),e.os(e.cx,1,[264,558]),e.os(e.cx,1,[217,222]),e.os(e.cx,1,[240,251,249,243,246,244,241,242,254,245,239,248,250,247,238]),e.os(e.cx,1,[190,473,474,471,192,189]),e.os(e.cx,1,[351,86,356,352,81]),e.os(e.cx,1,[229,232,234,524,235,529,231,527,228,525,230,528,523,522]),e.os(e.cx,1,[479,196]),e.os(e.s,15,[346,347,350,370,383,405,430,437,439,455,456,475,476,498,499,507,508,509,518,536,537,585,586]),e.os(e.cx,1,[254,552]),e.os(e.cx,1,[114,391]),e.os(e.cx,1,[242,543]),e.os(e.cx,1,[172,449]),e.os(e.cx,1,[201,484]),e.os(e.cx,1,[200,197,195,199,479,482,196,478,198]),e.os(e.cx,1,[269,273]),e.os(e.cx,1,[103,378]),e.os(e.cx,1,[493,205]),e.os(e.cx,1,[280,276,277,279]),e.os(e.cx,1,[240,541]),e.os(e.cx,1,[284,579]),e.os(e.cx,1,[319,317,64,66,65,318]),e.os(e.cx,1,[193,474]),e.os(e.cx,1,[287,583,584]),e.os(e.s,15,[289,292,293,294,310,314,315,316,332,334,335,339,349,359,361,362,409,428,431,434,436,438,440,441,442,445,490,491,500,520,555,561,562,564,582]),e.os(e.cx,1,[525,231]),e.os(e.cx,1,[104,379]),e.os(e.cx,1,[462,182,185]),e.os(e.cx,1,[71,72,329,75,73,74,326,327,330]),e.os(e.cx,1,[551,251]),e.os(e.cx,1,[517,216,472,191]),e.os(e.cx,1,[528,234]),e.os(e.cx,1,[86,353,356,351,354,81,83,355,85,82,84]),e.os(e.cx,1,[317,64]),e.os(e.cx,1,[126,133]),e.os(e.cx,1,[202,485]),e.os(e.cx,1,[274,569,273,272,568,565,566,567,271]),e.os(e.cx,1,[320,67,478,195]),e.os(e.cx,1,[264,558,259]),e.os(e.cx,1,[287,286]),e.os(e.cx,1,[192,473]),e.os(e.cx,1,[237,532,236,531]),e.os(e.cx,1,[164,166,424,423,165,162,421,425,163]),e.os(e.cx,1,[482,199]),e.os(e.cx,1,[71,330,74,72,326,327,328,75]),e.os(e.cx,1,[193,192,191,190]),e.os(e.cx,1,[567,273]),e.os(e.cx,1,[178,460,459,179,180,181,461]),e.os(e.cx,1,[134,127,400]),e.os(e.cx,1,[239,539]),e.os(e.e,7,[3548341561,3549779943,3554734263,3553600920]),e.os(e.cx,1,[208,496]),e.os(e.cx,1,[93,94]),e.os(e.cx,1,[254,551,257,239,242,241,545,249,542,238,541,248,255,543,547,247,253,540,251,240,256,243,552,538,549,554,244,553,546,539,544]),e.os(e.cx,1,[447,172,170,174]),e.os(e.cx,1,[571,276,278]),e.os(e.cx,1,[178,459]),e.os(e.cx,1,[381,108]),e.os(e.cx,1,[134,127]),e.os(e.cx,1,[222,514]),e.os(e.cx,1,[131,124]),e.os(e.cx,1,[208,205]),e.os(e.cx,1,[141,411,410]),e.os(e.cx,1,[164,423,161]),e.os(e.cx,1,[59,52,53,60,58,54]),e.os(e.cx,1,[218,224]),e.os(e.cx,1,[267,262]),e.os(e.s,15,[289,292,293,294,310,315,334,335,339,349,359,361,362,431,434,436,438,440,441,442,490,491,500,555,561,562,564,582]),e.os(e.cx,1,[74,71]),e.os(e.cx,1,[118,121,395,120,392,119,117,393,116]),e.os(e.cx,1,[192,473,474,471,190,189,193,470,191]),e.os(e.cx,1,[135,133,130,399,404,132,139,129,396]),e.os(e.w,11,[588,357]),e.os(e.cx,1,[86,81,83]),e.os(e.cx,1,[418,152,420,156,417,154,419,151,153,155]),e.os(e.cx,1,[580,579,284,578,285]),e.os(e.cx,1,[103,102]),e.os(e.cx,1,[531,236,532,237]),e.os(e.cx,1,[266,263,258,261]),e.os(e.cx,1,[157,418,155,151]),e.os(e.cx,1,[179,181,178])],o=[(t,n,r,a,i,o,s,c)=>e.q(e.acqs([e.scq(e.tw(e.sw(0,e.a([e.y(0,a),e.ref(s)]),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),e.vq(e.sw(1,e.a([e.y(0,i),e.ref(c)]),["properties","engaged_time"])),e.g(t)),e.vq(e.mxw(1,e.a([e.y(0,r),e.ref(o)]),["properties","completion"],e.g(n)))])),(t,n,r,a,i,o,s,c)=>e.q(e.acqs([e.scq(e.tw(e.sw(0,e.a([e.y(0,a),e.pc_(1,s)]),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),e.vq(e.sw(1,e.a([e.y(0,i),e.pc_(1,c)]),["properties","engaged_time"])),e.g(t)),e.vq(e.mxw(1,e.a([e.y(0,r),e.pc_(1,o)]),["properties","completion"],e.g(n)))])),(t,n,r,a)=>e.q(e.acqs([e.scq(e.tw(e.sw(0,e.ref(r),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),e.vq(e.sw(1,e.ref(a),["properties","engaged_time"])),e.g(40)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],192969)),e.cw(2,e.pe(2,192969)),e.e(0)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],t)),e.cw(2,e.pe(2,n)),e.e(0))])),(t,n,r,a)=>e.q(e.acqs([e.scq(e.tw(e.sw(0,e.ref(r),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),e.vq(e.sw(1,e.ref(a),["properties","engaged_time"])),e.g(85)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],192952)),e.cw(2,e.pe(2,192952)),e.e(0)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],t)),e.cw(2,e.pe(2,n)),e.e(0))])),(t,n,r,a)=>e.q(e.acqs([e.scq(e.tw(e.sw(0,e.ref(r),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),e.vq(e.sw(1,e.ref(a),["properties","engaged_time"])),e.g(85)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],192956)),e.cw(2,e.pe(2,192956)),e.e(0)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],t)),e.cw(2,e.pe(2,n)),e.e(0))])),(t,n,r,a,i,o,s)=>e.q(e.acqs([e.scq(e.tw(e.sw(0,e.ref(o),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),e.vq(e.sw(1,e.ref(s),["properties","engaged_time"])),e.g(t)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],n)),e.cw(2,e.pe(2,r)),e.e(0)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],a)),e.cw(2,e.pe(2,i)),e.e(0))])),(t,n,r,a,i,o,s)=>e.q(e.acqs([e.tw(e.cw(3,r,a),t),e.tw(e.cw(i,o,s),n)])),(t,n,r,a,i,o)=>e.q(e.acqs([e.tw(e.cw(3,e.a([e.ref(r),e.ref(a)]),e.ge(t)),6048e5),e.tw(e.cw(3,e.a([e.ref(i),e.ref(o)]),e.le(n)),6048e5)])),(t,n,r,a,i,o)=>e.q(e.acqs([e.tw(e.cw(3,e.a([e.y(5,r),e.ref(44),e.ref(a)]),e.ge(t)),2592e6),e.tw(e.cw(3,e.a([e.y(5,i),e.ref(44),e.ref(o)]),e.le(n)),2592e6)])),(t,n)=>e.q(e.cw(t,n,e.ge(1))),(t,n,r,a)=>e.q(e.cw(t,e.a([e.y(n,r),e.ref(a)]),e.ge(1))),(t,n,r,a)=>e.q(e.cw(t,e.a([e.y(r,a),n]),e.ge(1))),(t,n,r,a)=>e.q(e.cw(t,e.a([e.pe(n,r),e.ref(a)]),e.ge(1))),(t,n,r,a)=>e.q(e.cw(t,e.a([e.pe(r,a),n]),e.ge(1))),(t,n,r)=>e.q(e.cw(t,e.os(e.e,n,r),e.ge(1))),(t,n)=>e.q(e.cw(t,e.ref(n),e.ge(1))),(t,n,r)=>e.q(e.cw(t,e.bsc_(n,r),e.ge(1))),(t,n,r)=>e.q(e.cw(t,e.pe(n,r),e.ge(1))),t=>e.q(e.cw(t,e.pe(7,3276264435),e.ge(1))),t=>e.q(e.cw(t,e.pe(7,3282096938),e.ge(1))),t=>e.q(e.cw(t,e.pe(7,3283812885),e.ge(1))),t=>e.q(e.cw(t,e.pe(7,3544115421),e.ge(1))),t=>e.q(e.cw(t,e.pe(7,3544610357),e.ge(1))),t=>e.q(e.cw(t,e.pe(7,3544610555),e.ge(1))),t=>e.q(e.cw(t,e.pe(7,3552655142),e.ge(1))),t=>e.q(e.cw(t,e.pe(7,3566445809),e.ge(1))),t=>e.q(e.cw(t,e.pe(7,3571434923),e.ge(1))),t=>e.q(e.cw(t,e.pe(7,3585197430),e.ge(1))),t=>e.q(e.cw(t,e.pe(14,6752906526),e.ge(1))),t=>e.q(e.cw(t,e.pe(14,6752906628),e.ge(1))),t=>e.q(e.cw(t,e.pe(14,6756269216),e.ge(1))),t=>e.q(e.cw(t,e.pe(14,6764192555),e.ge(1))),t=>e.q(e.cw(t,e.pe(14,6764192594),e.ge(1))),t=>e.q(e.cw(t,e.pe(14,6764192804),e.ge(1))),t=>e.q(e.cw(t,e.t,e.ge(1))),(t,n,r,a)=>e.q(e.cw(3,e.a([e.os(n,r,a),t]),e.ge(1))),(t,n)=>e.q(e.cw(3,e.a([e.os(e.w,10,t),e.ref(n)]),e.ge(1))),t=>e.q(e.cw(3,e.a([e.ref(61),e.bsc_(10,t)]),e.ge(1))),t=>e.q(e.cw(3,e.a([e.pe(10,t),e.y(13,188)]),e.ge(1))),(t,n)=>e.q(e.cw(3,e.os(e.cx,t,n),e.ge(1))),(t,n)=>e.q(e.cw(3,e.os(e.s,t,n),e.ge(1))),t=>e.q(e.cw(3,e.pc_(8,t),e.ge(1))),(t,n)=>e.q(e.cw(3,e.y(t,n),e.ge(1))),(t,n)=>e.q(e.cw(3,e.ps(t,n),e.ge(1))),(t,n)=>e.q(e.cw(6,e.a([e.pe(9,t),e.bsc_(17,n)]),e.ge(1))),t=>e.q(e.cw(6,e.os(e.w,9,t),e.ge(1))),t=>e.q(e.ocqs(t)),(t,n,r)=>e.q(e.ocqs([e.cw(t,e.ref(81),e.ge(1)),e.cw(n,e.os(e.e,7,r),e.ge(1))])),(t,n,r,a)=>e.q(e.ocqs([e.cw(3,e.a([e.pge(6,t),e.ple(6,n)]),e.ge(1)),e.cw(3,e.a([e.pge(6,r),e.ple(6,a)]),e.ge(1))])),(t,n,r)=>e.q(e.ocqs([e.cw(3,e.ps(4,r),e.ge(1)),e.isp("unidad_ue_users",t,!1,n)])),(t,n,r,a,i,o,s,c,u,f,d,l,g,m,p)=>e.q(e.ocqs([e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],t)),e.cw(2,e.pe(n,r)),e.ge(1)),e.scq(e.cw(0,e.pc(a,i)),e.cw(2,e.pe(o,s)),e.ge(1)),e.scq(e.cw(0,e.pc(c,u)),e.cw(2,e.pe(f,d)),e.ge(1)),e.scq(e.cw(0,e.pc(l,g)),e.cw(2,e.pe(m,p)),e.ge(1))])),(t,n,r,a)=>e.q(e.ocqs([e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],t)),e.cw(2,e.pe(2,n)),e.ge(1)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],r)),e.cw(2,e.pe(2,a)),e.ge(1))])),(t,n,r,a,i,o)=>e.q(e.ocqs([e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],t)),e.cw(2,e.pe(2,n)),e.ge(1)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],r)),e.cw(2,e.pe(2,a)),e.ge(1)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],i)),e.cw(2,e.pe(2,o)),e.ge(1))])),(t,n,r,a,i,o,s,c,u,f,d,l)=>e.q(e.ocqs([e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],t)),e.cw(2,e.pe(2,n)),e.ge(1)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],r)),e.cw(2,e.pe(2,a)),e.ge(1)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],i)),e.cw(2,e.pe(2,o)),e.ge(1)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],s)),e.cw(2,e.pe(2,c)),e.ge(1)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],u)),e.cw(2,e.pe(2,f)),e.ge(1)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],d)),e.cw(2,e.pe(2,l)),e.ge(1))])),()=>e.q(e.ocqs([e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],190481)),e.cw(2,e.pe(2,190481)),e.ge(1)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],190405)),e.cw(2,e.pe(2,190405)),e.ge(1)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],190482)),e.cw(2,e.pe(2,190482)),e.ge(1)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],190485)),e.cw(2,e.pe(2,190485)),e.ge(1))])),(t,n,r,a,i,o)=>e.q(e.ocqs([e.scq(e.tw(e.sw(0,e.a([e.y(0,t),e.ref(154)]),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),e.vq(e.sw(1,e.a([e.y(0,n),e.ref(154)]),["properties","engaged_time"])),e.g(40)),e.scq(e.tw(e.sw(0,e.a([e.y(0,r),e.ref(101)]),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),e.vq(e.sw(1,e.a([e.y(0,a),e.ref(101)]),["properties","engaged_time"])),e.g(40)),e.scq(e.tw(e.sw(0,e.a([e.y(0,i),e.ref(132)]),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),e.vq(e.sw(1,e.a([e.y(0,o),e.ref(132)]),["properties","engaged_time"])),e.g(40))])),(t,n,r,a,i,o,s,c)=>e.q(e.ocqs([e.scq(e.tw(e.sw(0,e.a([e.y(0,i),e.ref(o)]),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),e.vq(e.sw(1,e.a([e.y(0,s),e.ref(c)]),["properties","engaged_time"])),e.g(t)),e.vq(e.mxw(1,e.a([e.y(0,r),e.ref(a)]),["properties","completion"],e.g(n)))])),(t,n,r,a,i,o,s,c,u)=>e.q(e.ocqs([e.scq(e.tw(e.sw(0,e.ref(a),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),e.vq(e.sw(1,e.ref(i),["properties","engaged_time"])),e.g(t)),e.scq(e.tw(e.sw(0,e.ref(o),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),e.vq(e.sw(1,e.ref(s),["properties","engaged_time"])),e.g(n)),e.scq(e.tw(e.sw(0,e.ref(c),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),e.vq(e.sw(1,e.ref(u),["properties","engaged_time"])),e.g(r))])),(t,n)=>e.q(e.ocqs([e.tw(e.cw(3,e.pc_(3,t),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,n),e.ge(1)),2592e6)])),(t,n,r)=>e.q(e.ocqs([e.tw(e.cw(3,e.pc_(3,t),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,n),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,r),e.ge(1)),2592e6)])),(t,n,r,a)=>e.q(e.ocqs([e.tw(e.cw(3,e.pc_(3,t),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,n),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,r),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,a),e.ge(1)),2592e6)])),(t,n,r,a,i)=>e.q(e.ocqs([e.tw(e.cw(3,e.pc_(3,t),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,n),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,r),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,a),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,i),e.ge(1)),2592e6)])),(t,n,r,a,i,o,s)=>e.q(e.ocqs([e.tw(e.cw(3,e.pc_(3,t),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,n),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,r),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,a),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,i),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,o),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,s),e.ge(1)),2592e6)])),(t,n,r,a,i,o,s,c)=>e.q(e.ocqs([e.tw(e.cw(3,e.pc_(3,t),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,n),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,r),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,a),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,i),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,o),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,s),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,c),e.ge(1)),2592e6)])),(t,n,r,a,i,o,s,c,u,f,d,l,g)=>e.q(e.ocqs([e.tw(e.cw(3,e.pc_(3,t),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,n),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,r),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,a),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,i),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,o),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,s),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,c),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,u),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,f),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,d),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,l),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,g),e.ge(1)),2592e6)])),t=>e.q(e.ocqs([e.tw(e.cw(3,e.pc_(3,0),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,t),e.ge(1)),2592e6)])),t=>e.q(e.ocqs([e.tw(e.cw(3,e.pc_(3,7),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,t),e.ge(1)),2592e6)])),(t,n,r,a,i,o,s,c)=>e.q(e.ocqs([e.vq(e.mxw(1,e.a([e.y(0,r),e.ref(a)]),["properties","completion"],e.g(n))),e.scq(e.tw(e.sw(0,e.a([e.y(0,i),e.ref(o)]),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),e.vq(e.sw(1,e.a([e.y(0,s),e.ref(c)]),["properties","engaged_time"])),e.g(t))])),(t,n)=>e.q(e.isp("unidad_peticion_cristina",t,!1,n)),(t,n)=>e.q(e.isp("unidad_ue_users",t,!1,n)),(t,n)=>e.q(e.isp("zeotap_unidad",t,!1,n)),(t,n)=>e.q(e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],t)),e.cw(2,e.pe(2,n)),e.ge(1))),(t,n,r,a,i)=>e.q(e.scq(e.tw(e.sw(0,e.a([e.y(0,n),e.ref(a)]),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),e.vq(e.sw(1,e.a([e.y(0,r),e.ref(i)]),["properties","engaged_time"])),e.g(t))),(t,n,r,a,i)=>e.q(e.scq(e.tw(e.sw(0,e.a([e.y(0,n),e.pc_(1,a)]),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),e.vq(e.sw(1,e.a([e.y(0,r),e.pc_(1,i)]),["properties","engaged_time"])),e.g(t))),(t,n,r)=>e.q(e.scq(e.tw(e.sw(0,e.a([e.y(5,406),e.y(12,n)]),["properties","aggregations","PageviewEngagement","engaged_time"]),7776e6),e.vq(e.sw(1,e.a([e.y(5,406),e.y(12,r)]),["properties","engaged_time"])),e.g(t))),(t,n)=>e.q(e.scq(e.tw(e.sw(0,e.ref(t),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),e.vq(e.sw(1,e.ref(n),["properties","engaged_time"])),e.g(40))),(t,n,r,a,i)=>e.q(e.scq(e.tw(e.sw(0,e.y(n,r),["properties","aggregations","PageviewEngagement","engaged_time"]),24192e5),e.vq(e.sw(1,e.y(a,i),["properties","engaged_time"])),e.g(t))),t=>e.q(e.tw(e.cw(3,t,e.ge(1)),7776e6)),(t,n,r)=>e.q(e.tw(e.cw(3,e.a([e.os(e.w,11,n),e.ref(r)]),e.ge(t)),6048e5)),(t,n)=>e.q(e.tw(e.cw(3,e.a([e.ref(n),e.ref(77)]),e.le(t)),6048e5)),t=>e.q(e.tw(e.cw(3,e.a([e.ref(45),e.bsc_(11,t)]),e.ge(1)),72576e6)),(t,n,r)=>e.q(e.tw(e.cw(3,e.a([e.y(5,n),e.ref(44),e.ref(r)]),e.ge(t)),2592e6)),(t,n)=>e.q(e.tw(e.cw(3,e.a([e.y(5,n),e.ref(44),e.ref(77)]),e.le(t)),2592e6)),t=>e.q(e.tw(e.cw(3,e.pc_(3,t),e.ge(1)),2592e6)),()=>e.q(e.tw(e.cw(3,e.pc_(3,15),e.ge(1)),2592e6)),()=>e.q(e.tw(e.cw(3,e.pc_(3,36),e.ge(1)),2592e6)),(t,n,r)=>e.q(e.tw(e.cw(3,e.y(n,r),e.ge(t)),2592e6)),t=>e.q(e.tw(e.cw(3,e.pe(12,t),e.ge(2)),24192e5)),t=>e.q(e.tw(e.cw(3,e.pe(21,t),e.ge(1)),2592e6)),(t,n)=>e.q(e.tw(e.cw(3,e.ps(4,n),e.ge(t)),2592e6)),t=>e.q(e.vq(e.mxw(1,e.t,["properties","completion"],e.g(t))))],s={},c={1e7:e.r(58,"/education/graduate school","/science"),10000001:e.r(83,"/automotive and vehicles"),10000002:e.r(65,2),10000003:e.r(58,20,"/finance"),10000004:e.r(58,"/careers",22),10000005:e.r(83,"/education"),10000006:e.r(59,24,41,"/society/social institution/marriage"),10000007:e.r(64,1,3,12,13,16,17,"/art and entertainment/visual art and design/art museums and galleries","/art and entertainment/visual art and design/arts education","/art and entertainment/visual art and design/performance art","/art and entertainment/visual art and design/restoration","/art and entertainment/visual art and design/sculpture","/education/art history",34),10000008:e.r(59,"/business and industrial/food industry","/food and drink","/food and drink/food and grocery retailers"),10000010:e.r(58,30,33),10000011:e.r(83,"/hobbies and interests"),10000012:e.r(83,"/home and garden"),10000013:e.r(58,"/art and entertainment/movies",4),10000014:e.r(83,"/art and entertainment/music"),10000015:e.r(62,"/business and industrial/business news",26,"/law, govt and politics","/news",40,"/sports/sports news","/technology and computing/tech news"),10000016:e.r(59,"/finance/bank",26,"/finance/personal finance"),10000017:e.r(83,"/pets"),10000018:e.r(60,"/art and entertainment/celebrity fan and gossip",9,11,14),10000019:e.r(83,"/real estate"),10000020:e.r(83,"/shopping"),10000021:e.r(58,33,"/sports"),10000022:e.r(58,21,"/style and fashion"),10000023:e.r(59,"/business and industrial/automation","/science/computer science","/technology and computing"),10000024:e.r(60,"/art and entertainment/movies and tv/movies/reviews",11,"/art and entertainment/tv",49),10000025:e.r(83,"/travel"),10000026:e.r(58,"/hobbies and interests/games/video and computer games","/technology and computing/consumer electronics/game systems and consoles"),10000035:e.r(58,"/science/engineering","/science/physics"),10000036:e.r(83,"/automotive and vehicles/buying and selling cars"),10000037:e.r(83,"/automotive and vehicles/motor shows"),10000038:e.r(58,"/automotive and vehicles/cars/hybrid","/automotive and vehicles/electric vehicles"),10000039:e.r(83,19),10000040:e.r(83,"/automotive and vehicles/cars/performance vehicles"),10000041:e.r(58,2,"/art and entertainment/comics and animation/comics"),10000042:e.r(83,"/business and industrial/business operations"),10000043:e.r(83,41),10000044:e.r(83,24),10000045:e.r(83,3),10000046:e.r(83,"/art and entertainment/visual art and design"),10000047:e.r(83,"/food and drink/beverages/alcoholic beverages"),10000048:e.r(83,"/food and drink/barbecues and grilling"),10000049:e.r(58,"/food and drink/desserts and baking","/food and drink/food and grocery retailers/bakeries"),10000050:e.r(58,27,"/food and drink/food/fast food"),10000051:e.r(83,"/food and drink/food allergies"),10000052:e.r(60,28,29,"/food and drink/health and lowfat cooking",30),10000053:e.r(83,32),10000054:e.r(58,"/health and fitness/exercise","/health and fitness/sports medicine"),10000055:e.r(83,"/health and fitness/men\'s health"),10000056:e.r(83,"/health and fitness/nutrition"),10000057:e.r(83,"/health and fitness/women\'s health"),10000058:e.r(85),10000059:e.r(83,"/art and entertainment/movies and tv/action"),10000060:e.r(83,5),10000061:e.r(83,6),10000062:e.r(83,"/art and entertainment/movies and tv/horror"),10000063:e.r(83,40),10000064:e.r(58,"/law, govt and politics/law enforcement","/law, govt and politics/legal issues"),10000065:e.r(83,"/news/national news"),10000066:e.r(58,"/law, govt and politics/government","/law, govt and politics/politics"),10000067:e.r(83,"/science/weather"),10000068:e.r(83,38),10000069:e.r(83,"/pets/cats"),10000070:e.r(83,"/pets/dogs"),10000071:e.r(83,39),10000072:e.r(83,"/pets/reptiles"),10000073:e.r(83,"/sports/football"),10000074:e.r(83,"/sports/baseball"),10000075:e.r(83,"/sports/basketball"),10000076:e.r(83,"/sports/bodybuilding"),10000077:e.r(83,"/sports/bowling"),10000078:e.r(83,"/sports/boxing"),10000079:e.r(83,"/sports/bicycling"),10000080:e.r(83,"/sports/fishing"),10000081:e.r(83,"/sports/golf"),10000082:e.r(83,"/sports/hunting and shooting"),10000083:e.r(83,"/sports/rugby"),10000084:e.r(83,46),10000085:e.r(83,"/sports/tennis"),10000086:e.r(83,"/sports/walking"),10000087:e.r(60,"/business and industrial/tanning","/style and fashion/beauty",48,"/style and fashion/beauty/cosmetology and beauty professionals"),10000088:e.r(58,"/style and fashion/beauty/tattoos","/style and fashion/body art"),10000089:e.r(83,"/style and fashion/men \'s fashion"),10000090:e.r(83,"/technology and computing/consumer electronics"),10000324:e.r(83,20),10000325:e.r(61,"/business and industrial/company/annual report","/business and industrial/company/bankruptcy","/business and industrial/company/earnings","/business and industrial/company/joint venture","/business and industrial/company/merger and acquisition"),10000327:e.r(83,"/finance/personal finance/debt management"),10000328:e.r(83,"/finance/personal finance/insurance"),10000329:e.r(59,"/finance/accounting and auditing/billing and invoicing","/finance/accounting and auditing/bookkeeping",25),10000330:e.r(83,"/finance/investing"),10000687:e.r(83,"/science/social science"),10000688:e.r(83,23),10000689:e.r(58,19,"/automotive and vehicles/scooters and mopeds"),10000690:e.r(63,"/automotive and vehicles/vehicle brands/fiat","/automotive and vehicles/vehicle brands/ford","/automotive and vehicles/vehicle brands/honda","/automotive and vehicles/vehicle brands/hyundai","/automotive and vehicles/vehicle brands/nissan","/automotive and vehicles/vehicle brands/peugeot","/automotive and vehicles/vehicle brands/subaru","/automotive and vehicles/vehicle brands/suzuki"),10000691:e.r(64,18,"/automotive and vehicles/vehicle brands/audi","/automotive and vehicles/vehicle brands/bentley","/automotive and vehicles/vehicle brands/ferrari","/automotive and vehicles/vehicle brands/lamborghini","/automotive and vehicles/vehicle brands/land rover","/automotive and vehicles/vehicle brands/maserati","/automotive and vehicles/vehicle brands/mercedes-benz","/automotive and vehicles/vehicle brands/porsche","/automotive and vehicles/vehicle brands/rolls-royce","/automotive and vehicles/vehicle brands/toyota","/automotive and vehicles/vehicle brands/volkswagen","/automotive and vehicles/vehicle brands/volvo"),10000692:e.r(83,"/automotive and vehicles/cars/coupe"),10000693:e.r(58,"/automotive and vehicles/auto parts","/automotive and vehicles/auto repair"),10000694:e.r(83,"/automotive and vehicles/cars"),10000695:e.r(83,"/automotive and vehicles/cars/sedan"),10000696:e.r(83,"/art and entertainment/books and literature/children\'s books"),10000697:e.r(83,1),10000698:e.r(58,"/careers/career advice","/careers/resume writing and advice"),10000699:e.r(83,"/careers/telecommuting"),10000700:e.r(83,"/careers/career planning"),10000701:e.r(58,"/careers/job fairs","/careers/job search"),10000702:e.r(83,22),10000703:e.r(83,"/education/distance learning"),10000704:e.r(83,"/education/special education"),10000705:e.r(65,23),10000706:e.r(59,"/education/homework and study tips","/education/teaching and classroom resources/lesson plans","/education/teaching and classroom resources/school supplies"),10000707:e.r(83,34),10000708:e.r(83,17),10000709:e.r(83,13),10000710:e.r(60,30,31,32,"/pets/animal welfare"),10000711:e.r(83,"/food and drink/beverages/non alcoholic beverages"),10000712:e.r(59,"/food and drink/kosher food",31,32),10000713:e.r(83,"/food and drink/cuisines"),10000714:e.r(63,"/food and drink/food/condiments and dressings","/food and drink/food/frozen food",28,"/food and drink/food/grains and pasta","/food and drink/food/herbs and spices",29,"/food and drink/food/snack foods","/food and drink/gastronomy/slow food"),10000715:e.r(83,"/health and fitness/aging"),10000716:e.r(83,"/health and fitness/weight loss"),10000717:e.r(83,"/hobbies and interests/arts and crafts"),10000718:e.r(58,"/hobbies and interests/collecting","/hobbies and interests/collecting/stamps and coins"),10000719:e.r(83,"/hobbies and interests/games/board games and puzzles"),10000720:e.r(83,"/hobbies and interests/magic and illusion"),10000721:e.r(83,"/art and entertainment/music/musical instruments"),10000722:e.r(58,35,38),10000723:e.r(58,"/art and entertainment/radio","/technology and computing/consumer electronics/radios"),10000724:e.r(58,"/art and entertainment/books and literature/fan fiction","/art and entertainment/books and literature/science fiction"),10000725:e.r(83,"/home and garden/appliances"),10000726:e.r(83,37),10000727:e.q(e.ocqs([e.tw(e.cw(3,e.pc_(3,"/art and entertainment/visual art and design/design/interior design"),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,"/art and entertainment/visual art and design/drawing"),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,"/art and entertainment/visual art and design/painting"),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,"/hobbies and interests/arts and crafts/woodworking"),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,37),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,"/home and garden/remodeling and construction"),e.ge(1)),2592e6)])),10000728:e.r(85),10000729:e.r(61,"/home and garden/bed and bath/bathroom","/home and garden/bed and bath/bedroom","/home and garden/home furnishings","/home and garden/home furnishings/lamps and lighting","/home and garden/interior decorating"),10000730:e.r(83,"/art and entertainment/movies and tv/independent"),10000731:e.r(83,8),10000732:e.r(83,"/art and entertainment/movies and tv/dramas"),10000733:e.r(83,10),10000734:e.r(66,10),10000735:e.r(84),10000736:e.r(84),10000737:e.r(83,"/art and entertainment/music/music genres/jazz"),10000738:e.r(83,12),10000739:e.r(83,"/art and entertainment/music/music genres/blues"),10000740:e.r(83,"/art and entertainment/music/music genres/country music"),10000741:e.r(83,"/art and entertainment/music/music genres/hip hop"),10000742:e.r(83,14),10000743:e.r(58,"/art and entertainment/music/music genres/electronic music",14),10000744:e.r(59,12,13,16),10000745:e.r(83,"/news/local news"),10000746:e.r(83,"/news/international news"),10000747:e.r(83,"/finance/personal finance/financial planning/retirement and pension"),10000748:e.r(58,25,"/finance/personal finance/financial planning"),10000749:e.r(58,43,44),10000750:e.r(83,"/pets/aquariums"),10000751:e.r(66,10),10000752:e.r(83,"/real estate/architects"),10000753:e.r(83,"/real estate/apartments"),10000754:e.r(60,"/business and industrial/agriculture and forestry","/business and industrial/agriculture and forestry/organic farming",35,39),10000755:e.r(83,"/real estate/buying and selling homes"),10000756:e.r(83,47),10000757:e.r(83,"/sports/water polo"),10000758:e.r(83,"/sports/table tennis and ping-pong"),10000759:e.r(83,"/sports/softball"),10000760:e.r(58,"/sports/volleyball",47),10000761:e.r(83,45),10000762:e.r(83,"/sports/rowing"),10000763:e.r(83,"/sports/badminton"),10000764:e.r(83,"/sports/sailing"),10000765:e.r(59,43,44,"/sports/polo"),10000766:e.r(83,"/sports/skating/figure skating"),10000767:e.r(83,"/sports/cheerleading"),10000768:e.r(83,"/sports/auto racing"),10000769:e.r(83,"/sports/weightlifting"),10000770:e.r(83,"/sports/gymnastics"),10000771:e.r(83,"/sports/swimming"),10000772:e.r(83,"/sports/running and jogging"),10000773:e.r(58,"/sports/hockey","/sports/hockey/field hockey"),10000774:e.r(83,42),10000775:e.r(46,[e.tw(e.cw(3,e.pc_(3,"/sports/bicycling/mountain biking"),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,"/sports/canoeing and kayaking"),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,"/sports/climbing"),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,42),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,"/sports/go kart"),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,"/sports/parachuting"),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,"/sports/scuba diving"),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,"/sports/skating"),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,46),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,"/sports/skiing/waterskiing"),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,"/sports/snowboarding"),e.ge(1)),2592e6),e.tw(e.cw(3,e.pc_(3,"/sports/surfing and bodyboarding"),e.ge(1)),2592e6)]),10000776:e.r(83,"/sports/wrestling"),10000777:e.r(58,"/sports/olympics",45),10000778:e.r(83,"/sports/martial arts"),10000779:e.r(83,"/sports/cricket"),10000780:e.r(83,"/sports/soccer"),10000781:e.r(62,"/art and entertainment/shows and events",18,21,27,"/home and garden/luxury homes","/style and fashion/fashion designers","/style and fashion/luxury goods"),10000782:e.r(83,"/style and fashion/beauty/hair care"),10000783:e.r(59,"/style and fashion/accessories",48,"/style and fashion/jewelry"),10000784:e.r(83,"/style and fashion/clothing"),10000785:e.r(83,"/business and industrial/automation/robotics"),10000786:e.r(83,"/science/computer science/artificial intelligence"),10000787:e.r(58,8,49),10000788:e.r(58,9,49),10000789:e.r(66,49),10000790:e.r(58,4,49),10000791:e.r(58,5,49),10000792:e.r(58,6,49),10000793:e.r(83,"/travel/tourist destinations/seaside resort"),10000794:e.r(83,"/travel/tourist destinations/africa"),10000795:e.r(83,"/travel/tourist facilities/camping"),10000796:e.r(83,"/travel/tourist destinations/south america"),10000797:e.r(83,"/travel/transports/road travel/road accident"),10000798:e.r(83,"/travel/tourist destinations/japan"),10000799:e.r(83,"/travel/tourist destinations/australia and new zealand"),10000800:e.r(61,"/travel/tourist destinations/eastern europe","/travel/tourist destinations/europe","/travel/tourist destinations/france","/travel/tourist destinations/greece","/travel/tourist destinations/italy"),10000801:e.r(83,"/travel/specialty travel/adventure travel"),10000802:e.r(83,"/travel/business travel"),10000803:e.r(83,"/travel/traveling with kids"),101097:e.r(43,4,"cuando-homer-conocio-a-bender"),101929:e.r(12,3,10,"Endocrinología",61),101931:e.r(12,3,10,"Anatomía Patológica",61),101937:e.r(12,3,10,"Oncología",61),101938:e.r(12,3,10,"Neumología",61),101940:e.r(12,3,10,"Pediatría",36),103274:e.r(16,3,20,["YnrY9uxu"]),103671:e.r(43,4,"nominadas-para-los-oscars-que-ya-puedes-disfrutar"),103866:e.q(e.cw(3,e.a([e.pc_(8,"CancerMama"),e.ps(11,"diariomedico.com"),e.os(e.s,10,["oncologia","oncología"])]),e.ge(1))),103867:e.q(e.cw(3,e.a([e.pc_(8,"CancerPulmon"),e.bsc_(10,["SNPzXKrL","hkGkzLJj"])]),e.ge(1))),103868:e.r(35,e.bsc_(0,["9X9/Aqu6","RiVREev6","X8bH/zmL","Yiy4PsMR"]),e.cx,8,["Ciencia y Salud,ciencia","ciencia y salud","Ciencia y Salud","ciencia-y-salud","ciencia","Sanidad","sanidad","medicina","salud - investigacion medica","investigacion","investigador","salud - pacientes","directivos","Directivos","administracion"]),104041:e.r(43,4,"el-uso-del-movil-al-volante-multiplica-por-4-el-riesgo-de-sufrir-un-accidente"),104124:e.r(16,3,13,["cRvuBTjC"]),104860:e.r(43,4,"pam-y-tommy-la-verdadera-historia-de-uno-de-los-mayores-escandalos-de-los-90"),104863:e.r(36,["enfermería familiar y comunitaria","Enfermería Familiar y Comunitaria","enfermeria familiar y comunitaria"],36),104864:e.q(e.cw(3,e.a([e.os(e.w,10,["medicina interna","Medicina Interna"]),e.os(e.w,13,[454,169,188])]),e.ge(1))),105126:e.r(43,4,"expansion.com/uestudio/2022/04/11/6254444f468aeb52428b45b3.html"),105732:e.r(43,4,"4-documentales-imprescindibles-para-celebrar-y-comprometerse-con-el-dia-de-la-tierra"),105807:e.r(43,4,"usar-el-movil-conduciendo-signo-de-adiccion-o-de-falta-de-concienciacion"),106291:e.r(43,4,"elmundo.es/uestudio/2022/04/25/62666325fdddffa8748b4583.html"),107478:e.r(43,4,"como-conoci-a-tu-padre-las-kardashian-y-the-dropout-3-series-con-protagonistas-que-estan-dando-mucho-que-hablar"),108682:e.r(43,4,"628b498522601d7b798b4588.html"),109284:e.r(43,4,"native.elmundo.es/2022/05/31tel/index.html"),110675:e.q(e.ocqs([e.cw(5,e.pe(14,6042459582),e.ge(1)),e.cw(5,e.pe(14,6045548287),e.ge(1)),e.cw(5,e.pe(14,6092469771),e.ge(1)),e.cw(5,e.pe(14,6092516805),e.ge(1)),e.cw(5,e.pe(14,6143144290),e.ge(1)),e.cw(5,e.pe(14,6151587283),e.ge(1)),e.cw(5,e.pe(14,6169161528),e.ge(1))])),113217:e.r(43,4,"native.marca.com/2022/06/24tel/index.html"),113218:e.r(43,4,"native.expansion.com/2022/06/21tel/index.html"),114267:e.r(43,4,"como-mejorar-nuestra-relacion-con-la-tecnologia-a-cualquier-edad"),114299:e.r(43,4,"ser-mas-autonomos-una-de-las-principales-motivaciones-para-vencer-la-brecha-digital"),114499:e.r(41,"toros"),115581:e.r(37,["L24qPJo6","m4VV+QIV"]),115678:e.r(43,4,"uestudio/2022/07/21/62d8ff9f21efa097618b4584.html"),120929:e.r(43,4,"uestudio/2022/08/31/630f16b0268e3eca328b456d.html"),122441:e.r(39,8,["vitamina","sistema linfatico e inmunitario","Sistema linfático e inmunitario","sistema educativo","salud y alimentacion","Salud y Alimentación","lacteos","hierro","Desayuno saludable","desayuno saludable","Aparato cardiovascular","aparato cardiovascular","alimentacion saludable","Alimentación Saludable"]),122876:e.r(39,8,["energia","ENERGY SOLAR TECH","panel solar","energy solar tech","economia-sostenible",536]),122884:e.q(e.acqs([e.cw(3,e.os(e.cx,8,["Neurología","Demencia con cuerpos de Lewy","demencia con cuerpos de lewy","Alzheimer","alzheimer","demencia","Demencia","Demencia senil","Neurológicas","Neurologicas","neurologicas","perdida memoria"]),e.ge(1)),e.cw(3,e.os(e.cx,8,["Salud","salud"]),e.ge(1))])),122989:e.r(47,5,5,[3097169706,3095867953,3095979776,3090650520,3090624663,3089075180,3089419916]),122990:e.r(47,4,4,[3095867953,3095979776,3097169706,3089419916,3089075180,3090624663,3090650520]),123341:e.r(43,4,"uestudio/2022/09/28/63343780e4d4d88b5a8b45cf.html"),123342:e.r(43,4,"uestudio/2022/09/29/6335b612468aeb19428b4618.html"),123501:e.r(44,"y",["xliYWX8+"]),123923:e.r(53,71974,71974,72055,72055,71966,71966,71965,71965,72057,72057,72049,72049),124682:e.r(43,4,"sara-socas-yo-tambien-pedi-ayuda-profesional-para-sobrellevar-el-ciberbullying"),124688:e.r(43,4,"uno-de-cada-cuatro-alumnos-reconoce-haber-participado-en-un-caso-de-acoso-escolar-sin-darse-cuenta"),124692:e.r(17,5,7,3097175491),125228:e.r(43,4,"whatsapp-instagram-y-tiktok-las-3-plataformas-donde-mas-se-practica-ciberbullying-a-menores"),129720:e.r(78,286,[357,588],108),129722:e.r(79,125,196),129723:e.r(7,126,285,196,108,196,108),129767:e.q(e.tw(e.cw(3,e.a([e.as(e.x,5,[581,369,466]),e.ref(33),e.ref(108)]),e.ge(773)),6048e5)),129768:e.q(e.tw(e.cw(3,e.a([e.as(e.x,5,[581,466,369]),e.ref(33),e.ref(108)]),e.le(222)),6048e5)),129770:e.q(e.acqs([e.tw(e.cw(3,e.a([e.ref(48),e.ref(33),e.ref(108)]),e.ge(223)),6048e5),e.tw(e.cw(3,e.a([e.ref(48),e.ref(33),e.ref(108)]),e.le(772)),6048e5)])),130380:e.r(46,[e.cw(3,e.ps(4,"www.telva.com/estilo-vida/2022/11/22/637c9b6001a2f19a268b4605"),e.ge(1)),e.cw(3,e.ps(4,"elmundo.es/economia/2022/11/06/63668f0ffdddff9d268b45cd"),e.ge(1)),e.cw(3,e.ps(4,"marca.com/tecnologia/2022/11/15/6373cace268e3e55368b45f4"),e.ge(1)),e.cw(3,e.ps(4,"elmundo.es/yodona/lifestyle/2022/11/23/637b7f7f21efa05e2f8b45c6"),e.ge(1)),e.cw(3,e.ps(4,"marca.com/tecnologia/2022/11/23/637b683cca4741a3088b459f"),e.ge(1)),e.cw(3,e.ps(4,"elmundo.es/tecnologia/2022/11/24/637e80ec21efa0ff298b45f"),e.ge(1)),e.cw(3,e.ps(4,"expansion.com/fueradeserie/tecno/2022/11/24/637df86fe5fdea1b0b8b4670"),e.ge(1)),e.cw(3,e.ps(4,"telva.com/estilo-vida/2022/11/29/638607ab02136e9ea78b458c"),e.ge(1)),e.cw(3,e.ps(4,"expansion.com/fueradeserie/tecno/2022/11/30/637df029e5fdea63688b465e"),e.ge(1)),e.cw(3,e.ps(4,"album/yodona/lifestyle/2022/12/02/6389f8f4fdddff58a48b45fa"),e.ge(1)),e.cw(3,e.ps(4,"expansion.com/economia-digital/companias/2022/12/07/6390d98f468aeb91548b45a5"),e.ge(1)),e.cw(3,e.ps(4,"tecnologia/2022/12/19/63a011af22601dda648b4591"),e.ge(1)),e.cw(3,e.ps(4,"yodona/lifestyle/2022/12/19/639b475fe4d4d8547e8b4595"),e.ge(1)),e.cw(3,e.ps(4,"telva.com/navidad/regalos/album/2022/12/15/6398a7ed01a2f182458b45b4"),e.ge(1)),e.cw(3,e.ps(4,"telva.com/navidad/regalos/album/2022/12/21/63a01b1f01a2f180568b45a4"),e.ge(1)),e.cw(3,e.ps(4,"marca.com/tecnologia/2022/12/29/63ad5e3946163f5ea48b45a3"),e.ge(1)),e.cw(3,e.ps(4,"tecnologia/2022/12/07/63905c2321efa03b4c8b459b"),e.ge(1)),e.cw(3,e.ps(4,"cultura/2022/12/19/639d9e86fc6c836f0a8b4588"),e.ge(1)),e.cw(3,e.ps(4,"economia/ahorro-y-consumo/2022/12/30/63adb2bee4d4d8c32f8b458c"),e.ge(1)),e.cw(3,e.ps(4,"marca.com/tecnologia/2023/01/13/63c15de9e2704e44338b459b"),e.ge(1)),e.cw(3,e.ps(4,"telva.com/estilo-vida/2023/01/24/63cff0f401a2f124378b4639"),e.ge(1)),e.cw(3,e.ps(4,"album/yodona/lifestyle/2023/01/27/63c93578fc6c833c218b4570"),e.ge(1)),e.cw(3,e.ps(4,"tecnologia/gadgets/2023/01/27/63d2bda7fc6c83f60d8b457c"),e.ge(1)),e.cw(3,e.ps(4,"estilo-vida/album/2023/02/07/63e012a801a2f16f838b45d4"),e.ge(1)),e.cw(3,e.ps(4,"tecnologia/2023/02/15/63ed01a7268e3e9a3c8b45e0"),e.ge(1)),e.cw(3,e.ps(4,"estilo-vida/album/2023/03/13/6409a84002136e44208b45db"),e.ge(1)),e.cw(3,e.ps(4,"album/yodona/lifestyle/2023/03/17/641438cee4d4d8fb7c8b45e4"),e.ge(1)),e.cw(3,e.ps(4,"estilo-vida/2023/03/23/641c173c02136eed518b464e"),e.ge(1)),e.cw(3,e.ps(4,"2023/03/26/64203b25e2704eb17e8b4588"),e.ge(1)),e.cw(3,e.ps(4,"tecnologia/2023/04/20/6440f21ae2704ed06f8b45cf"),e.ge(1)),e.cw(3,e.ps(4,"tecnologia/2023/04/10/64344a3afdddff4d998b459d"),e.ge(1)),e.cw(3,e.ps(4,"tecnologia/2023/04/19/64405e0921efa0cd068b45b2"),e.ge(1))]),131415:e.r(17,5,7,3104956040),134452:e.q(e.scq(e.tw(e.sw(0,e.ps(4,590),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),e.vq(e.sw(1,e.ps(4,590),["properties","engaged_time"])),e.g(21))),134599:e.r(43,4,"mibebeyyo.elmundo.es"),136198:e.r(69,"ueReg0011","136198"),136199:e.r(69,"ueReg0012","136199"),136200:e.r(69,"ueReg0010","136200"),136201:e.r(69,"ueReg0005","136201"),136202:e.r(69,"ueReg0006","136202"),136203:e.r(69,"ueReg0002","136203"),136204:e.r(69,"ueReg0008","136204"),136205:e.r(69,"ueReg0009","136205"),136207:e.r(69,"ueReg0004","136207"),136208:e.r(69,"ueReg0003","136208"),136209:e.r(69,"ueReg0001","136209"),136561:e.r(69,"ueReg0013","136561"),136562:e.r(69,"ueReg0014","136562"),136563:e.r(69,"ueReg0015","136563"),136564:e.r(69,"ueReg0016","136564"),136565:e.r(69,"ueReg0017","136565"),136566:e.r(69,"ueReg0018","136566"),136567:e.r(69,"ueReg0019","136567"),136568:e.r(69,"ueReg0020","136568"),136570:e.r(69,"ueReg0021","136570"),137319:e.r(43,4,"las-zonas-seguras-llegan-al-mundo-del-videojuego"),137549:e.r(40,13,[454,467]),137550:e.r(40,13,["farmaceutico","farmacia industrial y galenica","farmacia industrial y galénica","farmacéutico","regente oficina de farmacia","titular oficina de farmacia"]),137905:e.r(43,4,"el-37-por-100-de-los-jovenes-que-sufren-ciberbullying-lo-experimentan-a-traves-de-los-videojuegos"),139347:e.r(43,4,"en-los-casos-mas-graves-el-acoso-empieza-en-el-videojuego-pero-luego-transciende-a-otras-areas"),140869:e.r(17,3,20,"Yoigo"),140871:e.r(17,3,20,"Jazztel"),140872:e.r(40,20,["digi"]),140873:e.r(40,22,["movistar"]),141557:e.r(48,18,20,2003,2005),141558:e.r(48,21,24,1999,2002),141559:e.r(48,25,29,1994,1998),141560:e.r(48,30,34,1989,1993),141561:e.r(48,35,39,1984,1988),141562:e.r(48,40,44,1979,1983),141563:e.r(48,45,49,1974,1978),141564:e.r(48,50,54,1969,1973),141565:e.r(48,55,59,1964,1968),141566:e.r(48,60,63,1959,1960),141567:e.r(48,65,69,1954,1958),141569:e.r(48,70,74,1949,1953),141571:e.r(48,75,85,1937,1948),141574:e.r(43,4,"mibebeyyo.elmundo.es/embarazo"),141575:e.r(43,4,"mibebeyyo.elmundo.es/bebes"),141576:e.r(43,4,"mibebeyyo.elmundo.es/ninos"),142332:e.r(43,4,"asi-es-yellow-la-apuesta-por-la-robotica-para-la-seguridad-de-los-grandes-eventos"),142968:e.r(43,4,"6408622a268e3e49198b45c8"),143082:e.r(78,190,[387,589],77),143085:e.r(7,76,189,6,77,6,77),143086:e.r(79,75,6),143088:e.q(e.tw(e.cw(3,e.y(11,576),e.le(4)),2592e6)),143089:e.r(6,2592e6,2592e6,e.y(11,576),e.ge(5),3,e.y(11,576),e.le(26)),143091:e.r(86,27,11,576),143094:e.q(e.tw(e.cw(3,e.ps(4,427),e.e(1)),2592e6)),143096:e.r(89,7,427),143105:e.r(6,2592e6,2592e6,e.ps(4,427),e.ge(2),3,e.ps(4,427),e.le(6)),145717:e.r(43,4,"ciberseguridad-claves-para-abordar-los-riesgos-que-plantea-la-digitalizacion"),146605:e.r(39,8,["real oviedo,segunda division","real-oviedo","oviedo","real oviedo"]),146607:e.r(39,8,["sporting-de-gijon","ud las palmas,sporting de gijon,segunda division","sporting de gijon,segunda division,futbol","sporting de gijon"]),146608:e.q(e.ocqs([e.cw(3,e.ps(4,"uestudio/2023/02/13/63ea249a21efa070178b4592"),e.ge(1)),e.cw(3,e.ps(4,"uestudio/2022/09/09/631aff21fc6c83091b8b4579"),e.ge(1)),e.cw(3,e.ps(4,"uestudio/2022/03/04/6221d9b6e2704ec40e8b463b"),e.ge(1)),e.isp("unidad_ue_users","perID0001",!1,"146608")])),146741:e.r(82,193,369),146742:e.r(8,194,678,369,77,369,77),146743:e.r(81,679,369,108),146746:e.r(82,25,466),146747:e.r(8,26,79,466,77,466,77),146748:e.r(81,80,466,77),146749:e.r(82,166,581),146750:e.r(8,167,427,581,108,581,108),146751:e.r(81,428,581,108),146887:e.r(43,4,"64084c7f02136e46198b4579"),147113:e.r(43,4,"asi-estan-impactando-la-hiperautomatizacion-y-la-robotica-en-el-mercado-laboral"),148108:e.r(43,4,"blockchain-y-la-nueva-normativa-que-cambiara-el-panorama-crypto"),148169:e.r(14,4,14,[6275319035,5932071319]),148259:e.r(17,4,7,3189683472),148892:e.r(35,e.os(e.s,13,[454,"mir",467]),e.s,10,["medico joven","médico joven"]),148893:e.r(39,8,[77,"Derma","dermatologicas","Dermatológicas"]),148894:e.r(36,["farmacia comunitaria","medicina familiar y comunitaria",177,"Farmacia Comunitaria"],98),148895:e.r(37,["ZRKPrHtS","s6sloSFT"]),148897:e.r(15,3,36),149176:e.r(43,4,"el-gran-reto-de-los-mayores-ante-un-mundo-cada-vez-mas-digitalizado"),149237:e.r(69,"ueReg0022","149237"),149684:e.r(43,4,"como-aprender-a-usar-la-tecnologia-de-forma-segura-para-evitar-ser-victima-de-un-ciberdelito"),150328:e.r(14,4,14,[5932071319,6275327174]),150456:e.r(43,4,"asi-ha-mejorado-la-videovigilancia-gracias-a-la-inteligencia-artificial"),153453:e.r(17,4,7,3201299941),153456:e.r(39,8,["ud las palmas,segunda division","ud-las-palmas","ud las palmas","las-palmas","las palmas"]),153651:e.r(43,4,"la-inteligencia-artificial-puede-hacer-del-mundo-un-lugar-mas-seguro-pero-como"),154087:e.r(14,4,14,[6308571791,6210391897]),154088:e.r(14,4,14,[5932071319,6274750273]),155425:e.r(42,19,168),155426:e.r(42,19,140),155797:e.r(53,148108,148108,150456,150456,153651,153651,145717,145717,142332,142332,147113,147113),156100:e.r(43,4,"cuanto-contamina-tu-basura-digital"),156651:e.r(43,4,"guardar-1000-fotos-en-la-galeria-de-nuestro-smartphone-consume-lo-mismo-que-cargar-ocho-telefonos-moviles"),157376:e.r(34,3),157576:e.r(17,4,7,3225718974),157579:e.r(17,4,14,6338224306),157581:e.r(17,4,14,6338224540),158530:e.r(17,4,7,3224054795),164684:e.r(17,4,7,3234036407),165986:e.r(17,4,7,3247557537),167757:e.r(88,"United States"),167758:e.r(88,"Spain"),167759:e.q(e.acqs([e.tw(e.cw(3,e.t,e.ge(1)),2592e6),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],167757)),e.cw(2,e.pe(2,167757)),e.ge(1)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],167758)),e.cw(2,e.pe(2,167758)),e.e(0))])),167850:e.r(17,4,7,3253239598),171932:e.r(89,1,"https://www.expansion.com/fueradeserie"),173531:e.r(17,4,7,3264697157),173535:e.r(17,4,7,3263937271),173536:e.r(17,4,7,3263968007),173765:e.r(39,8,[79,281,62,76,63,511,510,468,"afiliacion disney","disney - english","disney plus - mx",344,343,78,342,489]),173828:e.r(40,4,["ser-autentico-y-real-una-nueva-tendencia-en-redes"]),173945:e.r(39,8,[511,510,468]),174914:e.r(17,4,7,3267407909),175005:e.r(40,4,["ley-del-silencio-y-acoso-escolar-un-tandem-que-hay-que-desarmar"]),175760:e.r(40,4,["como-afecta-la-presion-por-la-perfeccion-en-redes-sociales-a-los-mas-jovenes"]),176358:e.r(17,4,7,3274387333),176930:e.r(86,1,18,194),176931:e.q(e.tw(e.cw(3,e.ref(45),e.ge(1)),72576e6)),177173:e.r(18,4),177174:e.r(18,5),177204:e.r(89,1,"expansion.com/directivos"),177205:e.r(17,4,7,3275996811),177267:e.r(20,4),177282:e.r(19,4),177283:e.r(17,4,7,3280158904),177285:e.r(20,5),177286:e.r(19,5),177311:e.r(40,4,["ander-goenaga-vuela-en-la-cresta-de-la-ola"]),177312:e.r(40,4,["asi-es-el-pantallismo-la-adiccion-que-desconecta-a-los-adolescentes-de-la-realidad"]),177531:e.r(40,4,["me-dieron-dos-semanas-de-vida"]),177713:e.r(9,4,e.o([e.pe(7,3288654402),e.os(e.e,14,[6438274964,6437543977,6435266529])])),177714:e.r(17,5,7,3288654402),178570:e.r(13,6,e.os(e.s,17,["intencion_compra_vehiculo","intencion_compra_vehículo"]),9,"s"),178571:e.r(44,"n",["33JUGvhW","h8niUD5x"]),178574:e.r(12,6,9,"electrico",71),178575:e.r(12,6,9,"hibrido",71),178577:e.r(12,6,9,"gasolina",71),178578:e.r(12,6,9,"diesel",71),178579:e.r(12,6,9,"6m",90),178580:e.r(12,6,9,"6m_1a",90),178581:e.r(12,6,9,"1a_3a",90),178582:e.r(12,6,9,"mas_adelante",90),178717:e.r(17,4,7,3320723475),179437:e.r(40,4,["millan-de-benito-realiza-grand-jete-desde-la-rioja-al-royal-ballet-school"]),180796:e.r(40,4,["desconexion-social-pornografia-suicidio"]),181492:e.r(12,6,9,"pelis",20),181493:e.r(12,6,9,"series",20),181494:e.r(10,6,9,469,73),181495:e.r(12,6,9,"hbomax",73),181496:e.r(12,6,9,"primevideo",73),181497:e.r(12,6,9,"disneyplus",73),181498:e.r(12,6,9,"skyshowtime",73),181499:e.r(12,6,9,"otras",73),182914:e.r(40,4,["brecha-de-genero-en-el-mundo-steam"]),183671:e.r(40,4,["cuatro-referentes-femeninos"]),183954:e.r(17,4,7,3487306229),184178:e.r(17,4,7,3454142855),184546:e.r(40,4,["tenemosmuchoquedecir.elmundo.es/toni-nadal.html"]),185676:e.r(17,4,7,3534001588),185679:e.r(40,4,["https://www.marca.com/futbol/athletic","https://www.marca.com/futbol/atletico","https://www.marca.com/futbol/barcelona","https://www.marca.com/futbol/betis","https://www.marca.com/futbol/girona","https://www.marca.com/futbol/real-madrid","https://www.marca.com/futbol/real-sociedad","https://www.marca.com/futbol/valencia"]),185692:e.r(40,4,["https://www.marca.com/futbol/burgos","https://www.marca.com/futbol/eibar","https://www.marca.com/futbol/elche","https://www.marca.com/futbol/espanyol","https://www.marca.com/futbol/leganes","https://www.marca.com/futbol/sporting"]),185693:e.r(40,4,["https://www.marca.com/futbol/almeria","https://www.marca.com/futbol/cadiz","https://www.marca.com/futbol/celta","https://www.marca.com/futbol/granada","https://www.marca.com/futbol/rayo","https://www.marca.com/futbol/sevilla"]),185802:e.r(80,["GCm/l8sf","OUdrctc+","QQREbzgo"]),185803:e.r(80,["TnB2c1rn","X8bH/zmL","XEVNUc9D","cYWTrxQF"]),185804:e.r(77,e.a([e.y(18,194),e.bsc_(11,["Yiy4PsMR","rhuNEvYq"])])),186362:e.r(40,4,["tenemosmuchoquedecir.elmundo.es/suicidio.html"]),187175:e.r(40,4,["pobreza-infantil"]),187181:e.r(17,4,7,3540372643),188175:e.r(40,4,["afectividad-relaciones-sexuales"]),188447:e.r(22,4),188448:e.r(22,5),188449:e.r(23,4),188450:e.r(23,5),188451:e.r(21,4),188452:e.r(21,5),188586:e.r(16,3,4,["juFTia91"]),189500:e.r(40,4,["el-porno-les-encuentra"]),190097:e.r(40,4,["las-3-selecciones-de-futbol-que-nunca-se-rinden.html"]),190329:e.r(24,4),190330:e.r(24,5),190348:e.r(40,4,["justicia-climatica-educacion-ambiental"]),190405:e.r(72,40,588,588,68,68),190406:e.r(72,85,588,588,68,68),190480:e.r(72,85,591,591,68,68),190481:e.r(72,40,591,591,68,68),190482:e.r(72,40,592,592,68,68),190483:e.r(72,85,592,592,68,68),190484:e.r(72,85,589,589,68,68),190485:e.r(72,40,589,589,68,68),190486:e.r(50,190480,2,190480,["aggregations","SegmentEntry"],190406,2,190406,["aggregations","SegmentEntry"],190483,2,190483,["aggregations","SegmentEntry"],190484,2,190484),190488:e.r(54),190634:e.q(e.ocqs([e.cw(3,e.pge(6,60),e.ge(1)),e.cw(3,e.ple(6,1964),e.ge(1))])),191577:e.r(14,5,7,[3559077983,3554950061,3557015940,3556972452,3556663125]),191830:e.r(57,40,40,40,161,161,35,35,148,148),191837:e.r(57,40,40,40,76,76,11,11,47,47),191968:e.r(55,588,588,588,588,588,588),191971:e.r(54),191972:e.r(55,591,591,591,591,591,591),191973:e.r(55,592,592,592,592,592,592),191976:e.r(55,589,589,589,589,589,589),192129:e.r(57,85,85,85,161,161,35,35,191,191),192131:e.r(57,85,85,85,76,76,11,11,47,47),192263:e.r(50,141559,2,141559,["aggregations","SegmentEntry"],141560,2,141560,["aggregations","SegmentEntry"],141561,2,141561,["aggregations","SegmentEntry"],141562,2,141562),192271:e.r(13,6,e.as(e.x,9,[null,""]),17,"kraken_bl"),192827:e.q(e.ocqs([e.lm("3f4c0bae-2323-44c5-a0f3-bde840dcd717",e.ge(.85824144)),e.ifp("190634")])),192952:e.r(5,85,192953,192953,192954,192954,76,76),192953:e.r(3,192954,192954,11,11),192954:e.r(3,192953,192953,47,47),192956:e.r(5,85,192957,192957,192958,192958,161,161),192957:e.r(4,192958,192958,35,35),192958:e.r(4,192957,192957,191,191),192965:e.r(75,35,35),192966:e.r(75,191,191),192967:e.q(e.acqs([e.scq(e.tw(e.sw(0,e.ref(161),["properties","aggregations","PageviewEngagement","engaged_time"]),2592e6),e.vq(e.sw(1,e.ref(161),["properties","engaged_time"])),e.g(40)),e.scq(e.cw(0,e.pc(["aggregations","SegmentEntry"],192965)),e.cw(2,e.pe(2,192965)),e.e(0))])),192968:e.r(2,192970,192970,47,47),192969:e.r(5,39,192970,192970,192968,192968,76,76),192970:e.r(2,192968,192968,11,11),193153:e.r(40,4,["tenemosmuchoquedecir.elmundo.es/conciliacion.html","tenemosmuchoquedecir.expansion.com/conciliacion.html"]),193981:e.r(40,4,["tenemosmuchoquedecir.elmundo.es/acogimiento-residencial.html"]),194686:e.r(15,5,174),194689:e.r(15,4,174),194836:e.q(e.tw(e.cw(3,e.t,e.ge(1)),5184e6)),194837:e.q(e.tw(e.cw(3,e.t,e.ge(1)),2592e6)),194838:e.r(28,4),194839:e.r(29,4),194840:e.r(28,5),194842:e.r(29,5),194971:e.r(51,194838,194838,194839,194839),194972:e.r(51,194840,194840,194842,194842),195076:e.r(25,4),195088:e.r(25,5),195362:e.r(40,4,["tenemosmuchoquedecir.elmundo.es/abuelos.html"]),195741:e.r(30,5),195742:e.r(30,4),196949:e.r(26,4),196951:e.r(26,5),196952:e.r(31,5),196953:e.r(31,4),196954:e.r(32,5),196955:e.r(32,4),196956:e.r(33,5),196957:e.r(33,4),199464:e.r(68,"99790","199464"),199465:e.r(68,"63720","199465"),199467:e.r(68,"70450","199467"),199469:e.r(68,"99791","199469"),199470:e.r(68,"63721","199470"),199471:e.r(68,"70451","199471"),199589:e.r(27,4),199590:e.r(27,5),60219:e.r(34,3),61780:e.r(42,19,140),61825:e.r(42,19,168),62698:e.r(34,5),64821:e.r(39,1,[559,266,261]),65455:e.r(72,90,588,588,34,34),65456:e.r(0,55,.71,588,588,588,34,34,34),65457:e.r(72,55,588,588,34,34),65464:e.r(72,50,588,588,19,19),65465:e.r(72,25,589,589,57,57),65466:e.r(72,55,591,591,188,188),65467:e.r(73,25,592,592,307,307),65468:e.r(72,30,588,588,145,145),65469:e.r(72,55,589,589,157,157),65470:e.r(72,25,591,591,56,56),65471:e.r(72,50,592,592,28,28),65472:e.r(72,30,588,588,12,12),65473:e.r(72,30,589,589,106,106),65474:e.r(72,45,591,591,55,55),65475:e.r(72,40,592,592,24,24),65476:e.r(72,40,588,588,168,168),65477:e.r(72,15,589,589,152,152),65478:e.r(72,30,591,591,192,192),65479:e.r(73,47,592,592,329,329),65480:e.r(72,30,588,588,156,156),65481:e.r(72,15,589,589,129,129),65482:e.r(72,40,591,591,197,197),65483:e.r(72,35,592,592,120,120),65484:e.r(72,45,588,588,78,78),65485:e.r(72,15,589,589,58,58),65486:e.r(72,35,591,591,42,42),65487:e.r(72,50,592,592,181,181),65488:e.r(72,55,588,588,100,100),65489:e.r(72,20,589,589,66,66),65490:e.r(73,40,591,591,114,114),65491:e.r(72,45,592,592,53,53),65492:e.r(72,30,588,588,193,193),65493:e.r(72,40,589,589,32,32),65494:e.r(72,40,591,591,114,114),65495:e.r(72,65,592,592,4,4),65496:e.r(72,60,588,588,43,43),65497:e.r(72,25,589,589,0,0),65498:e.r(72,50,591,591,41,41),65499:e.r(72,35,592,592,195,195),65500:e.r(72,75,588,588,124,124),65501:e.r(72,45,589,589,186,186),65502:e.r(73,36,591,591,142,142),65503:e.r(72,50,592,592,25,25),65504:e.r(72,35,588,588,198,198),65505:e.r(72,30,589,589,203,203),65506:e.r(72,35,591,591,70,70),65507:e.r(72,65,592,592,74,74),65508:e.r(72,40,588,588,166,166),65509:e.r(72,15,589,589,105,105),65510:e.r(72,55,591,591,107,107),65511:e.r(72,50,592,592,118,118),65512:e.r(72,55,588,588,95,95),65513:e.r(72,25,589,589,54,54),65514:e.r(72,40,591,591,51,51),65515:e.r(72,35,592,592,178,178),65516:e.r(72,45,588,588,171,171),65517:e.r(72,25,589,589,123,123),65518:e.r(72,45,591,591,204,204),65519:e.r(72,40,592,592,180,180),65520:e.r(72,70,588,588,109,109),65521:e.r(72,45,589,589,59,59),65522:e.r(73,30,591,591,182,182),65523:e.r(72,30,592,592,151,151),65524:e.r(72,60,588,588,194,194),65525:e.r(72,30,589,589,128,128),65526:e.r(72,55,591,591,169,169),65527:e.r(72,45,592,592,5,5),65528:e.r(72,55,588,588,138,138),65529:e.r(72,20,589,589,15,15),65530:e.r(72,35,591,591,85,85),65531:e.r(72,25,592,592,131,131),65532:e.r(72,55,588,588,75,75),65533:e.r(72,45,591,591,31,31),65534:e.r(72,60,588,588,72,72),65535:e.r(72,25,589,589,141,141),65536:e.r(72,35,591,591,22,22),65537:e.r(72,35,592,592,185,185),65538:e.r(72,25,588,588,92,92),65539:e.r(72,45,589,589,111,111),65540:e.r(72,35,588,588,3,3),65541:e.r(72,35,589,589,183,183),65542:e.r(72,40,591,591,9,9),65543:e.r(72,35,588,588,130,130),65544:e.r(72,35,589,589,110,110),65545:e.r(72,20,591,591,103,103),65546:e.r(72,55,592,592,50,50),65547:e.r(72,55,588,588,165,165),65548:e.r(72,20,589,589,201,201),65549:e.r(73,40,591,591,236,236),65550:e.r(72,35,592,592,104,104),65551:e.r(72,45,588,588,177,177),65552:e.r(72,20,589,589,18,18),65553:e.r(72,70,591,591,127,127),65554:e.r(72,15,592,592,79,79),65555:e.r(72,35,588,588,27,27),65556:e.r(72,20,589,589,112,112),65557:e.r(72,40,591,591,202,202),65558:e.r(72,40,592,592,115,115),65559:e.r(72,40,588,588,160,160),65560:e.r(72,20,589,589,96,96),65561:e.r(72,45,591,591,87,87),65562:e.r(56,60,.59,588,122,588,122,588,122),65563:e.r(56,40,.63,589,179,589,179,589,179),65564:e.r(72,45,591,591,142,142),65565:e.r(56,40,.65,592,7,592,7,592,7),65566:e.r(72,40,588,588,38,38),65567:e.r(72,30,589,589,199,199),65568:e.r(72,40,591,591,46,46),65569:e.r(73,60,592,592,283,283),65570:e.r(67,62,.2,588,147,588,147,588,147),65571:e.r(67,57,.4,591,163,591,163,591,163),65572:e.r(73,18,592,592,286,286),65573:e.r(0,50,.67,588,588,588,19,19,19),65574:e.r(0,20,.46,589,589,589,57,57,57),65575:e.r(0,50,.57,591,591,591,188,188,188),65576:e.r(1,30,.67,592,592,592,307,307,307),65577:e.r(0,30,.63,588,588,588,145,145,145),65578:e.r(0,55,.69,589,589,589,157,157,157),65579:e.r(0,25,.51,591,591,591,56,56,56),65580:e.r(0,50,.51,592,592,592,28,28,28),65581:e.r(0,30,.63,588,588,588,12,12,12),65582:e.r(0,30,.47,589,589,589,106,106,106),65583:e.r(0,45,.6,591,591,591,55,55,55),65584:e.r(0,25,.64,592,592,592,24,24,24),65585:e.r(0,40,.65,588,588,588,168,168,168),65586:e.r(0,15,.42,589,589,589,152,152,152),65587:e.r(0,30,.53,591,591,591,192,192,192),65588:e.r(1,47,.77,592,592,592,329,329,329),65589:e.r(0,30,.62,588,588,588,156,156,156),65590:e.r(0,15,.41,589,589,589,129,129,129),65591:e.r(0,40,.64,591,591,591,197,197,197),65592:e.r(0,35,.51,592,592,592,120,120,120),65593:e.r(0,45,.64,588,588,588,78,78,78),65594:e.r(0,15,.44,589,589,589,58,58,58),65595:e.r(0,35,.64,591,591,591,42,42,42),65596:e.r(0,50,.75,592,592,592,181,181,181),65597:e.r(0,55,.68,588,588,588,100,100,100),65598:e.r(0,20,.47,589,589,589,66,66,66),65599:e.r(1,40,.58,591,591,591,114,114,114),65600:e.r(0,45,.7,592,592,592,53,53,53),65601:e.r(0,30,.67,588,588,588,193,193,193),65602:e.r(0,40,.56,589,589,589,32,32,32),65603:e.r(0,40,.56,591,591,591,114,114,114),65604:e.r(0,65,.65,592,592,592,4,4,4),65605:e.r(0,60,.64,588,588,588,43,43,43),65606:e.r(0,25,.52,589,589,589,0,0,0),65607:e.r(0,50,.69,591,591,591,41,41,41),65608:e.r(0,35,.58,592,592,592,195,195,195),65609:e.r(72,75,588,588,124,124),65610:e.r(72,45,589,589,186,186),65611:e.r(73,36,591,591,142,142),65612:e.r(72,50,592,592,25,25),65613:e.r(0,35,.61,588,588,588,198,198,198),65614:e.r(0,30,.52,589,589,589,203,203,203),65615:e.r(0,35,.66,591,591,591,70,70,70),65616:e.r(0,65,.72,592,592,592,74,74,74),65617:e.r(0,40,.66,588,588,588,166,166,166),65618:e.r(0,15,.42,589,589,589,105,105,105),65619:e.r(0,55,.29,591,591,591,107,107,107),65620:e.r(0,50,.73,592,592,592,118,118,118),65621:e.r(0,55,.58,588,588,588,95,95,95),65622:e.r(0,25,.46,589,589,589,54,54,54),65623:e.r(0,40,.54,591,591,591,51,51,51),65624:e.r(0,35,.63,592,592,592,178,178,178),65625:e.r(0,45,.66,588,588,588,171,171,171),65626:e.r(0,25,.53,589,589,589,123,123,123),65627:e.r(0,45,.7,591,591,591,204,204,204),65628:e.r(0,40,.65,592,592,592,180,180,180),65629:e.r(0,70,.66,588,588,588,109,109,109),65630:e.r(0,45,.7,589,589,589,59,59,59),65631:e.r(1,30,.64,591,591,591,182,182,182),65632:e.r(0,30,.66,592,592,592,151,151,151),65633:e.r(0,60,.55,588,588,588,194,194,194),65634:e.r(0,30,.47,589,589,589,128,128,128),65635:e.r(0,55,.64,591,591,591,169,169,169),65636:e.r(0,45,.64,592,592,592,5,5,5),65637:e.r(0,55,.66,588,588,588,138,138,138),65638:e.r(0,20,.43,589,589,589,15,15,15),65639:e.r(0,30,.56,591,591,591,85,85,85),65640:e.r(0,15,.57,592,592,592,131,131,131),65641:e.r(0,55,.6,588,588,588,75,75,75),65642:e.r(0,45,.72,591,591,591,31,31,31),65643:e.r(0,60,.63,588,588,588,72,72,72),65644:e.r(0,25,.47,589,589,589,141,141,141),65645:e.r(0,35,.61,591,591,591,22,22,22),65646:e.r(0,35,.64,592,592,592,185,185,185),65647:e.r(0,25,.63,588,588,588,92,92,92),65648:e.r(0,45,.48,589,589,589,111,111,111),65649:e.r(0,35,.67,588,588,588,3,3,3),65650:e.r(0,35,.57,589,589,589,183,183,183),65651:e.r(0,40,.66,591,591,591,9,9,9),65652:e.r(0,35,.61,588,588,588,130,130,130),65653:e.r(0,35,.54,589,589,589,110,110,110),65654:e.r(0,20,.54,591,591,591,103,103,103),65655:e.r(0,55,.58,592,592,592,50,50,50),65656:e.r(0,55,.66,588,588,588,165,165,165),65657:e.r(0,20,.46,589,589,589,201,201,201),65658:e.r(1,40,.64,591,591,591,236,236,236),65659:e.r(0,35,.67,592,592,592,104,104,104),65660:e.r(0,45,.62,588,588,588,177,177,177),65661:e.r(0,20,.48,589,589,589,18,18,18),65662:e.r(0,70,.55,591,591,591,127,127,127),65663:e.r(0,15,.65,592,592,592,79,79,79),65664:e.r(0,35,.65,588,588,588,27,27,27),65665:e.r(0,20,.47,589,589,589,112,112,112),65666:e.r(0,40,.65,591,591,591,202,202,202),65667:e.r(0,40,.66,592,592,592,115,115,115),65668:e.r(0,40,.67,588,588,588,160,160,160),65669:e.r(0,20,.48,589,589,589,96,96,96),65670:e.r(0,45,.66,591,591,591,87,87,87),65671:e.r(0,60,.59,588,588,588,122,122,122),65672:e.r(0,40,.63,589,589,589,179,179,179),65673:e.r(0,45,.66,591,591,591,142,142,142),65674:e.r(0,40,.65,592,592,592,7,7,7),65675:e.r(0,40,.66,588,588,588,38,38,38),65676:e.r(0,20,.46,589,589,589,199,199,199),65677:e.r(0,20,.61,591,591,591,46,46,46),65678:e.r(1,60,.72,592,592,592,283,283,283),65679:e.r(0,20,.62,588,588,588,147,147,147),65680:e.r(0,40,.57,591,591,591,163,163,163),65681:e.r(1,75,.18,592,592,592,286,286,286),65682:e.r(72,100,588,588,19,19),65683:e.r(72,65,589,589,57,57),65684:e.r(72,100,591,591,188,188),65685:e.r(73,40,592,592,307,307),65686:e.r(72,85,588,588,145,145),65687:e.r(72,100,589,589,157,157),65688:e.r(72,50,591,591,56,56),65689:e.r(72,120,592,592,28,28),65690:e.r(72,70,588,588,12,12),65691:e.r(72,75,589,589,106,106),65692:e.r(72,75,591,591,55,55),65693:e.r(72,50,592,592,24,24),65694:e.r(72,80,588,588,168,168),65695:e.r(72,30,589,589,152,152),65696:e.r(72,65,591,591,192,192),65697:e.r(73,80,592,592,329,329),65698:e.r(72,70,588,588,156,156),65699:e.r(72,30,589,589,129,129),65700:e.r(72,65,591,591,197,197),65701:e.r(72,80,592,592,120,120),65702:e.r(72,90,588,588,78,78),65703:e.r(72,35,589,589,58,58),65704:e.r(72,60,591,591,42,42),65705:e.r(72,80,592,592,181,181),65706:e.r(72,110,588,588,100,100),65707:e.r(72,50,589,589,66,66),65708:e.r(73,65,591,591,114,114),65709:e.r(72,70,592,592,53,53),65710:e.r(72,65,588,588,193,193),65711:e.r(72,80,589,589,32,32),65712:e.r(72,75,591,591,114,114),65713:e.r(72,125,592,592,4,4),65714:e.r(72,115,588,588,43,43),65715:e.r(72,65,589,589,0,0),65716:e.r(72,85,591,591,41,41),65717:e.r(0,70,.77,592,592,592,195,195,195),65718:e.r(72,135,588,588,124,124),65719:e.r(72,100,589,589,186,186),65720:e.r(73,65,591,591,142,142),65721:e.r(72,95,592,592,25,25),65722:e.r(72,75,588,588,198,198),65723:e.r(72,80,589,589,203,203),65724:e.r(72,80,591,591,70,70),65725:e.r(72,115,592,592,74,74),65726:e.r(72,90,588,588,166,166),65727:e.r(72,30,589,589,105,105),65728:e.r(72,125,591,591,107,107),65729:e.r(72,87,592,592,118,118),65730:e.r(72,120,588,588,95,95),65731:e.r(72,55,589,589,54,54),65732:e.r(72,85,591,591,51,51),65733:e.r(72,80,592,592,178,178),65734:e.r(72,95,588,588,171,171),65735:e.r(72,55,589,589,123,123),65736:e.r(72,90,591,591,204,204),65737:e.r(72,80,592,592,180,180),65738:e.r(72,135,588,588,109,109),65739:e.r(72,90,589,589,59,59),65740:e.r(73,55,591,591,182,182),65741:e.r(72,70,592,592,151,151),65742:e.r(72,155,588,588,194,194),65743:e.r(72,70,589,589,128,128),65744:e.r(72,95,591,591,169,169),65745:e.r(72,105,592,592,5,5),65746:e.r(0,125,.8,588,588,588,138,138,138),65747:e.r(72,45,589,589,15,15),65748:e.r(72,55,591,591,85,85),65749:e.r(72,30,592,592,131,131),65750:e.r(72,130,588,588,75,75),65751:e.r(72,70,591,591,31,31),65752:e.r(72,120,588,588,72,72),65753:e.r(72,50,589,589,141,141),65754:e.r(72,65,591,591,22,22),65755:e.r(72,65,592,592,185,185),65756:e.r(72,55,588,588,92,92),65757:e.r(72,95,589,589,111,111),65758:e.r(72,70,588,588,3,3),65759:e.r(72,70,589,589,183,183),65760:e.r(72,65,591,591,9,9),65761:e.r(72,70,588,588,130,130),65762:e.r(72,65,589,589,110,110),65763:e.r(72,50,591,591,103,103),65764:e.r(72,130,592,592,50,50),65765:e.r(72,120,588,588,165,165),65766:e.r(72,55,589,589,201,201),65767:e.r(73,60,591,591,236,236),65768:e.r(72,70,592,592,104,104),65769:e.r(72,100,588,588,177,177),65770:e.r(72,50,589,589,18,18),65771:e.r(72,175,591,591,127,127),65772:e.r(72,30,592,592,79,79),65773:e.r(72,85,588,588,27,27),65774:e.r(72,50,589,589,112,112),65775:e.r(72,100,591,591,202,202),65776:e.r(72,85,592,592,115,115),65777:e.r(72,75,588,588,160,160),65778:e.r(72,45,589,589,96,96),65779:e.r(72,75,591,591,87,87),65780:e.r(72,115,588,588,122,122),65781:e.r(72,75,589,589,179,179),65782:e.r(72,80,591,591,142,142),65783:e.r(72,70,592,592,7,7),65784:e.r(72,75,588,588,38,38),65785:e.r(72,60,589,589,199,199),65786:e.r(72,40,591,591,46,46),65787:e.r(73,85,592,592,283,283),65788:e.r(72,35,588,588,147,147),65789:e.r(72,80,591,591,163,163),65790:e.r(73,110,592,592,286,286),65965:e.r(50,65464,2,65464,["aggregations","SegmentEntry"],65465,2,65465,["aggregations","SegmentEntry"],65466,2,65466,["aggregations","SegmentEntry"],65467,2,65467),65966:e.r(50,65468,2,65468,["aggregations","SegmentEntry"],65469,2,65469,["aggregations","SegmentEntry"],65470,2,65470,["aggregations","SegmentEntry"],65471,2,65471),65967:e.r(50,65472,2,65472,["aggregations","SegmentEntry"],65473,2,65473,["aggregations","SegmentEntry"],65474,2,65474,["aggregations","SegmentEntry"],65475,2,65475),65968:e.r(50,65476,2,65476,["aggregations","SegmentEntry"],65477,2,65477,["aggregations","SegmentEntry"],65478,2,65478,["aggregations","SegmentEntry"],65479,2,65479),65969:e.r(50,65480,2,65480,["aggregations","SegmentEntry"],65481,2,65481,["aggregations","SegmentEntry"],65482,2,65482,["aggregations","SegmentEntry"],65483,2,65483),65970:e.r(50,65484,2,65484,["aggregations","SegmentEntry"],65485,2,65485,["aggregations","SegmentEntry"],65486,2,65486,["aggregations","SegmentEntry"],65487,2,65487),65971:e.r(50,65488,2,65488,["aggregations","SegmentEntry"],65489,2,65489,["aggregations","SegmentEntry"],65490,2,65490,["aggregations","SegmentEntry"],65491,2,65491),65972:e.r(50,65492,2,65492,["aggregations","SegmentEntry"],65493,2,65493,["aggregations","SegmentEntry"],65494,2,65494,["aggregations","SegmentEntry"],65495,2,65495),65973:e.r(50,65496,2,65496,["aggregations","SegmentEntry"],65497,2,65497,["aggregations","SegmentEntry"],65498,2,65498,["aggregations","SegmentEntry"],65499,2,65499),65974:e.r(50,65500,2,65500,["aggregations","SegmentEntry"],65501,2,65501,["aggregations","SegmentEntry"],65502,2,65502,["aggregations","SegmentEntry"],65503,2,65503),65975:e.r(50,65504,2,65504,["aggregations","SegmentEntry"],65505,2,65505,["aggregations","SegmentEntry"],65506,2,65506,["aggregations","SegmentEntry"],65507,2,65507),65976:e.r(50,65508,2,65508,["aggregations","SegmentEntry"],65509,2,65509,["aggregations","SegmentEntry"],65510,2,65510,["aggregations","SegmentEntry"],65511,2,65511),65977:e.r(50,65512,2,65512,["aggregations","SegmentEntry"],65513,2,65513,["aggregations","SegmentEntry"],65514,2,65514,["aggregations","SegmentEntry"],65515,2,65515),65978:e.r(50,65516,2,65516,["aggregations","SegmentEntry"],65517,2,65517,["aggregations","SegmentEntry"],65518,2,65518,["aggregations","SegmentEntry"],65519,2,65519),65979:e.r(50,65520,2,65520,["aggregations","SegmentEntry"],65521,2,65521,["aggregations","SegmentEntry"],65522,2,65522,["aggregations","SegmentEntry"],65523,2,65523),65980:e.r(50,65524,2,65524,["aggregations","SegmentEntry"],65525,2,65525,["aggregations","SegmentEntry"],65526,2,65526,["aggregations","SegmentEntry"],65527,2,65527),65981:e.r(50,65528,2,65528,["aggregations","SegmentEntry"],65529,2,65529,["aggregations","SegmentEntry"],65530,2,65530,["aggregations","SegmentEntry"],65531,2,65531),65982:e.r(51,65532,65532,65533,65533),65983:e.r(50,65534,2,65534,["aggregations","SegmentEntry"],65535,2,65535,["aggregations","SegmentEntry"],65536,2,65536,["aggregations","SegmentEntry"],65537,2,65537),65984:e.r(51,65538,65538,65539,65539),65985:e.r(52,65540,65540,65541,65541,65542,65542),65986:e.r(50,65543,2,65543,["aggregations","SegmentEntry"],65544,2,65544,["aggregations","SegmentEntry"],65545,2,65545,["aggregations","SegmentEntry"],65546,2,65546),65987:e.r(50,65547,2,65547,["aggregations","SegmentEntry"],65548,2,65548,["aggregations","SegmentEntry"],65549,2,65549,["aggregations","SegmentEntry"],65550,2,65550),65988:e.r(50,65551,2,65551,["aggregations","SegmentEntry"],65552,2,65552,["aggregations","SegmentEntry"],65553,2,65553,["aggregations","SegmentEntry"],65554,2,65554),65989:e.r(50,65555,2,65555,["aggregations","SegmentEntry"],65556,2,65556,["aggregations","SegmentEntry"],65557,2,65557,["aggregations","SegmentEntry"],65558,2,65558),65990:e.r(52,65559,65559,65560,65560,65561,65561),65991:e.r(50,65562,2,65562,["aggregations","SegmentEntry"],65563,2,65563,["aggregations","SegmentEntry"],65564,2,65564,["aggregations","SegmentEntry"],65565,2,65565),65992:e.r(50,65566,2,65566,["aggregations","SegmentEntry"],65567,2,65567,["aggregations","SegmentEntry"],65568,2,65568,["aggregations","SegmentEntry"],65569,2,65569),65993:e.r(52,65570,65570,65571,65571,65572,65572),65994:e.r(50,65573,2,65573,["aggregations","SegmentEntry"],65574,2,65574,["aggregations","SegmentEntry"],65575,2,65575,["aggregations","SegmentEntry"],65576,2,65576),65995:e.r(50,65577,2,65577,["aggregations","SegmentEntry"],65578,2,65578,["aggregations","SegmentEntry"],65579,2,65579,["aggregations","SegmentEntry"],65580,2,65580),65996:e.r(50,65581,2,65581,["aggregations","SegmentEntry"],65582,2,65582,["aggregations","SegmentEntry"],65583,2,65583,["aggregations","SegmentEntry"],65584,2,65584),65997:e.r(50,65585,2,65585,["aggregations","SegmentEntry"],65586,2,65586,["aggregations","SegmentEntry"],65587,2,65587,["aggregations","SegmentEntry"],65588,2,65588),65998:e.r(50,65589,2,65589,["aggregations","SegmentEntry"],65590,2,65590,["aggregations","SegmentEntry"],65591,2,65591,["aggregations","SegmentEntry"],65592,2,65592),65999:e.r(50,65593,2,65593,["aggregations","SegmentEntry"],65594,2,65594,["aggregations","SegmentEntry"],65595,2,65595,["aggregations","SegmentEntry"],65596,2,65596),66e3:e.r(50,65597,2,65597,["aggregations","SegmentEntry"],65598,2,65598,["aggregations","SegmentEntry"],65599,2,65599,["aggregations","SegmentEntry"],65600,2,65600),66001:e.r(50,65601,2,65601,["aggregations","SegmentEntry"],65602,2,65602,["aggregations","SegmentEntry"],65603,2,65603,["aggregations","SegmentEntry"],65604,2,65604),66002:e.r(50,65605,2,65605,["aggregations","SegmentEntry"],65606,2,65606,["aggregations","SegmentEntry"],65607,2,65607,["aggregations","SegmentEntry"],65608,2,65608),66003:e.r(50,65609,2,65609,["aggregations","SegmentEntry"],65610,2,65610,["aggregations","SegmentEntry"],65611,2,65611,["aggregations","SegmentEntry"],65612,2,65612),66004:e.r(50,65613,2,65613,["aggregations","SegmentEntry"],65614,2,65614,["aggregations","SegmentEntry"],65615,2,65615,["aggregations","SegmentEntry"],65616,2,65616),66005:e.r(50,65617,2,65617,["aggregations","SegmentEntry"],65618,2,65618,["aggregations","SegmentEntry"],65619,2,65619,["aggregations","SegmentEntry"],65620,2,65620),66006:e.r(50,65621,2,65621,["aggregations","SegmentEntry"],65622,2,65622,["aggregations","SegmentEntry"],65623,2,65623,["aggregations","SegmentEntry"],65624,2,65624),66007:e.r(50,65625,2,65625,["aggregations","SegmentEntry"],65626,2,65626,["aggregations","SegmentEntry"],65627,2,65627,["aggregations","SegmentEntry"],65628,2,65628),66008:e.r(50,65629,2,65629,["aggregations","SegmentEntry"],65630,2,65630,["aggregations","SegmentEntry"],65631,2,65631,["aggregations","SegmentEntry"],65632,2,65632),66009:e.r(50,65633,2,65633,["aggregations","SegmentEntry"],65634,2,65634,["aggregations","SegmentEntry"],65635,2,65635,["aggregations","SegmentEntry"],65636,2,65636),66010:e.r(50,65637,2,65637,["aggregations","SegmentEntry"],65638,2,65638,["aggregations","SegmentEntry"],65639,2,65639,["aggregations","SegmentEntry"],65640,2,65640),66011:e.r(51,65641,65641,65642,65642),66012:e.r(50,65643,2,65643,["aggregations","SegmentEntry"],65644,2,65644,["aggregations","SegmentEntry"],65645,2,65645,["aggregations","SegmentEntry"],65646,2,65646),66013:e.r(51,65647,65647,65648,65648),66014:e.r(52,65649,65649,65650,65650,65651,65651),66015:e.r(50,65652,2,65652,["aggregations","SegmentEntry"],65653,2,65653,["aggregations","SegmentEntry"],65654,2,65654,["aggregations","SegmentEntry"],65655,2,65655),66016:e.r(50,65656,2,65656,["aggregations","SegmentEntry"],65657,2,65657,["aggregations","SegmentEntry"],65658,2,65658,["aggregations","SegmentEntry"],65659,2,65659),66017:e.r(50,65660,2,65660,["aggregations","SegmentEntry"],65661,2,65661,["aggregations","SegmentEntry"],65662,2,65662,["aggregations","SegmentEntry"],65663,2,65663),66018:e.r(50,65664,2,65664,["aggregations","SegmentEntry"],65665,2,65665,["aggregations","SegmentEntry"],65666,2,65666,["aggregations","SegmentEntry"],65667,2,65667),66019:e.r(52,65668,65668,65669,65669,65670,65670),66020:e.r(50,65671,2,65671,["aggregations","SegmentEntry"],65672,2,65672,["aggregations","SegmentEntry"],65673,2,65673,["aggregations","SegmentEntry"],65674,2,65674),66021:e.r(50,65675,2,65675,["aggregations","SegmentEntry"],65676,2,65676,["aggregations","SegmentEntry"],65677,2,65677,["aggregations","SegmentEntry"],65678,2,65678),66022:e.r(52,65679,65679,65680,65680,65681,65681),66023:e.r(50,65682,2,65682,["aggregations","SegmentEntry"],65683,2,65683,["aggregations","SegmentEntry"],65684,2,65684,["aggregations","SegmentEntry"],65685,2,65685),66024:e.r(50,65686,2,65686,["aggregations","SegmentEntry"],65687,2,65687,["aggregations","SegmentEntry"],65688,2,65688,["aggregations","SegmentEntry"],65689,2,65689),66025:e.r(50,65690,2,65690,["aggregations","SegmentEntry"],65691,2,65691,["aggregations","SegmentEntry"],65692,2,65692,["aggregations","SegmentEntry"],65693,2,65693),66026:e.r(50,65694,2,65694,["aggregations","SegmentEntry"],65695,2,65695,["aggregations","SegmentEntry"],65696,2,65696,["aggregations","SegmentEntry"],65697,2,65697),66027:e.r(50,65698,2,65698,["aggregations","SegmentEntry"],65699,2,65699,["aggregations","SegmentEntry"],65700,2,65700,["aggregations","SegmentEntry"],65701,2,65701),66028:e.r(50,65702,2,65702,["aggregations","SegmentEntry"],65703,2,65703,["aggregations","SegmentEntry"],65704,2,65704,["aggregations","SegmentEntry"],65705,2,65705),66029:e.r(50,65706,2,65706,["aggregations","SegmentEntry"],65707,2,65707,["aggregations","SegmentEntry"],65708,2,65708,["aggregations","SegmentEntry"],65709,2,65709),66030:e.r(50,65710,2,65710,["aggregations","SegmentEntry"],65711,2,65711,["aggregations","SegmentEntry"],65712,2,65712,["aggregations","SegmentEntry"],65713,2,65713),66031:e.r(50,65714,2,65714,["aggregations","SegmentEntry"],65715,2,65715,["aggregations","SegmentEntry"],65716,2,65716,["aggregations","SegmentEntry"],65717,2,65717),66032:e.r(50,65718,2,65718,["aggregations","SegmentEntry"],65719,2,65719,["aggregations","SegmentEntry"],65720,2,65720,["aggregations","SegmentEntry"],65721,2,65721),66033:e.r(50,65722,2,65722,["aggregations","SegmentEntry"],65723,2,65723,["aggregations","SegmentEntry"],65724,2,65724,["aggregations","SegmentEntry"],65725,2,65725),66034:e.r(50,65726,2,65726,["aggregations","SegmentEntry"],65727,2,65727,["aggregations","SegmentEntry"],65728,2,65728,["aggregations","SegmentEntry"],65729,2,65729),66035:e.r(50,65730,2,65730,["aggregations","SegmentEntry"],65731,2,65731,["aggregations","SegmentEntry"],65732,2,65732,["aggregations","SegmentEntry"],65733,2,65733),66036:e.r(50,65734,2,65734,["aggregations","SegmentEntry"],65735,2,65735,["aggregations","SegmentEntry"],65736,2,65736,["aggregations","SegmentEntry"],65737,2,65737),66037:e.r(50,65738,2,65738,["aggregations","SegmentEntry"],65739,2,65739,["aggregations","SegmentEntry"],65740,2,65740,["aggregations","SegmentEntry"],65741,2,65741),66038:e.r(50,65742,2,65742,["aggregations","SegmentEntry"],65743,2,65743,["aggregations","SegmentEntry"],65744,2,65744,["aggregations","SegmentEntry"],65745,2,65745),66039:e.r(50,65746,2,65746,["aggregations","SegmentEntry"],65747,2,65747,["aggregations","SegmentEntry"],65748,2,65748,["aggregations","SegmentEntry"],65749,2,65749),66040:e.r(51,65750,65750,65751,65751),66041:e.r(50,65752,2,65752,["aggregations","SegmentEntry"],65753,2,65753,["aggregations","SegmentEntry"],65754,2,65754,["aggregations","SegmentEntry"],65755,2,65755),66042:e.r(51,65756,65756,65757,65757),66043:e.r(52,65758,65758,65759,65759,65760,65760),66044:e.r(50,65761,2,65761,["aggregations","SegmentEntry"],65762,2,65762,["aggregations","SegmentEntry"],65763,2,65763,["aggregations","SegmentEntry"],65764,2,65764),66045:e.r(50,65765,2,65765,["aggregations","SegmentEntry"],65766,2,65766,["aggregations","SegmentEntry"],65767,2,65767,["aggregations","SegmentEntry"],65768,2,65768),66046:e.r(50,65769,2,65769,["aggregations","SegmentEntry"],65770,2,65770,["aggregations","SegmentEntry"],65771,2,65771,["aggregations","SegmentEntry"],65772,2,65772),66047:e.r(50,65773,2,65773,["aggregations","SegmentEntry"],65774,2,65774,["aggregations","SegmentEntry"],65775,2,65775,["aggregations","SegmentEntry"],65776,2,65776),66048:e.r(52,65777,65777,65778,65778,65779,65779),66049:e.r(50,65780,2,65780,["aggregations","SegmentEntry"],65781,2,65781,["aggregations","SegmentEntry"],65782,2,65782,["aggregations","SegmentEntry"],65783,2,65783),66050:e.r(50,65784,2,65784,["aggregations","SegmentEntry"],65785,2,65785,["aggregations","SegmentEntry"],65786,2,65786,["aggregations","SegmentEntry"],65787,2,65787),66051:e.r(52,65788,65788,65789,65789,65790,65790),66156:e.r(42,18,194),66157:e.r(42,18,227),66224:e.r(11,3,e.bsc_(10,["r6TZnsjK","v60BYiER"]),13,454),66693:e.r(12,3,10,"Farmacia Hospitalaria",98),66696:e.r(90,.4),66697:e.r(90,.7),66704:e.r(40,22,["orange"]),66705:e.r(40,22,["telefonica"]),66706:e.r(43,22,"Vodafone"),66987:e.r(17,5,7,2829319110),67013:e.r(43,4,"https://www.elmundo.es/ciencia-y-salud/medio-ambiente"),71507:e.r(73,40,591,591,53,53),71508:e.r(73,50,591,591,55,55),71509:e.r(73,50,591,591,58,58),71510:e.r(72,55,588,588,86,86),71511:e.r(73,60,591,591,59,59),71512:e.r(72,35,588,588,89,89),71513:e.r(73,42,591,591,60,60),71514:e.r(72,40,588,588,80,80),71515:e.r(72,20,589,589,80,80),71516:e.r(73,35,591,591,68,68),71517:e.r(72,40,588,588,52,52),71518:e.r(72,30,589,589,52,52),71519:e.r(73,36,591,591,70,70),71520:e.r(73,60,592,592,70,70),71521:e.r(72,35,588,588,10,10),71522:e.r(73,35,591,591,86,86),71523:e.r(72,35,588,588,30,30),71524:e.r(72,50,591,591,176,176),71525:e.r(72,30,589,589,16,16),71526:e.r(72,30,588,588,60,60),71527:e.r(72,31,591,591,117,117),71528:e.r(72,30,588,588,140,140),71529:e.r(72,40,591,591,200,200),71530:e.r(72,50,588,588,150,150),71531:e.r(73,70,591,591,104,104),71532:e.r(72,70,588,588,84,84),71533:e.r(72,35,591,591,94,94),71534:e.r(73,35,591,591,113,113),71535:e.r(72,50,588,588,134,134),71536:e.r(73,50,591,591,114,114),71537:e.r(73,40,591,591,118,118),71538:e.r(72,45,588,588,83,83),71539:e.r(72,40,591,591,184,184),71540:e.r(72,50,588,588,113,113),71541:e.r(72,50,591,591,23,23),71542:e.r(72,55,588,588,1,1),71543:e.r(72,57,591,591,158,158),71544:e.r(72,45,588,588,172,172),71545:e.r(72,50,591,591,182,182),71546:e.r(72,25,588,588,39,39),71547:e.r(73,33,591,591,142,142),71548:e.r(72,35,588,588,116,116),71549:e.r(73,45,591,591,146,146),71550:e.r(73,75,591,591,147,147),71551:e.r(72,25,591,591,13,13),71552:e.r(72,20,588,588,88,88),71553:e.r(73,90,588,588,158,158),71554:e.r(72,35,588,588,187,187),71555:e.r(72,35,588,588,65,65),71556:e.r(72,30,589,589,136,136),71557:e.r(73,40,591,591,172,172),71558:e.r(72,25,588,588,26,26),71559:e.r(73,72,591,591,174,174),71560:e.r(72,35,588,588,49,49),71561:e.r(73,25,591,591,175,175),71562:e.r(72,55,588,588,2,2),71563:e.r(72,30,589,589,2,2),71564:e.r(73,50,591,591,176,176),71565:e.r(73,35,591,591,184,184),71566:e.r(73,25,591,591,187,187),71567:e.r(72,45,588,588,21,21),71568:e.r(72,20,589,589,21,21),71569:e.r(73,48,591,591,190,190),71570:e.r(72,55,588,588,97,97),71571:e.r(72,30,589,589,97,97),71572:e.r(73,65,591,591,192,192),71573:e.r(72,55,592,592,164,164),71574:e.r(72,30,588,588,146,146),71575:e.r(73,43,591,591,193,193),71576:e.r(72,35,588,588,102,102),71577:e.r(72,20,589,589,102,102),71578:e.r(73,50,591,591,196,196),71579:e.r(72,45,588,588,167,167),71580:e.r(72,20,589,589,167,167),71581:e.r(73,25,591,591,199,199),71582:e.r(72,30,588,588,137,137),71583:e.r(72,45,588,588,159,159),71584:e.r(73,35,591,591,202,202),71585:e.r(72,30,588,588,91,91),71586:e.r(73,31,591,591,207,207),71587:e.r(72,45,588,588,175,175),71588:e.r(73,42,591,591,208,208),71589:e.r(73,35,592,592,208,208),71590:e.r(73,40,591,591,209,209),71591:e.r(72,40,588,588,63,63),71592:e.r(72,25,589,589,67,67),71593:e.r(73,50,591,591,212,212),71594:e.r(72,35,588,588,93,93),71595:e.r(72,50,591,591,126,126),71596:e.r(72,50,591,591,189,189),71597:e.r(72,46,591,591,14,14),71598:e.r(73,17,591,591,230,230),71599:e.r(72,50,588,588,149,149),71600:e.r(72,20,588,588,155,155),71601:e.r(73,43,591,591,234,234),71602:e.r(72,30,588,588,121,121),71603:e.r(72,25,588,588,173,173),71604:e.r(73,70,591,591,239,239),71605:e.r(72,40,588,588,143,143),71606:e.r(73,60,591,591,240,240),71607:e.r(73,45,591,591,241,241),71608:e.r(72,40,588,588,135,135),71609:e.r(73,60,591,591,242,242),71610:e.r(73,30,591,591,243,243),71611:e.r(73,40,591,591,244,244),71612:e.r(73,30,591,591,247,247),71613:e.r(73,26,591,591,250,250),71614:e.r(72,55,588,588,153,153),71615:e.r(73,80,591,591,251,251),71616:e.r(72,45,588,588,133,133),71617:e.r(73,50,591,591,254,254),71618:e.r(72,40,588,588,162,162),71619:e.r(72,30,591,591,40,40),71620:e.r(72,45,592,592,125,125),71621:e.r(72,50,591,591,8,8),71622:e.r(72,55,588,588,37,37),71623:e.r(72,10,591,591,190,190),71624:e.r(72,50,588,588,170,170),71625:e.r(72,37,591,591,139,139),71626:e.r(72,30,588,588,17,17),71627:e.r(72,30,589,589,29,29),71628:e.r(72,35,591,591,82,82),71629:e.r(72,50,588,588,64,64),71630:e.r(73,55,591,591,278,278),71631:e.r(73,30,591,591,279,279),71632:e.r(72,45,588,588,119,119),71633:e.r(73,25,591,591,280,280),71634:e.r(72,45,588,588,144,144),71635:e.r(73,45,591,591,284,284),71636:e.r(72,40,588,588,69,69),71637:e.r(72,30,589,589,99,99),71638:e.r(73,38,591,591,285,285),71639:e.r(73,35,591,591,287,287),71640:e.r(73,95,591,591,53,53),71641:e.r(73,80,591,591,55,55),71642:e.r(73,109,591,591,58,58),71643:e.r(72,100,588,588,86,86),71644:e.r(73,135,591,591,59,59),71645:e.r(72,70,588,588,89,89),71646:e.r(73,80,591,591,60,60),71647:e.r(72,80,588,588,80,80),71648:e.r(72,55,589,589,80,80),71649:e.r(73,70,591,591,68,68),71650:e.r(72,105,588,588,52,52),71651:e.r(72,75,589,589,52,52),71652:e.r(73,80,591,591,70,70),71653:e.r(73,110,592,592,70,70),71654:e.r(72,80,588,588,10,10),71655:e.r(73,63,591,591,86,86),71656:e.r(72,85,588,588,30,30),71657:e.r(72,80,591,591,176,176),71658:e.r(72,50,589,589,16,16),71659:e.r(72,70,588,588,60,60),71660:e.r(72,50,591,591,117,117),71661:e.r(72,65,588,588,140,140),71662:e.r(72,75,591,591,200,200),71663:e.r(72,95,588,588,150,150),71664:e.r(73,108,591,591,104,104),71665:e.r(72,140,588,588,84,84),71666:e.r(72,65,591,591,94,94),71667:e.r(73,50,591,591,113,113),71668:e.r(72,140,588,588,134,134),71669:e.r(73,115,591,591,114,114),71670:e.r(73,65,591,591,118,118),71671:e.r(72,90,588,588,83,83),71672:e.r(72,65,591,591,184,184),71673:e.r(72,95,588,588,113,113),71674:e.r(72,80,591,591,23,23),71675:e.r(72,110,588,588,1,1),71676:e.r(72,104,591,591,158,158),71677:e.r(72,90,588,588,172,172),71678:e.r(72,81,591,591,182,182),71679:e.r(72,60,588,588,39,39),71680:e.r(73,70,591,591,142,142),71681:e.r(72,65,588,588,116,116),71682:e.r(73,65,591,591,146,146),71683:e.r(73,110,591,591,147,147),71684:e.r(72,47,591,591,13,13),71685:e.r(72,50,588,588,88,88),71686:e.r(73,125,588,588,158,158),71687:e.r(72,80,588,588,187,187),71688:e.r(72,80,588,588,65,65),71689:e.r(72,80,589,589,136,136),71690:e.r(73,75,591,591,172,172),71691:e.r(72,55,588,588,26,26),71692:e.r(73,131,591,591,174,174),71693:e.r(72,60,588,588,49,49),71694:e.r(73,50,591,591,175,175),71695:e.r(72,135,588,588,2,2),71696:e.r(72,85,589,589,2,2),71697:e.r(73,110,591,591,176,176),71698:e.r(73,62,591,591,184,184),71699:e.r(73,45,591,591,187,187),71700:e.r(72,110,588,588,21,21),71701:e.r(72,45,589,589,21,21),71702:e.r(73,94,591,591,190,190),71703:e.r(72,150,588,588,97,97),71704:e.r(72,75,589,589,97,97),71705:e.r(73,155,591,591,192,192),71706:e.r(72,105,592,592,164,164),71707:e.r(72,55,588,588,146,146),71708:e.r(73,75,591,591,193,193),71709:e.r(72,75,588,588,102,102),71710:e.r(72,55,589,589,102,102),71711:e.r(73,90,591,591,196,196),71712:e.r(72,85,588,588,167,167),71713:e.r(72,45,589,589,167,167),71714:e.r(73,40,591,591,199,199),71715:e.r(72,155,588,588,137,137),71716:e.r(72,95,588,588,159,159),71717:e.r(73,74,591,591,202,202),71718:e.r(72,55,588,588,91,91),71719:e.r(73,50,591,591,207,207),71720:e.r(72,75,588,588,175,175),71721:e.r(73,75,591,591,208,208),71722:e.r(73,70,592,592,208,208),71723:e.r(73,65,591,591,209,209),71724:e.r(72,80,588,588,63,63),71725:e.r(72,70,589,589,67,67),71726:e.r(73,75,591,591,212,212),71727:e.r(72,75,588,588,93,93),71728:e.r(72,88,591,591,126,126),71729:e.r(72,80,591,591,189,189),71730:e.r(72,71,591,591,14,14),71731:e.r(73,36,591,591,230,230),71732:e.r(72,90,588,588,149,149),71733:e.r(72,45,588,588,155,155),71734:e.r(73,75,591,591,234,234),71735:e.r(72,70,588,588,121,121),71736:e.r(72,60,588,588,173,173),71737:e.r(73,175,591,591,239,239),71738:e.r(72,85,588,588,143,143),71739:e.r(73,149,591,591,240,240),71740:e.r(73,100,591,591,241,241),71741:e.r(72,75,588,588,135,135),71742:e.r(73,110,591,591,242,242),71743:e.r(73,55,591,591,243,243),71744:e.r(73,85,591,591,244,244),71745:e.r(73,55,591,591,247,247),71746:e.r(73,45,591,591,250,250),71747:e.r(72,125,588,588,153,153),71748:e.r(73,260,591,591,251,251),71749:e.r(72,85,588,588,133,133),71750:e.r(73,95,591,591,254,254),71751:e.r(72,85,588,588,162,162),71752:e.r(72,55,591,591,40,40),71753:e.r(72,110,592,592,125,125),71754:e.r(72,80,591,591,8,8),71755:e.r(72,150,588,588,37,37),71756:e.r(72,25,591,591,190,190),71757:e.r(72,80,588,588,170,170),71758:e.r(72,74,591,591,139,139),71759:e.r(72,65,588,588,17,17),71760:e.r(72,55,589,589,29,29),71761:e.r(72,60,591,591,82,82),71762:e.r(72,105,588,588,64,64),71763:e.r(73,90,591,591,278,278),71764:e.r(73,85,591,591,279,279),71765:e.r(72,75,588,588,119,119),71766:e.r(73,55,591,591,280,280),71767:e.r(72,85,588,588,144,144),71768:e.r(73,70,591,591,284,284),71769:e.r(72,90,588,588,69,69),71770:e.r(72,70,589,589,99,99),71771:e.r(73,80,591,591,285,285),71772:e.r(73,94,591,591,287,287),71899:e.r(71,71507,71507),71900:e.r(71,71508,71508),71901:e.r(71,71509,71509),71902:e.r(51,71510,71510,71511,71511),71903:e.r(51,71512,71512,71513,71513),71904:e.r(52,71514,71514,71515,71515,71519,71519),71915:e.r(51,71521,71521,71522,71522),71916:e.r(51,71523,71523,71524,71524),71917:e.r(71,71525,71525),71918:e.r(71,71526,71526),71919:e.r(71,71527,71527),71920:e.r(51,71528,71528,71529,71529),71921:e.r(51,71530,71530,71531,71531),71922:e.r(51,71532,71532,71533,71533),71923:e.r(71,71534,71534),71924:e.r(51,71535,71535,71536,71536),71925:e.r(71,71537,71537),71926:e.r(71,71538,71538),71927:e.r(71,71539,71539),71928:e.r(51,71540,71540,71541,71541),71929:e.r(51,71542,71542,71543,71543),71930:e.r(51,71544,71544,71545,71545),71931:e.r(71,71549,71549),71932:e.r(71,71550,71550),71933:e.r(51,71546,71546,71547,71547),71934:e.r(71,71548,71548),71935:e.r(71,71551,71551),71936:e.r(71,71552,71552),71937:e.r(71,71553,71553),71938:e.r(71,71554,71554),71939:e.r(52,71555,71555,71556,71556,71557,71557),71948:e.r(51,71558,71558,71559,71559),71949:e.r(51,71560,71560,71561,71561),71950:e.r(71,71566,71566),71951:e.r(71,71565,71565),71952:e.r(51,71574,71574,71575,71575),71953:e.r(71,71582,71582),71954:e.r(51,71583,71583,71584,71584),71955:e.r(71,71585,71585),71956:e.r(71,71586,71586),71957:e.r(71,71590,71590),71958:e.r(51,71594,71594,71595,71595),71959:e.r(71,71596,71596),71960:e.r(71,71597,71597),71961:e.r(71,71598,71598),71962:e.r(71,71599,71599),71963:e.r(51,71600,71600,71601,71601),71964:e.r(71,71602,71602),71965:e.r(51,71603,71603,71604,71604),71966:e.r(51,71605,71605,71606,71606),71967:e.r(71,71607,71607),71968:e.r(51,71608,71608,71609,71609),71969:e.r(71,71610,71610),71970:e.r(71,71611,71611),71971:e.r(71,71612,71612),71972:e.r(71,71613,71613),71973:e.r(51,71614,71614,71615,71615),71974:e.r(51,71616,71616,71617,71617),71975:e.r(71,71621,71621),71976:e.r(71,71622,71622),71977:e.r(71,71623,71623),71978:e.r(51,71624,71624,71625,71625),71979:e.r(51,71629,71629,71630,71630),71980:e.r(71,71631,71631),71981:e.r(51,71632,71632,71633,71633),71982:e.r(51,71634,71634,71635,71635),71983:e.r(71,71639,71639),71984:e.r(71,71640,71640),71985:e.r(71,71641,71641),71986:e.r(71,71642,71642),71987:e.r(51,71643,71643,71644,71644),71988:e.r(51,71645,71645,71646,71646),71989:e.r(51,71654,71654,71655,71655),71990:e.r(51,71656,71656,71657,71657),71991:e.r(71,71658,71658),71992:e.r(71,71659,71659),71993:e.r(71,71660,71660),71994:e.r(51,71661,71661,71662,71662),71995:e.r(51,71663,71663,71664,71664),71996:e.r(51,71665,71665,71666,71666),71997:e.r(71,71667,71667),71998:e.r(51,71668,71668,71669,71669),71999:e.r(71,71670,71670),72e3:e.r(71,71671,71671),72001:e.r(71,71672,71672),72002:e.r(51,71673,71673,71674,71674),72003:e.r(51,71675,71675,71676,71676),72004:e.r(51,71677,71677,71678,71678),72005:e.r(71,71682,71682),72006:e.r(71,71683,71683),72007:e.r(51,71679,71679,71680,71680),72008:e.r(71,71681,71681),72009:e.r(71,71684,71684),72010:e.r(71,71685,71685),72011:e.r(71,71686,71686),72012:e.r(71,71687,71687),72013:e.r(51,71691,71691,71692,71692),72014:e.r(51,71693,71693,71694,71694),72015:e.r(71,71699,71699),72016:e.r(71,71698,71698),72017:e.r(51,71707,71707,71708,71708),72018:e.r(71,71715,71715),72019:e.r(51,71716,71716,71717,71717),72020:e.r(71,71718,71718),72021:e.r(71,71719,71719),72022:e.r(71,71723,71723),72023:e.r(51,71727,71727,71728,71728),72024:e.r(71,71729,71729),72025:e.r(71,71730,71730),72026:e.r(71,71731,71731),72027:e.r(71,71732,71732),72028:e.r(51,71733,71733,71734,71734),72029:e.r(71,71735,71735),72030:e.r(51,71736,71736,71737,71737),72031:e.r(51,71738,71738,71739,71739),72032:e.r(71,71740,71740),72033:e.r(51,71741,71741,71742,71742),72034:e.r(71,71743,71743),72035:e.r(71,71744,71744),72036:e.r(71,71745,71745),72037:e.r(71,71746,71746),72038:e.r(51,71747,71747,71748,71748),72039:e.r(51,71749,71749,71750,71750),72040:e.r(71,71754,71754),72041:e.r(71,71755,71755),72042:e.r(71,71756,71756),72043:e.r(51,71757,71757,71758,71758),72044:e.r(51,71762,71762,71763,71763),72045:e.r(71,71764,71764),72046:e.r(51,71765,71765,71766,71766),72047:e.r(51,71767,71767,71768,71768),72048:e.r(71,71772,71772),72049:e.r(50,71517,2,71517,["aggregations","SegmentEntry"],71518,2,71518,["aggregations","SegmentEntry"],71519,2,71519,["aggregations","SegmentEntry"],71520,2,71520),72053:e.r(52,71562,71562,71563,71563,71564,71564),72054:e.r(52,71567,71567,71568,71568,71569,71569),72055:e.r(50,71570,2,71570,["aggregations","SegmentEntry"],71571,2,71571,["aggregations","SegmentEntry"],71572,2,71572,["aggregations","SegmentEntry"],71573,2,71573),72056:e.r(52,71576,71576,71577,71577,71578,71578),72057:e.r(52,71579,71579,71580,71580,71581,71581),72058:e.r(52,71587,71587,71588,71588,71589,71589),72059:e.r(52,71591,71591,71592,71592,71593,71593),72060:e.r(52,71618,71618,71619,71619,71620,71620),72061:e.r(52,71626,71626,71627,71627,71628,71628),72062:e.r(52,71636,71636,71637,71637,71638,71638),72063:e.r(52,71647,71647,71648,71648,71649,71649),72064:e.r(50,71650,2,71650,["aggregations","SegmentEntry"],71651,2,71651,["aggregations","SegmentEntry"],71652,2,71652,["aggregations","SegmentEntry"],71653,2,71653),72065:e.r(52,71688,71688,71689,71689,71690,71690),72066:e.r(52,71695,71695,71696,71696,71697,71697),72067:e.r(52,71700,71700,71701,71701,71702,71702),72068:e.r(50,71703,2,71703,["aggregations","SegmentEntry"],71704,2,71704,["aggregations","SegmentEntry"],71705,2,71705,["aggregations","SegmentEntry"],71706,2,71706),72069:e.r(52,71709,71709,71710,71710,71711,71711),72070:e.r(52,71712,71712,71713,71713,71714,71714),72071:e.r(52,71720,71720,71721,71721,71722,71722),72072:e.r(52,71724,71724,71725,71725,71726,71726),72073:e.r(52,71751,71751,71752,71752,71753,71753),72074:e.r(52,71759,71759,71760,71760,71761,71761),72075:e.r(52,71769,71769,71770,71770,71771,71771),72681:e.q(e.scq(e.tw(e.sw(0,e.ref(62),["properties","aggregations","PageviewEngagement","engaged_time"]),24192e5),e.vq(e.sw(1,e.ref(62),["properties","engaged_time"])),e.g(45))),72711:e.r(10,3,10,77,61),73164:e.r(38,"Inmunología"),73165:e.r(11,3,e.y(13,188),10,177),73166:e.r(38,"Medicina Preventiva y Salud Pública"),73965:e.r(38,"Alergología"),75936:e.r(12,3,10,"Aparato Digestivo",61),75937:e.r(12,3,10,"Reumatología",61),76469:e.r(12,3,10,"Cardiología",61),77498:e.r(43,4,"telva.com/bienestar"),79652:e.r(43,4,"https://compartiendoconocimiento.elmundo.es/"),83156:e.r(77,e.os(e.cx,8,[344,343,"amazon-prime-video","amazon prime video","HBO","hbo","Netflix,YouTube,Facebook,Televisión","Netflix",469])),85242:e.r(70,"887643018085060608","85242"),85663:e.r(39,8,["dolor de garganta","Dolor de garganta","Gripe","enfermedad invierno","deporte vida saludable","vida saludable invierno","sistema inmune","alimentos invierno","vacunación gripe","dolor de cabeza","laringitis","faringitis","sinusitis","congestión nasal","catarro","gripe","frio","Frío","Invierno","invierno"]),85747:e.r(42,18,227),86061:e.r(74,477,502,502),86062:e.r(74,387,313,313),86063:e.r(74,209,298,298),86166:e.r(70,"874671873416417280","86166"),86167:e.r(70,"882943877849706496","86167"),87447:e.r(70,"874672089828925440","87447"),87682:e.r(16,6,9,["PTwjRZXv"]),87820:e.r(45,["la2","la1"]),87821:e.r(45,["sexta","a3"]),88179:e.r(14,4,7,[2918019523,2916854827,2917347341,2916483298]),88695:e.r(42,18,227),89077:e.r(76,65,12,408,12,408),89079:e.r(76,87,5,312,5,312),89081:e.r(76,65,5,457,5,457),89082:e.r(76,87,12,407,12,407),89083:e.r(76,94,5,299,5,299),89086:e.r(76,65,5,295,5,295),93629:e.r(70,"874672436500733952","93629"),94125:e.r(87,"betis"),94126:e.r(87,"sevilla"),94127:e.r(87,"euroliga"),94128:e.r(87,"nba"),94129:e.r(87,"acb"),97266:e.r(49,"dw0001","97266","los-eternos-los-nuevos-heroes-que-llegan-para-poner-el-universo-marvel-patas-arriba"),97267:e.r(49,"dw0002","97267","dopesick"),97849:e.r(43,4,"de-los-beatles-a-billie-eilish-la-edad-dorada-del-documental-musica"),97851:e.r(9,3,e.as(e.s,4,["index","masdeloqueimaginas"])),98385:e.r(16,3,20,["0NxpxR1d"]),98608:e.r(39,8,["Agenda 2030","Sostenible","ODS","Emisiones cero","Gestión empresarial","Proyecto medioambiental","Gestión residuos","Gestión medioambiental","Economía verde","Certificado de sostenibilidad","RRHH","Formación","Economía circular","Sostenibilidad"]),98617:e.q(e.ocqs([e.cw(3,e.bsc_(["article","newsid"],["ep/5miO0"]),e.ge(1)),e.cw(5,e.pe(7,2981105724),e.ge(1)),e.cw(5,e.pe(7,2984562360),e.ge(1))])),99133:e.r(41,489),99323:e.r(43,4,"como-han-conseguido-las-peliculas-de-wes-anderson-enamorarnos-a-todos")};return{env:e,locallyLiftedQueries:c||{},cloudLiftedQueries:void 0===s?{}:s,queriesByEvent:{"!UpdateLookalikeModels":["192827"],"!UpdateSecondPartyData":["136198","136199","136200","136201","136202","136203","136204","136205","136207","136208","136209","136561","136562","136563","136564","136565","136566","136567","136568","136570","146608","149237","199464","199465","199467","199469","199470","199471","85242","86166","86167","87447","93629","97266","97267"],Pageview:["10000000","10000001","10000002","10000003","10000004","10000005","10000006","10000007","10000008","10000010","10000011","10000012","10000013","10000014","10000015","10000016","10000017","10000018","10000019","10000020","10000021","10000022","10000023","10000024","10000025","10000026","10000035","10000036","10000037","10000038","10000039","10000040","10000041","10000042","10000043","10000044","10000045","10000046","10000047","10000048","10000049","10000050","10000051","10000052","10000053","10000054","10000055","10000056","10000057","10000058","10000059","10000060","10000061","10000062","10000063","10000064","10000065","10000066","10000067","10000068","10000069","10000070","10000071","10000072","10000073","10000074","10000075","10000076","10000077","10000078","10000079","10000080","10000081","10000082","10000083","10000084","10000085","10000086","10000087","10000088","10000089","10000090","10000324","10000325","10000327","10000328","10000329","10000330","10000687","10000688","10000689","10000690","10000691","10000692","10000693","10000694","10000695","10000696","10000697","10000698","10000699","10000700","10000701","10000702","10000703","10000704","10000705","10000706","10000707","10000708","10000709","10000710","10000711","10000712","10000713","10000714","10000715","10000716","10000717","10000718","10000719","10000720","10000721","10000722","10000723","10000724","10000725","10000726","10000727","10000728","10000729","10000730","10000731","10000732","10000733","10000734","10000735","10000736","10000737","10000738","10000739","10000740","10000741","10000742","10000743","10000744","10000745","10000746","10000747","10000748","10000749","10000750","10000751","10000752","10000753","10000754","10000755","10000756","10000757","10000758","10000759","10000760","10000761","10000762","10000763","10000764","10000765","10000766","10000767","10000768","10000769","10000770","10000771","10000772","10000773","10000774","10000775","10000776","10000777","10000778","10000779","10000780","10000781","10000782","10000783","10000784","10000785","10000786","10000787","10000788","10000789","10000790","10000791","10000792","10000793","10000794","10000795","10000796","10000797","10000798","10000799","10000800","10000801","10000802","10000803","101097","101929","101931","101937","101938","101940","103274","103671","103866","103867","103868","104041","104124","104860","104863","104864","105126","105732","105807","106291","107478","108682","109284","113217","113218","114267","114299","114499","115581","115678","120929","122441","122876","122884","123341","123342","124682","124688","125228","129720","129722","129723","129767","129768","129770","130380","134599","137319","137549","137550","137905","139347","140869","140871","140872","140873","141557","141558","141559","141560","141561","141562","141563","141564","141565","141566","141567","141569","141571","141574","141575","141576","142332","142968","143082","143085","143086","143088","143089","143091","143094","143096","143105","145717","146605","146607","146608","146741","146742","146743","146746","146747","146748","146749","146750","146751","146887","147113","148108","148892","148893","148894","148895","148897","149176","149684","150456","153456","153651","155425","155426","156100","156651","157376","167757","167758","167759","171932","173765","173828","173945","175005","175760","176930","176931","177204","177311","177312","177531","179437","180796","182914","183671","184546","185679","185692","185693","185802","185803","185804","186362","187175","188175","188586","189500","190097","190348","190634","193153","193981","194836","194837","195362","60219","61780","61825","64821","66156","66157","66224","66693","66704","66705","66706","67013","72711","73164","73165","73166","73965","75936","75937","76469","77498","79652","83156","85663","85747","88695","94125","94126","94127","94128","94129","97266","97267","97849","97851","98385","98608","98617","99133","99323"],PageviewComplete:["123923","134452","155797","167759","190405","190406","190480","190481","190482","190483","190484","190485","190486","190488","191830","191837","191968","191971","191972","191973","191976","192129","192131","192263","192952","192953","192954","192956","192957","192958","192965","192966","192967","192968","192969","192970","194971","194972","65455","65456","65457","65464","65465","65466","65467","65468","65469","65470","65471","65472","65473","65474","65475","65476","65477","65478","65479","65480","65481","65482","65483","65484","65485","65486","65487","65488","65489","65490","65491","65492","65493","65494","65495","65496","65497","65498","65499","65500","65501","65502","65503","65504","65505","65506","65507","65508","65509","65510","65511","65512","65513","65514","65515","65516","65517","65518","65519","65520","65521","65522","65523","65524","65525","65526","65527","65528","65529","65530","65531","65532","65533","65534","65535","65536","65537","65538","65539","65540","65541","65542","65543","65544","65545","65546","65547","65548","65549","65550","65551","65552","65553","65554","65555","65556","65557","65558","65559","65560","65561","65562","65563","65564","65565","65566","65567","65568","65569","65570","65571","65572","65573","65574","65575","65576","65577","65578","65579","65580","65581","65582","65583","65584","65585","65586","65587","65588","65589","65590","65591","65592","65593","65594","65595","65596","65597","65598","65599","65600","65601","65602","65603","65604","65605","65606","65607","65608","65609","65610","65611","65612","65613","65614","65615","65616","65617","65618","65619","65620","65621","65622","65623","65624","65625","65626","65627","65628","65629","65630","65631","65632","65633","65634","65635","65636","65637","65638","65639","65640","65641","65642","65643","65644","65645","65646","65647","65648","65649","65650","65651","65652","65653","65654","65655","65656","65657","65658","65659","65660","65661","65662","65663","65664","65665","65666","65667","65668","65669","65670","65671","65672","65673","65674","65675","65676","65677","65678","65679","65680","65681","65682","65683","65684","65685","65686","65687","65688","65689","65690","65691","65692","65693","65694","65695","65696","65697","65698","65699","65700","65701","65702","65703","65704","65705","65706","65707","65708","65709","65710","65711","65712","65713","65714","65715","65716","65717","65718","65719","65720","65721","65722","65723","65724","65725","65726","65727","65728","65729","65730","65731","65732","65733","65734","65735","65736","65737","65738","65739","65740","65741","65742","65743","65744","65745","65746","65747","65748","65749","65750","65751","65752","65753","65754","65755","65756","65757","65758","65759","65760","65761","65762","65763","65764","65765","65766","65767","65768","65769","65770","65771","65772","65773","65774","65775","65776","65777","65778","65779","65780","65781","65782","65783","65784","65785","65786","65787","65788","65789","65790","65965","65966","65967","65968","65969","65970","65971","65972","65973","65974","65975","65976","65977","65978","65979","65980","65981","65982","65983","65984","65985","65986","65987","65988","65989","65990","65991","65992","65993","65994","65995","65996","65997","65998","65999","66000","66001","66002","66003","66004","66005","66006","66007","66008","66009","66010","66011","66012","66013","66014","66015","66016","66017","66018","66019","66020","66021","66022","66023","66024","66025","66026","66027","66028","66029","66030","66031","66032","66033","66034","66035","66036","66037","66038","66039","66040","66041","66042","66043","66044","66045","66046","66047","66048","66049","66050","66051","71507","71508","71509","71510","71511","71512","71513","71514","71515","71516","71517","71518","71519","71520","71521","71522","71523","71524","71525","71526","71527","71528","71529","71530","71531","71532","71533","71534","71535","71536","71537","71538","71539","71540","71541","71542","71543","71544","71545","71546","71547","71548","71549","71550","71551","71552","71553","71554","71555","71556","71557","71558","71559","71560","71561","71562","71563","71564","71565","71566","71567","71568","71569","71570","71571","71572","71573","71574","71575","71576","71577","71578","71579","71580","71581","71582","71583","71584","71585","71586","71587","71588","71589","71590","71591","71592","71593","71594","71595","71596","71597","71598","71599","71600","71601","71602","71603","71604","71605","71606","71607","71608","71609","71610","71611","71612","71613","71614","71615","71616","71617","71618","71619","71620","71621","71622","71623","71624","71625","71626","71627","71628","71629","71630","71631","71632","71633","71634","71635","71636","71637","71638","71639","71640","71641","71642","71643","71644","71645","71646","71647","71648","71649","71650","71651","71652","71653","71654","71655","71656","71657","71658","71659","71660","71661","71662","71663","71664","71665","71666","71667","71668","71669","71670","71671","71672","71673","71674","71675","71676","71677","71678","71679","71680","71681","71682","71683","71684","71685","71686","71687","71688","71689","71690","71691","71692","71693","71694","71695","71696","71697","71698","71699","71700","71701","71702","71703","71704","71705","71706","71707","71708","71709","71710","71711","71712","71713","71714","71715","71716","71717","71718","71719","71720","71721","71722","71723","71724","71725","71726","71727","71728","71729","71730","71731","71732","71733","71734","71735","71736","71737","71738","71739","71740","71741","71742","71743","71744","71745","71746","71747","71748","71749","71750","71751","71752","71753","71754","71755","71756","71757","71758","71759","71760","71761","71762","71763","71764","71765","71766","71767","71768","71769","71770","71771","71772","71899","71900","71901","71902","71903","71904","71915","71916","71917","71918","71919","71920","71921","71922","71923","71924","71925","71926","71927","71928","71929","71930","71931","71932","71933","71934","71935","71936","71937","71938","71939","71948","71949","71950","71951","71952","71953","71954","71955","71956","71957","71958","71959","71960","71961","71962","71963","71964","71965","71966","71967","71968","71969","71970","71971","71972","71973","71974","71975","71976","71977","71978","71979","71980","71981","71982","71983","71984","71985","71986","71987","71988","71989","71990","71991","71992","71993","71994","71995","71996","71997","71998","71999","72000","72001","72002","72003","72004","72005","72006","72007","72008","72009","72010","72011","72012","72013","72014","72015","72016","72017","72018","72019","72020","72021","72022","72023","72024","72025","72026","72027","72028","72029","72030","72031","72032","72033","72034","72035","72036","72037","72038","72039","72040","72041","72042","72043","72044","72045","72046","72047","72048","72049","72053","72054","72055","72056","72057","72058","72059","72060","72061","72062","72063","72064","72065","72066","72067","72068","72069","72070","72071","72072","72073","72074","72075","72681","86061","86062","86063","89077","89079","89081","89082","89083","89086"],PageviewEngagement:["134452","190405","190406","190480","190481","190482","190483","190484","190485","191830","191837","191968","191972","191973","191976","192129","192131","192952","192953","192954","192956","192957","192958","192965","192966","192967","192968","192969","192970","65455","65456","65457","65464","65465","65466","65467","65468","65469","65470","65471","65472","65473","65474","65475","65476","65477","65478","65479","65480","65481","65482","65483","65484","65485","65486","65487","65488","65489","65490","65491","65492","65493","65494","65495","65496","65497","65498","65499","65500","65501","65502","65503","65504","65505","65506","65507","65508","65509","65510","65511","65512","65513","65514","65515","65516","65517","65518","65519","65520","65521","65522","65523","65524","65525","65526","65527","65528","65529","65530","65531","65532","65533","65534","65535","65536","65537","65538","65539","65540","65541","65542","65543","65544","65545","65546","65547","65548","65549","65550","65551","65552","65553","65554","65555","65556","65557","65558","65559","65560","65561","65562","65563","65564","65565","65566","65567","65568","65569","65570","65571","65572","65573","65574","65575","65576","65577","65578","65579","65580","65581","65582","65583","65584","65585","65586","65587","65588","65589","65590","65591","65592","65593","65594","65595","65596","65597","65598","65599","65600","65601","65602","65603","65604","65605","65606","65607","65608","65609","65610","65611","65612","65613","65614","65615","65616","65617","65618","65619","65620","65621","65622","65623","65624","65625","65626","65627","65628","65629","65630","65631","65632","65633","65634","65635","65636","65637","65638","65639","65640","65641","65642","65643","65644","65645","65646","65647","65648","65649","65650","65651","65652","65653","65654","65655","65656","65657","65658","65659","65660","65661","65662","65663","65664","65665","65666","65667","65668","65669","65670","65671","65672","65673","65674","65675","65676","65677","65678","65679","65680","65681","65682","65683","65684","65685","65686","65687","65688","65689","65690","65691","65692","65693","65694","65695","65696","65697","65698","65699","65700","65701","65702","65703","65704","65705","65706","65707","65708","65709","65710","65711","65712","65713","65714","65715","65716","65717","65718","65719","65720","65721","65722","65723","65724","65725","65726","65727","65728","65729","65730","65731","65732","65733","65734","65735","65736","65737","65738","65739","65740","65741","65742","65743","65744","65745","65746","65747","65748","65749","65750","65751","65752","65753","65754","65755","65756","65757","65758","65759","65760","65761","65762","65763","65764","65765","65766","65767","65768","65769","65770","65771","65772","65773","65774","65775","65776","65777","65778","65779","65780","65781","65782","65783","65784","65785","65786","65787","65788","65789","65790","66696","66697","71507","71508","71509","71510","71511","71512","71513","71514","71515","71516","71517","71518","71519","71520","71521","71522","71523","71524","71525","71526","71527","71528","71529","71530","71531","71532","71533","71534","71535","71536","71537","71538","71539","71540","71541","71542","71543","71544","71545","71546","71547","71548","71549","71550","71551","71552","71553","71554","71555","71556","71557","71558","71559","71560","71561","71562","71563","71564","71565","71566","71567","71568","71569","71570","71571","71572","71573","71574","71575","71576","71577","71578","71579","71580","71581","71582","71583","71584","71585","71586","71587","71588","71589","71590","71591","71592","71593","71594","71595","71596","71597","71598","71599","71600","71601","71602","71603","71604","71605","71606","71607","71608","71609","71610","71611","71612","71613","71614","71615","71616","71617","71618","71619","71620","71621","71622","71623","71624","71625","71626","71627","71628","71629","71630","71631","71632","71633","71634","71635","71636","71637","71638","71639","71640","71641","71642","71643","71644","71645","71646","71647","71648","71649","71650","71651","71652","71653","71654","71655","71656","71657","71658","71659","71660","71661","71662","71663","71664","71665","71666","71667","71668","71669","71670","71671","71672","71673","71674","71675","71676","71677","71678","71679","71680","71681","71682","71683","71684","71685","71686","71687","71688","71689","71690","71691","71692","71693","71694","71695","71696","71697","71698","71699","71700","71701","71702","71703","71704","71705","71706","71707","71708","71709","71710","71711","71712","71713","71714","71715","71716","71717","71718","71719","71720","71721","71722","71723","71724","71725","71726","71727","71728","71729","71730","71731","71732","71733","71734","71735","71736","71737","71738","71739","71740","71741","71742","71743","71744","71745","71746","71747","71748","71749","71750","71751","71752","71753","71754","71755","71756","71757","71758","71759","71760","71761","71762","71763","71764","71765","71766","71767","71768","71769","71770","71771","71772","72681","86061","86062","86063","89077","89079","89081","89082","89083","89086"],SegmentEntry:["123923","155797","167759","190486","190488","191971","192263","192952","192953","192954","192956","192957","192958","192967","192968","192969","192970","194971","194972","65965","65966","65967","65968","65969","65970","65971","65972","65973","65974","65975","65976","65977","65978","65979","65980","65981","65982","65983","65984","65985","65986","65987","65988","65989","65990","65991","65992","65993","65994","65995","65996","65997","65998","65999","66000","66001","66002","66003","66004","66005","66006","66007","66008","66009","66010","66011","66012","66013","66014","66015","66016","66017","66018","66019","66020","66021","66022","66023","66024","66025","66026","66027","66028","66029","66030","66031","66032","66033","66034","66035","66036","66037","66038","66039","66040","66041","66042","66043","66044","66045","66046","66047","66048","66049","66050","66051","71899","71900","71901","71902","71903","71904","71915","71916","71917","71918","71919","71920","71921","71922","71923","71924","71925","71926","71927","71928","71929","71930","71931","71932","71933","71934","71935","71936","71937","71938","71939","71948","71949","71950","71951","71952","71953","71954","71955","71956","71957","71958","71959","71960","71961","71962","71963","71964","71965","71966","71967","71968","71969","71970","71971","71972","71973","71974","71975","71976","71977","71978","71979","71980","71981","71982","71983","71984","71985","71986","71987","71988","71989","71990","71991","71992","71993","71994","71995","71996","71997","71998","71999","72000","72001","72002","72003","72004","72005","72006","72007","72008","72009","72010","72011","72012","72013","72014","72015","72016","72017","72018","72019","72020","72021","72022","72023","72024","72025","72026","72027","72028","72029","72030","72031","72032","72033","72034","72035","72036","72037","72038","72039","72040","72041","72042","72043","72044","72045","72046","72047","72048","72049","72053","72054","72055","72056","72057","72058","72059","72060","72061","72062","72063","72064","72065","72066","72067","72068","72069","72070","72071","72072","72073","72074","72075"],SegmentExit:[],SlotClicked:["110675","122989","124692","131415","177174","177285","177286","177714","188448","188450","188452","190330","191577","194686","194840","194842","195088","195741","196951","196952","196954","196956","199590","62698","66987","98617"],SlotViewable:["122990","148169","148259","150328","153453","154087","154088","157576","157579","157581","158530","164684","165986","167850","173531","173535","173536","174914","176358","177173","177205","177267","177282","177283","177713","178717","183954","184178","185676","187181","188447","188449","188451","190329","194689","194838","194839","195076","195742","196949","196953","196955","196957","199589","88179"],SurveyResponse:["123501","178570","178571","178574","178575","178577","178578","178579","178580","178581","178582","181492","181493","181494","181495","181496","181497","181498","181499","192271","87682","87820","87821"]}||{},metadata:{60219:"0c8b70cdb7",61780:"fb5e7c6481",61825:"80aefc9f16",62698:"d2f664deef",64821:"3f76fc0651",65455:"4f8ec8e672",65456:"de1ddd2170",65457:"b366a5467f",65464:"ab267f19b5",65465:"b2f6822b51",65466:"a294e14ae5",65467:"5cafc861f9",65468:"4ed52361f0",65469:"0e8c6b6a18",65470:"a0e76e33d0",65471:"42fc0ae117",65472:"f0bf6b23ef",65473:"b572cf61ed",65474:"f51c5e5d4e",65475:"3e99dc25a7",65476:"6737f09d11",65477:"6fee361146",65478:"bdfcbd7a95",65479:"d0a550ec2f",65480:"3e0f3f05fa",65481:"9b4a148191",65482:"ac8ccdedb6",65483:"84a53827d8",65484:"c02227f4d3",65485:"122653a557",65486:"00c81d49dc",65487:"5a6b97701a",65488:"1f48bb8422",65489:"08661ee24e",65490:"9d8b3c012c",65491:"cfafbbebe1",65492:"e9d6d1b35f",65493:"8d9d099a1e",65494:"e2ddb33f80",65495:"59673a401d",65496:"ef2b3f34a3",65497:"1322882c20",65498:"6e08cfc40d",65499:"a529fb935d",65500:"f72c237f1a",65501:"e7635c6996",65502:"fc90f6eb63",65503:"c85ab4a705",65504:"f41d033111",65505:"8e5a68c976",65506:"c255a80002",65507:"d3cb5f2bc2",65508:"905c3aff7e",65509:"c83af42bca",65510:"aacc446ff9",65511:"9ac96e3e2d",65512:"716adfe6d0",65513:"2b5283d30b",65514:"8703609204",65515:"dc5a3dd4c4",65516:"ca5ba45310",65517:"ce972bea5a",65518:"f537fac384",65519:"2880f98cf3",65520:"3180f476f0",65521:"ce14a01eb0",65522:"3abf286a4b",65523:"4d4bf3b1e6",65524:"09fd140d1b",65525:"4eb99bbe82",65526:"30d721f2e1",65527:"024b09358b",65528:"b242f5f0ed",65529:"a1f869372a",65530:"5656448a76",65531:"e508d33e2a",65532:"5348de6ba9",65533:"8e4f60cd9b",65534:"1fbd900a65",65535:"3451ded8c4",65536:"a322234a51",65537:"c51e53f840",65538:"5cfd95fe84",65539:"c73b5f9bf0",65540:"8486d1a236",65541:"972dde2ce0",65542:"ab4e7586ac",65543:"44b580a94f",65544:"ed06f31a0f",65545:"926b39b788",65546:"97c5857e58",65547:"89a784ae5b",65548:"1c0688d78c",65549:"461cbfedd1",65550:"c18149ae96",65551:"db745779ea",65552:"be51542a4e",65553:"2c4e9aa36a",65554:"230173bb5e",65555:"060735c8d1",65556:"7d09ec675a",65557:"0a735acb36",65558:"f03c1bc2b6",65559:"d665c8a647",65560:"8eac3aad2b",65561:"726eeeb793",65562:"700687af18",65563:"50847e9178",65564:"e045061731",65565:"11bd26da4b",65566:"be37dd058b",65567:"7bb0349194",65568:"81058936ff",65569:"08cb204674",65570:"8c788fd32e",65571:"ea9fea524f",65572:"1169075cf4",65573:"35a0eba7ba",65574:"22c7270e84",65575:"5019582e5d",65576:"4cdc3affcf",65577:"334166528e",65578:"1d9ed22829",65579:"651ec13e4b",65580:"d3d0d74d02",65581:"677cfd6c32",65582:"40bbf9c6c4",65583:"494c407072",65584:"58f228659c",65585:"1a35ecb641",65586:"34cba4b89e",65587:"33e1bec6d1",65588:"c23590fca5",65589:"4a2d19ba9d",65590:"caf450295f",65591:"282750b20b",65592:"5ec5a3021c",65593:"3f61bf9093",65594:"c7395b78ca",65595:"eebd5fc151",65596:"1bf3882d5b",65597:"0587c5acb1",65598:"2286368366",65599:"48279671e2",65600:"cf7f8687d5",65601:"8da9925e66",65602:"ac831c1a5e",65603:"4993afeb03",65604:"9aa6300dbd",65605:"2f55507acb",65606:"2623e89d2b",65607:"2cb9b21d4d",65608:"a0e38f16b3",65609:"f72c237f1a",65610:"e7635c6996",65611:"fc90f6eb63",65612:"c85ab4a705",65613:"d2c20039b5",65614:"fd09c313c8",65615:"f1e44b1889",65616:"586645293a",65617:"ad148431af",65618:"dcd9f40671",65619:"c5044a0e19",65620:"717c5a5dac",65621:"f3ca752239",65622:"fad2812f84",65623:"29a64d2250",65624:"d388da7ee6",65625:"edc1453df8",65626:"02cb476064",65627:"981c9708eb",65628:"818a31d3a7",65629:"dd2f4c9391",65630:"ed8c79b070",65631:"2bc9ef29d0",65632:"8e71071c80",65633:"d3e9f1705e",65634:"ebea479cc8",65635:"bc8392873e",65636:"b021ccd6b8",65637:"4ae375cf8f",65638:"cd703c25e9",65639:"f24e000472",65640:"4025d3a036",65641:"92708abcd2",65642:"9ba93cefa8",65643:"7cfb4d236b",65644:"68375f75e3",65645:"5b07773964",65646:"1703aa83e1",65647:"bb3710f491",65648:"a76d1e11b1",65649:"b3e72ab43e",65650:"d593971d08",65651:"8f7b660ce7",65652:"09b39f50e7",65653:"d08833597b",65654:"d8e55c2b00",65655:"d0fc73bd34",65656:"93997af340",65657:"8c1c45157f",65658:"233ac251f7",65659:"769be53317",65660:"5e4943f1ce",65661:"f549ede1be",65662:"93120c6e0e",65663:"b213c76279",65664:"cb67fc7d25",65665:"3cd2799a32",65666:"de1844d541",65667:"3a95d5858c",65668:"580ddd0a80",65669:"651b4137ac",65670:"8fc560df5f",65671:"b5db9d7f2e",65672:"f7a5284b4b",65673:"677879fbf3",65674:"e699182dbf",65675:"9ec17813b8",65676:"fa450ce768",65677:"830cf4f6d3",65678:"eef2230c3b",65679:"afcb6625df",65680:"b273c34e70",65681:"4a4b769ab6",65682:"fd7e54f6f6",65683:"571802c9eb",65684:"12646e16ad",65685:"a020b37fc4",65686:"402fb79eed",65687:"03dd0f86cd",65688:"bd298f607e",65689:"d9d313668c",65690:"a67c6341aa",65691:"c590bd914d",65692:"d44bc50253",65693:"40ff01f500",65694:"de50c19152",65695:"86ea89ca36",65696:"7c7d2588c3",65697:"25fd40ab3d",65698:"315d851902",65699:"2a961397f8",65700:"99497e90c3",65701:"3c792ad06f",65702:"caaae1831c",65703:"ba2fd8c5d7",65704:"11db98c3df",65705:"67c326669b",65706:"887ceb9087",65707:"a28dd2a31c",65708:"d1e8ecc08c",65709:"51da6c67b4",65710:"ab6c8f257c",65711:"34c26b3aef",65712:"a9438d3ba1",65713:"912de68eb9",65714:"2d48c53194",65715:"fbab99416f",65716:"e1e22f7bb5",65717:"ee9b5828e7",65718:"3bae1aabf4",65719:"2dc038fff0",65720:"0f8946290e",65721:"1ed3714b33",65722:"5f08e7881e",65723:"5c8dcf0f2c",65724:"8f6a6c6c27",65725:"113c240f3d",65726:"a8bf3e48f3",65727:"1b5024172b",65728:"1fa82de1e5",65729:"a9a87881ef",65730:"d452aa7e38",65731:"8c5f4260b1",65732:"a5d01c7858",65733:"0948c2b973",65734:"ec3230f9e2",65735:"678e864c68",65736:"a429e664c6",65737:"5525f732e4",65738:"c3dd68615a",65739:"8c029af3c1",65740:"71dc5be8aa",65741:"b2616aa846",65742:"d7ed775447",65743:"5e062d6517",65744:"6e2ac11d7d",65745:"183e3fcc1d",65746:"66013c2204",65747:"f1ba74150a",65748:"ac7111e46f",65749:"eea5fc3411",65750:"c4bd5f87a6",65751:"aa7d0ee76c",65752:"82a0ab6240",65753:"0d8dc5156b",65754:"1ff8b5ebf5",65755:"2276480117",65756:"72cc8036ce",65757:"8b0d60d956",65758:"6c1decc83f",65759:"53d835bc86",65760:"072c9a8e5f",65761:"a37c6d1518",65762:"241ce82d43",65763:"c5d7313a19",65764:"f070a0c1e3",65765:"fabf853090",65766:"67f07d7434",65767:"90fc5012a5",65768:"0f0964df4f",65769:"8dc0a6ca35",65770:"de78491ef3",65771:"966ac1959d",65772:"86ce064338",65773:"fba27c3719",65774:"bd29fb0570",65775:"c9790a3f22",65776:"65cf983b75",65777:"2b8231c872",65778:"723ed2e0ff",65779:"2738cbe115",65780:"45ca2e3b7b",65781:"004a9ae244",65782:"0439a53889",65783:"77b9787fad",65784:"fc74f79ced",65785:"2dc02eb9d7",65786:"81058936ff",65787:"f779f518b4",65788:"1f59c5f4f4",65789:"1c4cdaacf6",65790:"fdc16c7f02",65965:"e1fdb20e32",65966:"c5af3a74f9",65967:"d08e178607",65968:"3bb5db4029",65969:"8e391609ed",65970:"4805d89965",65971:"d71bfa3ca0",65972:"c014847c0f",65973:"fdead37a71",65974:"4826dabc50",65975:"1796cfe09d",65976:"0274829ec5",65977:"b4e69a5f88",65978:"5a4591cc13",65979:"0bb4769e14",65980:"714896250d",65981:"8f54cbbe8b",65982:"3cc126b804",65983:"0267d463bf",65984:"65fbce653f",65985:"f2d80ef8fc",65986:"df49f77bd6",65987:"01ad1da50e",65988:"ac2f7b0b72",65989:"ccc1efecba",65990:"9f17765b40",65991:"0e12060180",65992:"cc00bb40c0",65993:"cd3e4bdaaf",65994:"9d3f125cd5",65995:"00a46aa1dd",65996:"dab865e38f",65997:"7653434032",65998:"2d115ab22e",65999:"92f04e543b",66e3:"2cc65ceae9",66001:"2e980decc9",66002:"eea07db664",66003:"967ebf29b1",66004:"b3c94bc30c",66005:"d0747238a6",66006:"b73022d730",66007:"0158c6ddb3",66008:"33b6ac23e0",66009:"b31e27c59b",66010:"aceda2d49e",66011:"8b3719a46e",66012:"ff4df7b841",66013:"aee04d2acd",66014:"33d6229f00",66015:"eb10879278",66016:"94f9426f24",66017:"daf1313132",66018:"89eb783727",66019:"e02e5122c6",66020:"1f222baee5",66021:"485d656642",66022:"f902fcab44",66023:"4b9c98769e",66024:"eb69e61aa5",66025:"31ac267dfd",66026:"a975d337da",66027:"ddba3f2241",66028:"91d425a6af",66029:"7bc8a95b50",66030:"954de10dcb",66031:"e44784912a",66032:"0b566f8dd7",66033:"3f388b8f9a",66034:"c59c80c260",66035:"39bd78ae0c",66036:"62096eb208",66037:"377fed3b0d",66038:"ee418e0060",66039:"8e1c1ae6d5",66040:"abcd1bad7e",66041:"311b24f7dc",66042:"d9f4be6fca",66043:"73db3f4b12",66044:"26eaa7b39d",66045:"2ea6fe750b",66046:"716ab1a1cc",66047:"e363d0cf02",66048:"d779faaa7a",66049:"465a347f0f",66050:"b2fbd4764d",66051:"705ea4f488",66156:"8b7988c5c1",66157:"0c51d0f9c7",66224:"b239f1c4d9",66693:"1200c4bb68",66696:"71aef6d327",66697:"00bd0d4813",66704:"5eac7b778b",66705:"1ffe4e3e0c",66706:"e164ed0039",66987:"35202cee0c",67013:"837cc37c2f",71507:"6277047bdd",71508:"7cf26b5041",71509:"620701046d",71510:"cef6fb6516",71511:"d762e55eba",71512:"f65b1082f5",71513:"3d9e9c97f1",71514:"d2bd59dd55",71515:"9e79e04d3b",71516:"a479c216d5",71517:"15862bb737",71518:"c23767bc0f",71519:"ae7d9f753e",71520:"2ee65961ea",71521:"1abf9f380b",71522:"4c0965844e",71523:"9bd5ca0c18",71524:"4a5342b061",71525:"595f1111a6",71526:"fefa8dc104",71527:"a7700b7d4e",71528:"48c6970ed4",71529:"09a317c21e",71530:"4f8d5e4207",71531:"c596d00052",71532:"9b89bb2ac0",71533:"897e07987d",71534:"010ba1f62d",71535:"6e8e20de80",71536:"d6565847ed",71537:"fd09d9d534",71538:"816d405b5c",71539:"d8312ce249",71540:"ee64835ff6",71541:"8fc8ffa3ea",71542:"9e501849b1",71543:"3404eaad4b",71544:"3aafb69238",71545:"6f673cd695",71546:"ce286336f7",71547:"642f794eb6",71548:"edfeab2ca7",71549:"b5d060a996",71550:"fb65f67063",71551:"cee0264201",71552:"4735c0e00c",71553:"b1121a230e",71554:"60793fb825",71555:"ecee7130ef",71556:"367db1aa06",71557:"9ddead1953",71558:"3d15e8bd65",71559:"5d78139dd2",71560:"10f9bf741c",71561:"b45e5e3d63",71562:"1192434c1c",71563:"dccf4349c1",71564:"ee56f71ba6",71565:"483ac78608",71566:"a0c2a2fc25",71567:"c476a1a3d9",71568:"0679cd240c",71569:"78270b3fd4",71570:"ca0592f20a",71571:"d5b7abb383",71572:"f05a5112f7",71573:"a7af2d8f72",71574:"23180873a3",71575:"479df3e32e",71576:"84de396f68",71577:"a10ccfe5eb",71578:"ceba80aa09",71579:"8be8922709",71580:"7a75c4dde4",71581:"d254954ff1",71582:"ff2d53a27f",71583:"61fd80b9d4",71584:"21e82a27f1",71585:"952a7fde55",71586:"fc4126dc48",71587:"88d3dd617e",71588:"4c5ad37618",71589:"852f9355ea",71590:"782a645b2f",71591:"4f2da50240",71592:"1df3853ab1",71593:"e070202663",71594:"687c44411e",71595:"abd634d5d8",71596:"a9d2bdd88c",71597:"9a9a125d25",71598:"fb673fd73c",71599:"798f56536a",71600:"6273734ff4",71601:"ddabf4a047",71602:"d08b4807b1",71603:"152e092162",71604:"ee9ed12bbf",71605:"4ea673bc72",71606:"d9422e35b4",71607:"167d43785d",71608:"2c1fd55183",71609:"6439f8ab4e",71610:"f0deac7351",71611:"34796fd4fc",71612:"1b300e3588",71613:"6b984f0593",71614:"f9ee49cf0e",71615:"8f54e4ac0a",71616:"1a0539f967",71617:"5f9a19faef",71618:"f9eb55bca7",71619:"2da8e5d874",71620:"85594b06f9",71621:"f2c5f1a1f7",71622:"924c051332",71623:"faaa308ea0",71624:"85f5fdca3e",71625:"31525ebd4c",71626:"6d8de4195a",71627:"67c507ce36",71628:"c596f25afb",71629:"ac71a2a09a",71630:"dda82252f7",71631:"f47f6e2ccc",71632:"87ad5c0aa2",71633:"41980548dd",71634:"fe0420d242",71635:"38f06ecf86",71636:"a926cb4da6",71637:"8392cac122",71638:"43fbe3af76",71639:"00e0a833d9",71640:"92d9bc3367",71641:"b8c6a4f4bd",71642:"c3f0cf6d6e",71643:"13aa67287e",71644:"22b011c5fb",71645:"c45dd5f924",71646:"d492575da0",71647:"fa585630a6",71648:"f9460acd36",71649:"fa3737e385",71650:"bb5501e7ba",71651:"65332f9d1c",71652:"9956350220",71653:"e61a6d1389",71654:"0a613ad862",71655:"38e9ffa6a3",71656:"d5da3ec100",71657:"1e0e629414",71658:"23b27322b3",71659:"7914e5f26a",71660:"dcb70acf94",71661:"8765f2eb7e",71662:"c447fc1cb2",71663:"f0bcce1ba1",71664:"cf48b9a2d3",71665:"ace864330d",71666:"8a75b43ee9",71667:"430b5f1e7e",71668:"1b5c36a099",71669:"1af17bd1c1",71670:"76db3b7780",71671:"6ba7dcb177",71672:"86250236e0",71673:"2bf7dbde35",71674:"21b9ed0447",71675:"2b8b90c837",71676:"4bc5350733",71677:"642413210f",71678:"42d473d595",71679:"ef3d01db44",71680:"a0c795b4a9",71681:"2ed6af7da1",71682:"08c3f8e596",71683:"03c03c6fc8",71684:"47d261c9ed",71685:"2b24dc674e",71686:"ba1c0abbba",71687:"00b7f3fca1",71688:"5ee6baae6b",71689:"56c3f366d8",71690:"54cd8f0e64",71691:"bc954e65b1",71692:"d851d38908",71693:"e03ac877ce",71694:"9aa8182947",71695:"632d6dc34d",71696:"9880fc70c1",71697:"1f6f63b9a7",71698:"5a8a306a58",71699:"ad0587a643",71700:"ed186c7050",71701:"e9830e8780",71702:"868722d52e",71703:"9f91ef28a9",71704:"6a6ba46a83",71705:"2aa3f4a5cf",71706:"cd21346cad",71707:"c556e91683",71708:"26b5f74ea7",71709:"a262a5f449",71710:"9aa8a89546",71711:"91d8b5d7d5",71712:"10242505ee",71713:"df40596758",71714:"3417680d9d",71715:"8e1fd8a7c7",71716:"f6b382550d",71717:"ea5b9d4575",71718:"9134e75374",71719:"12da7de57c",71720:"384d2f1a74",71721:"b6e0a4a2c5",71722:"9bafc34dad",71723:"3397b25773",71724:"315dfc451c",71725:"fdffa9dd5e",71726:"1ecb71aa8d",71727:"2f997a2714",71728:"85325a8acd",71729:"c350657e95",71730:"e0a1d3671c",71731:"65d269dd09",71732:"d59e099aab",71733:"d5ef26ce3c",71734:"04dfdb9707",71735:"1990555f89",71736:"3487f5d22e",71737:"8924b886e0",71738:"89f8685f8d",71739:"ebd7e1d7f8",71740:"fac4efb39c",71741:"0961bf486e",71742:"8b77b40326",71743:"3d855bb70b",71744:"4adb0352ea",71745:"6e39a39646",71746:"c7431a4c6e",71747:"fa72a436de",71748:"572755856c",71749:"7bbc401c81",71750:"705ebbf414",71751:"f16705a9ef",71752:"efcbe1b87f",71753:"4591e7f1ac",71754:"408c1a99a6",71755:"2451f86f60",71756:"9134a88e81",71757:"a21ca9fe03",71758:"f54edf1cc4",71759:"8c637a67f1",71760:"91fa7c4171",71761:"cadaa0538c",71762:"757d7af25a",71763:"2bf88c52a8",71764:"1be8b38e8c",71765:"5271b2716a",71766:"e39f3b4a69",71767:"6bcfc705fe",71768:"71bc4f7d64",71769:"eab1773b1f",71770:"c2298b6ddb",71771:"f2fbfbbf5a",71772:"cc8d24c425",71899:"05d64571d5",71900:"6a45746169",71901:"37e69225aa",71902:"3df103ce84",71903:"28ca5b4b38",71904:"e86c771eb1",71915:"952b6ceaf3",71916:"665cfaeb3d",71917:"5e069ae2da",71918:"9d4c003af1",71919:"bae5a0f5f5",71920:"716cc93360",71921:"82b9ab3132",71922:"dad85817b4",71923:"f5e18f8859",71924:"6f76daf8c1",71925:"44b15f6b35",71926:"1cefeb4336",71927:"13be412c12",71928:"ac3f66b222",71929:"244810a247",71930:"fcde8f229a",71931:"0a7cd90d01",71932:"aa42c0b62d",71933:"8456683c4b",71934:"6e5d04470c",71935:"57731a841d",71936:"40a5c40742",71937:"56ed552bda",71938:"acfdda300f",71939:"bf1a079ad1",71948:"20d0c8937a",71949:"f172fd9e7c",71950:"d4dab41f14",71951:"8a5bea74b4",71952:"e27bea2e48",71953:"9bcd630da2",71954:"5b69a83be7",71955:"980458ebae",71956:"1d83d15994",71957:"09dde6b0e3",71958:"99309a1528",71959:"d82cbd2e45",71960:"469cb06de1",71961:"7f18b1b547",71962:"5eb63f565e",71963:"0a07cd392d",71964:"525db4921f",71965:"2b73a86b69",71966:"f4cf74d33e",71967:"6998c5f3f2",71968:"f561ac3a84",71969:"aeb8ac87c6",71970:"a172cc3890",71971:"b39144fcb4",71972:"70c966b39c",71973:"e9a00ff8f1",71974:"7959336c75",71975:"e65027a8e9",71976:"87e6a4fefc",71977:"ae58fc8ed3",71978:"e4b37236f2",71979:"ee970ec20a",71980:"c62c1d2009",71981:"4a8598cc3b",71982:"134e0eba04",71983:"0b5b8a3655",71984:"4da6964c3b",71985:"84e3f4d8f6",71986:"11d599341d",71987:"dc9e9b8747",71988:"146901ea7e",71989:"149cbf309e",71990:"e576094ef1",71991:"5cb408581d",71992:"4c99d198e7",71993:"7881be670a",71994:"e5cd3fd81d",71995:"0231cefbc6",71996:"3a4ffa8b69",71997:"e6f03a4fed",71998:"547c9ec0dc",71999:"b9b5affb8d",72e3:"741444de42",72001:"66d4e5b1c9",72002:"2c202a8276",72003:"1d5244b037",72004:"a162751f6b",72005:"582792440e",72006:"1814742daa",72007:"cb1b772ebf",72008:"420effe2a2",72009:"0d9b71fce0",72010:"1c27f533c9",72011:"1e6ad4ec65",72012:"2400b3bf6b",72013:"631ec88881",72014:"a7d36552b1",72015:"422531b934",72016:"2ed90fdb22",72017:"7a633ed2f2",72018:"fdafe352f6",72019:"69dc2d8ce0",72020:"647733b5c7",72021:"3cfce1bcb5",72022:"6d317c2667",72023:"9ff7f6180c",72024:"f19fb3b2fc",72025:"bd5b4637b6",72026:"bffac2991b",72027:"0d800b146a",72028:"d206ae0eea",72029:"cb924e30a4",72030:"c609d6b030",72031:"e249e7da40",72032:"22a064f8d5",72033:"9d7b00f982",72034:"d264e98943",72035:"6891c1b14b",72036:"d7cfce86e9",72037:"b94bea5a15",72038:"65be1ccbad",72039:"e2ae13ec35",72040:"4569ef106a",72041:"5ae152fe76",72042:"bcd89b2a0b",72043:"b90dca9589",72044:"0d7788cd3a",72045:"1f45d8eca5",72046:"26d8ba01b2",72047:"8a23f12548",72048:"4734c03835",72049:"badd0d2a1b",72053:"ba6596a256",72054:"40c469cd44",72055:"7f81987681",72056:"27d2faa3e5",72057:"c0ee386d1a",72058:"077089f48f",72059:"7b055fec27",72060:"5d4520db6c",72061:"277b4c04fd",72062:"7ea28527c8",72063:"ea46d5f5b1",72064:"5f865bd9f5",72065:"69c595bc92",72066:"e6a821d4a9",72067:"a00ae9f746",72068:"9d6e96a4c9",72069:"0cc4b67613",72070:"0c2d20a141",72071:"2d4b26ee46",72072:"b142a6a27f",72073:"476114a2c0",72074:"ceec6651b3",72075:"99dbdb761f",72681:"66de929bf4",72711:"0a9d932e94",73164:"2003e62eae",73165:"8632a19b48",73166:"482c33909a",73965:"7e7c9b0cee",75936:"c7cdfe4697",75937:"821c25ae75",76469:"c5c3e236d0",77498:"e8e37f697f",79652:"467631cb0c",83156:"e5e589b97b",85242:"97d677dbc5",85663:"448a7f3213",85747:"0c51d0f9c7",86061:"5a8c29657f",86062:"2140cab28c",86063:"1a785aa466",86166:"3a9b7bd82d",86167:"d302a3df51",87447:"a4f862c8d8",87682:"dc04cd57d6",87820:"08d101d927",87821:"e8f4523fe4",88179:"4964e3b4dc",88695:"0c51d0f9c7",89077:"34ef84e173",89079:"a7aa4a2e4e",89081:"0dcd54fbad",89082:"83fb9e3550",89083:"f174458e46",89086:"17654d03c0",93629:"3e1f447401",94125:"d5281e39de",94126:"221eb1012e",94127:"ded18695a6",94128:"579fab789f",94129:"5726105b16",97266:"0ea83770b3",97267:"fcc0711638",97849:"6139a6f8a8",97851:"f577a61927",98385:"4a59ab40cb",98608:"f45c9250b3",98617:"8fae3e441e",99133:"4b2260a04d",99323:"5b703cb10e",101097:"153b30451e",101929:"82c2549a12",101931:"22db90f247",101937:"16b2202c0c",101938:"21709ed153",101940:"3120356496",103274:"e343ed81c8",103671:"03d4402039",103866:"c69df2bbfe",103867:"fc87afa915",103868:"2b2b31496a",104041:"339ab1dd12",104124:"d9317cf35c",104860:"e0cf1a1997",104863:"604850ed75",104864:"f3f90104a6",105126:"b7a493c493",105732:"21ce238588",105807:"c8ea9832c7",106291:"5abddf5499",107478:"aabf60e9a2",108682:"207e46ffcf",109284:"90d456ff5f",110675:"7495f05816",113217:"b9dae702b9",113218:"f5b517dd34",114267:"fcef743030",114299:"13d47ceb73",114499:"b40b84f455",115581:"16ae2d8dee",115678:"7251bc7fb9",120929:"6177f9d230",122441:"c46a026b14",122876:"ae8b40351e",122884:"d267d21d38",122989:"d3beabff29",122990:"caf730c9f6",123341:"af98b8dd11",123342:"6be4142631",123501:"d22d123664",123923:"fe69c2ed30",124682:"e959c418e6",124688:"4891e3258a",124692:"9095accf31",125228:"2963422257",129720:"247f9b3082",129722:"7a667781b5",129723:"ac3006801c",129767:"e8ebd6dc6a",129768:"0da57dbe78",129770:"23316fd911",130380:"d7b685af40",131415:"b144c1e282",134452:"2b93266c9a",134599:"f9d43c85ef",136198:"3dd5b89bb0",136199:"49d638350b",136200:"acb1f883a6",136201:"cc4b5c082b",136202:"e57429ff92",136203:"eaa6f64a35",136204:"ae14451338",136205:"8b7254792b",136207:"232571191a",136208:"57ab6ee272",136209:"4ba8a371d7",136561:"2f1b340af7",136562:"2d29749234",136563:"b43410f1e5",136564:"2d32875af2",136565:"cc924de4cd",136566:"db38be0da1",136567:"02d62ddf8a",136568:"9e2c497fb9",136570:"217d02eaf4",137319:"fb81219d89",137549:"8453a2191e",137550:"3e6037f3a3",137905:"852b89b1d0",139347:"75028c4b1a",140869:"6eac5d01fd",140871:"8e431c88d4",140872:"115e2575c0",140873:"a43fe714f1",141557:"e49fdecdb7",141558:"335e5871d2",141559:"cccf882291",141560:"4697e6be22",141561:"3d1c16d3a2",141562:"2e36a80d8c",141563:"6e6a2119ba",141564:"71b445c9ea",141565:"299aefd61a",141566:"c0fc000ea5",141567:"db4f5e7c4a",141569:"6d75b3201b",141571:"98443c5c8a",141574:"20d8d2c919",141575:"5e3fd8f841",141576:"f44fd0cbb9",142332:"5e4181b6de",142968:"68df47a016",143082:"a4a80b58d6",143085:"fa36191cbf",143086:"9e56f10a63",143088:"ac6eb1e472",143089:"68d6045edc",143091:"62cde06964",143094:"786e412cb9",143096:"e4387fa0d0",143105:"089b07f015",145717:"bcf024e9d9",146605:"55ddf81635",146607:"b4cfdbbc63",146608:"b5afd84e3b",146741:"d4b509efeb",146742:"dedb996eb2",146743:"5d4d324e22",146746:"1429da68d8",146747:"cb3d443604",146748:"da7237982a",146749:"6a09a76d86",146750:"ac1b021789",146751:"6ac4775561",146887:"7da7c32097",147113:"752d83d801",148108:"38a14adc2f",148169:"019c584504",148259:"2b4eae9f27",148892:"72f25aaf5e",148893:"d60291162d",148894:"651bc0883f",148895:"d021a3f0f4",148897:"fb7420a79a",149176:"b8a35ed6fa",149237:"1726cb7bdf",149684:"9dbe3ee603",150328:"3162b01e7e",150456:"12fe93d666",153453:"93345fcb87",153456:"f87d3b6a50",153651:"5adf59bfc1",154087:"137994ce58",154088:"65f3598808",155425:"80aefc9f16",155426:"fb5e7c6481",155797:"2e1058841e",156100:"daf2db5e85",156651:"2dc4234b04",157376:"0c8b70cdb7",157576:"4389fc9e52",157579:"bf2626b5f4",157581:"0045219ad0",158530:"1131866b1e",164684:"5c6788917c",165986:"b7f2c81c03",167757:"7a0c78c1cd",167758:"8df0cfaca9",167759:"37801dac5d",167850:"e8c332366e",171932:"164b6c9818",173531:"94b890647c",173535:"0072d24085",173536:"e2eef87c67",173765:"c68df07b60",173828:"e0cde9c7c5",173945:"baa16faf53",174914:"a3423df64f",175005:"da344b59f0",175760:"7230615dd5",176358:"cbd1c59f63",176930:"8ca54a6e35",176931:"8505ca62e1",177173:"c3c384a344",177174:"92955cca83",177204:"04f63b0cd2",177205:"e6c57070e7",177267:"d7cf00ed5c",177282:"e707b74a6b",177283:"16d64a31e1",177285:"ea2d94125b",177286:"cf3f1feae8",177311:"2d4c31ba76",177312:"ab4482c924",177531:"e4fda7f0f3",177713:"085d5b94d1",177714:"84a14ca8b1",178570:"f684b221f9",178571:"0a84310caf",178574:"cb2dc434e8",178575:"8bd3b0c8af",178577:"7f3cf8ac64",178578:"d9cc646dbf",178579:"8d339ecdc5",178580:"6e96ebc419",178581:"22b536d5a2",178582:"5f1b9d0b40",178717:"04a7e233e4",179437:"5076fc8074",180796:"7edfc83560",181492:"fa028739e1",181493:"63e62dfc47",181494:"2c2acecd93",181495:"2777e083d4",181496:"3d06dbf697",181497:"2a9fecc27c",181498:"10054f7ab9",181499:"b3da060bbf",182914:"4129fc1c7f",183671:"c3f222e008",183954:"22d74f9788",184178:"52311bac86",184546:"f7665fdd08",185676:"9dddcbdf25",185679:"bca04fa878",185692:"d1da20a16d",185693:"561f9be12c",185802:"58bc36594b",185803:"bbed7155b0",185804:"a2aa0a5470",186362:"eff149a791",187175:"99083eaec7",187181:"fb55995b58",188175:"7002b82a3e",188447:"4acd9c5006",188448:"35110f9e47",188449:"bcf44922b9",188450:"290f4854f7",188451:"09ce637df9",188452:"dc3ede2333",188586:"20935cfb63",189500:"6ad626451b",190097:"1c1d387c22",190329:"431a0ec83b",190330:"bc268b4460",190348:"7718615da2",190405:"eeefe8d652",190406:"db06987626",190480:"4c3b8d603b",190481:"def170b9bb",190482:"d3ae950810",190483:"cf596ebc84",190484:"f50dfc3d69",190485:"aea5162ba1",190486:"6b21998fca",190488:"3b0ff74c3f",190634:"942a60349a",191577:"4eba76d6a2",191830:"78e877156c",191837:"9e5ebe4751",191968:"84d4c44cce",191971:"3b0ff74c3f",191972:"4de8b2b74f",191973:"a4843261a0",191976:"2d8d8f9498",192129:"80f06aa483",192131:"e039eca0a1",192263:"94a2d62bff",192271:"314940d659",192827:"6d372bb53f",192952:"4ffa219b63",192953:"3af045c365",192954:"77f11490d6",192956:"96ef9d2599",192957:"6f2d5da3a6",192958:"593edcf00e",192965:"786c8374f3",192966:"a2710397cf",192967:"abf489040f",192968:"9183713119",192969:"75fb18b698",192970:"15d12354e5",193153:"cc5d03553b",193981:"8a2a4c6be2",194686:"a472dd60e7",194689:"ecf596c28c",194836:"2bb52dcb2c",194837:"b46262e3e8",194838:"2e78c5ca6c",194839:"da1c4fb28d",194840:"e70a9b0a5f",194842:"9bb773c87f",194971:"195a6fe95a",194972:"e4ce8fcfee",195076:"4aac4998d9",195088:"76e2dc6598",195362:"297f97dffd",195741:"3e9e55dbd1",195742:"579351f0fc",196949:"f81cb40286",196951:"172d2adfca",196952:"c54c34878d",196953:"8826e89712",196954:"1465dc6c5c",196955:"9cb3934263",196956:"74ee3a3f75",196957:"e70883229d",199464:"6c06ba3ed2",199465:"2123705a48",199467:"d7b4d6891a",199469:"ba9ee3d70e",199470:"fd9517a7f2",199471:"0b6524d7b6",199589:"76a343dc8e",199590:"b2d682dfe3",1e7:"14dcdbd1b8",10000001:"85e2135ebf",10000002:"6f0530b847",10000003:"9aebeaabdc",10000004:"ec30be261c",10000005:"42e269ebcb",10000006:"fe46ec1a7c",10000007:"c7c5b41643",10000008:"e017e3296e",10000010:"c8a4da1342",10000011:"d0033013c8",10000012:"c920a1872b",10000013:"5cb1560e95",10000014:"945d12984c",10000015:"3f0af1c616",10000016:"e9cff35b9e",10000017:"809a140d15",10000018:"a3f294e223",10000019:"26c5369243",10000020:"2895ae0549",10000021:"7e463b1f7b",10000022:"3ac8066b24",10000023:"05688314fe",10000024:"2b9b203f0f",10000025:"d8c2189403",10000026:"abaa9c1f9a",10000035:"a41083a929",10000036:"8e74dd4bab",10000037:"cafae725da",10000038:"a121dfa9da",10000039:"ff48cf981d",10000040:"254b287491",10000041:"95cf182700",10000042:"7c449193e6",10000043:"7cf4199d2c",10000044:"7d70b943e5",10000045:"d6ebb8fae4",10000046:"6ec2e4a903",10000047:"6b9d9c6b43",10000048:"c697613553",10000049:"154b668a0c",10000050:"06c11d3a67",10000051:"79b306f4fb",10000052:"4ddf4d4f00",10000053:"d4f3f248fb",10000054:"5f1da0f4d3",10000055:"a258c98d13",10000056:"46ae6a0b78",10000057:"484950e70c",10000058:"b0f2c06862",10000059:"81c7d9a013",10000060:"b2774f9b84",10000061:"8d357982ec",10000062:"f17475be77",10000063:"2e17bf9dba",10000064:"5ab5b328ac",10000065:"746301201f",10000066:"74a3fa3235",10000067:"445aec4c58",10000068:"166c8e0df7",10000069:"3c1d1ce2d1",10000070:"41b1a04aca",10000071:"8f48e4fe18",10000072:"ce3f903a4a",10000073:"facdeec66b",10000074:"5bdce48fc9",10000075:"4263c32baa",10000076:"da12137035",10000077:"befae0dd8d",10000078:"3789f175c4",10000079:"8f0ede6d58",10000080:"2c8374dc79",10000081:"939ab96a5d",10000082:"65edb8587b",10000083:"5d51ce9468",10000084:"31758176d8",10000085:"3f06c3645c",10000086:"570293b21e",10000087:"c8ca3f3a91",10000088:"3f8c611719",10000089:"ec5bacbf42",10000090:"b1a46cb9ba",10000324:"7b7e80f204",10000325:"dbc6c5bd69",10000327:"ac86d06eda",10000328:"29283373d0",10000329:"e1abc69b32",10000330:"c319f17ac6",10000687:"559415b345",10000688:"59bcb90348",10000689:"3d5058c75a",10000690:"02beff69b3",10000691:"ef2d717c50",10000692:"ed824f7075",10000693:"855e7d694d",10000694:"3d35d48a1e",10000695:"76f5459105",10000696:"836eb3c3a8",10000697:"f6898d79aa",10000698:"034cb96ed7",10000699:"2ab0be4b8e",10000700:"f9ff676abf",10000701:"b1198dc297",10000702:"9aa495d2d0",10000703:"94466aef62",10000704:"bbe993efa8",10000705:"08e87b19e5",10000706:"30af89e371",10000707:"c615bda81b",10000708:"3439a7f2c6",10000709:"fe2a0450ee",10000710:"d3b1c6970b",10000711:"e8e7936872",10000712:"62ade9a5d9",10000713:"cd2d7202ce",10000714:"f5f5c0c726",10000715:"c8940defa7",10000716:"d4c3511f1c",10000717:"c0b33b2707",10000718:"b7898a96a4",10000719:"0afe21c711",10000720:"15bc4cd75c",10000721:"236acfc33e",10000722:"4252e4f621",10000723:"5532721500",10000724:"cf7ee7c557",10000725:"8e10bb4c62",10000726:"8f9461820c",10000727:"ab5e6c0d6e",10000728:"b0f2c06862",10000729:"a6aa48da2f",10000730:"81fed62109",10000731:"60450684ad",10000732:"91ada79e5f",10000733:"d7bc2d75d2",10000734:"96023b30a9",10000735:"d1f5fdd3ee",10000736:"d1f5fdd3ee",10000737:"4626475287",10000738:"9140be25d5",10000739:"6d7e163aeb",10000740:"9c25789148",10000741:"b9c34da79c",10000742:"4051b7098a",10000743:"b1b7157e01",10000744:"a09ed2c549",10000745:"a058ff2a49",10000746:"a0c8d3019b",10000747:"ac3fdffff0",10000748:"3dd97e8055",10000749:"b754ebaa69",10000750:"51d3b9564c",10000751:"96023b30a9",10000752:"96a9c2bea3",10000753:"0a09c2d0cf",10000754:"38685c8612",10000755:"f8e27f95ef",10000756:"c3e7efdce7",10000757:"b5a29565a3",10000758:"45d836f255",10000759:"1a2a833310",10000760:"c1b09c8fc2",10000761:"5c53c1c7b6",10000762:"76f62be96f",10000763:"34f8564abc",10000764:"d1cf01d5ca",10000765:"dd3bd8d139",10000766:"153a809ae6",10000767:"937f54123d",10000768:"428ccdd665",10000769:"6cd7b24a28",10000770:"f29ba8726d",10000771:"919f452aa2",10000772:"fe2b83f925",10000773:"e1451f31f3",10000774:"7cc13def5b",10000775:"838dd6be01",10000776:"5f08966e98",10000777:"77eae04846",10000778:"84a83ac33b",10000779:"4c0a1b312e",10000780:"36cb533b06",10000781:"eda27d241c",10000782:"bf47ef634c",10000783:"0e5b38bf4e",10000784:"575b94fc50",10000785:"b2bf9497c0",10000786:"3b9d152ebb",10000787:"2573f87eeb",10000788:"6a97ae4ea8",10000789:"50a9a213be",10000790:"b184d9ab96",10000791:"e7684adb8a",10000792:"ebf99bd12f",10000793:"3f7d61c4a9",10000794:"0f02072bd7",10000795:"11e00f9535",10000796:"dcfaea9c78",10000797:"63427e14ff",10000798:"0045fe2ae5",10000799:"e2d6b5bc78",10000800:"96257b0908",10000801:"4b1efa07d3",10000802:"f7c7d3a0ac",10000803:"bb1889cd06"}}}));var re=n(656),ae=n(751);async function ie(l){let{contextsInitTimestampPerformance:g,master:m}=l;const p=await m.next(),b=performance.now();Object.entries(p.globals??{}).forEach((e=>{let[t,n]=e;Object.defineProperty(self,t,{value:n})}));const h=new J(p.permutiveConfig);h.measureBetween("waiting_worker_high_priority_config",g,b);const v=function(t){var n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.RP;return t.loggingEnabled&&void 0!==(null===(n=self.console)||void 0===n?void 0:n.log)?new C(r):new T}(p.permutiveConfig,p.sdkInitTimestampDate),y=p.metricsEnabled?new U(p.sdkInitTimestampPerformance,p.timeOriginMainContext,v):new x;y.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"worker_evaluated",time_origin:"sdk_init"},g),y.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"worker_received_high_priority_config",time_origin:"sdk_init"},b);const w=(0,r.zG)(m.next,h.traceTask("waiting_worker_low_priority_config"))();w.then((()=>y.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"worker_received_low_priority_config",time_origin:"sdk_init"})));const S=(0,r.zG)((()=>m.read()),function(e,n){const a=e=>(0,r.zG)(e,j.Hd((e=>e in n)),(e=>{let{left:t,right:n}=e;return{buffers:n,nonBuffers:t}}));return i=>{const{buffers:o,nonBuffers:s}=a(e),[c,u]=t.Ue({...s,...(0,r.zG)(o,j.Su((e=>()=>{const t=o[e];return o[e]=n[e].empty,t})))});return(async()=>{for(;;){const e=(0,r.zG)(await i(),F.UI(a),F.ur({concat:(e,t)=>({nonBuffers:{...e.nonBuffers,...t.nonBuffers},buffers:(()=>{const r={...e.buffers};for(const e in t.buffers)r[e]=e in r?n[e].concat(r[e],t.buffers[e]):t.buffers[e];return r})()})})),t=(0,r.zG)(e.buffers,j.Su(((e,t)=>(o[e]=n[e].concat(o[e],t),()=>{const t=o[e];return o[e]=n[e].empty,t}))));u({...c.current,...e.nonBuffers,...t})}})(),(0,r.zG)(e,j.Su((e=>(0,r.zG)(c,t.UI((t=>t[e]))))))}}({contextualCohorts:i.YP,consent:p.consent,enrichmentReplacementMap:i.YP,eventSourceId:p.eventSourceId,identities:i.YP,newEvents:o.cS,pageviewState:p.pageviewState,priorCachedEventsResponses:o.cS,sessionId:p.sessionId,userId:p.userId,userIdIsNewlyGenerated:p.userIdIsNewlyGenerated,viewId:p.pageviewState.viewId,webClient:i.G(p.webClient)},{newEvents:o.uZ(),priorCachedEventsResponses:o.uZ()}),(0,s.rO)({newEvents:(0,re.F)(y,"pageview_received_by_worker")}),(e=>({...e,currentTimestampSecs:oe((0,r.zG)(p.initialTimestampSecs,i.EQ((()=>0),(e=>e-Date.now()/1e3))))}))),{eventsCachedInWorker:E,coreService:I}=await function(s,l,g,m,p,b){m.debug("SDK core started",s);const h=500,v=new _(b),y=new G(s.permutiveConfig),w=new te(y,s.permutiveConfig,v,b,m,(()=>g.webClient.current)),S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w.reportError(e,null==t?void 0:t.userId,null==t?void 0:t.timestamp)},E=(0,r.zG)(c.Y3((()=>Promise.resolve().then(n.bind(n,965)).then((e=>e.watson))),(()=>"Failed to import watson.")),c.UI((e=>(0,r.zG)(g.webClient,t.UI(i.UI((e=>e.url))),t.D8(i.Eh(ae.Eq)),(n=>e({config:s.permutiveConfig,metrics:b,permutiveApi:v,permutiveUrls:y,pageUrl:n,trace:p,watsonEnabled:(0,r.zG)(g.pageviewState,t.UI((e=>e.watsonEnabled)))})))))),I=(0,r.zG)(K.initialise(s.permutiveConfig,m,S,p,b,g.userId,(()=>(0,r.zG)(Z.connect(new D(s.permutiveConfig),b,new O,s.organizationId,`events_${g.userId.current}`,`keys_${g.userId.current}`,"events",m,g.consent,s.isSecureContext),p.traceTask("connect_idb_events_cache")))),p.traceTask("initialise_events_cache"),c.At((()=>()=>b.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"events_cache_initialised",time_origin:"sdk_init"},performance.now()))),c.EQ((e=>{m.error(`Worker failed to initialise IndexedDB event cache: ${e}`);const n={},[a,i]=t.gS(o.uZ()),s=()=>new Promise((e=>{const t=String(Math.random());n[t]=r=>{delete n[t],e(r)},i([[t,void 0]])}));return(0,r.zG)(g.priorCachedEventsResponses,t.UI((e=>(0,r.zG)(e(),o.UI((e=>{var t;let[r,a]=e;return null===(t=n[r])||void 0===t?void 0:t.call(n,a)})))))),{eventsCachedInWorker:!1,coreOutput:{priorCachedEventsRequests:a},coreConfig:{eventsCache:d.t$(s)}}}),(e=>({eventsCachedInWorker:!0,coreOutput:{priorCachedEventsRequests:t.a9(M.of(o.bM()))},coreConfig:{eventsCache:d.F2(e)}})))),U=(0,r.zG)(!0,c.DT(r.yR,(()=>"IndexedDB disabled.")),c.tS((()=>(0,r.zG)(k.K.initialise(new D(s.permutiveConfig),b,m,new O,`worker_${s.organizationId}`,"core_service_state","keys","core_service_state",4,s.isSecureContext),p.traceTask("initialise-core-idb")))),c.tS((e=>(0,z.Yt)(c.Hi)({persistCoreState:u(e,"core"),persistLalState:u(e,"lal")})))),x=()=>new Promise((e=>(0,r.zG)(g.consent,t.YP((t=>{t&&e()}))))),P=o=>(0,r.zG)(c.fF(U),c.YO("servicePersistence"),c.Qt("eventsCache",c.fF((()=>o))),c.Qt("coreService",(0,r.zG)(c.Y3((()=>Promise.resolve().then(n.bind(n,373)).then((e=>e.service))),(e=>`Failed to import core service: ${e}`)),p.traceTask("import-core-service"))),c.Qt("lookalikeModelsService",c.Y3((()=>Promise.resolve().then(n.bind(n,963)).then((e=>e.lookalikeModelsService))),(()=>"Failed to import lookalike models."))),c.Qt("optimisedActivationsConfig",c.Y3((()=>Promise.resolve().then(n.bind(n,975)).then((e=>e.optimisedActivationsConfig))),(()=>"Failed to import lookalike models."))),c.Qt("watson",E),A.mU((()=>x)),c.UI((n=>{let{coreService:o,eventsCache:c,lookalikeModelsService:u,optimisedActivationsConfig:w,servicePersistence:E,watson:I}=n;const _={config:s.permutiveConfig,customQueries:ne(),logger:m,metrics:b,optimisedActivationsConfig:w,permutiveApi:v,permutiveUrls:y,reportError:S,trackPageviewComplete:s.trackPageviewComplete,migratedStateMaps:(0,r.zG)(i.lo(!s.isFirstPageview),i.EQ((()=>A.of({external:i.bM(),internal:i.bM()})),(()=>M.of(l.then((e=>e.migratedStateMaps)))))),trace:p,watson:i.G(I)};return(0,r.zG)(E,d.UI((n=>{let{persistCoreState:s,persistLalState:d}=n;return(0,r.zG)(u({..._,...g}),d,a.VS((n=>{let[u,d]=n;return(0,r.zG)(g,o({..._,...c.coreConfig,lookalikeModels:i.G(d)}),(l=h,m=t.a9(!1),n=>a=>{const{value:i,state:o}=n(a),[s,c]=t.Ue(o.current),u=(0,e.UM)((()=>c(o.current)),l),f=(0,r.zG)(t.vP(o,s),t.UI((e=>{let[t,n]=e;return t===n})));return(0,r.zG)(m,t.bw((e=>e&&u()))),{value:(0,r.bc)(f,i),state:(0,r.zG)(t.vP(m,o,s),t.UI((e=>{let[t,n,r]=e;return t?n:r})))}}),f(g.consent),s,a.UI((e=>{let[n,[a,i]]=e;return{...i,stateFlushed:(0,r.zG)(t.vP(u,n,a),t.UI((e=>{let[t,n,r]=e;return t&&n&&r})))}})));var l,m})),(e=>{const{value:n}=e({stopped:t.a9(!1),previousState:{}});return e=>({value:n,state:t.a9(void 0)})}))})),d.fS((e=>(m.warn("Worker running in non-persistent mode.",e),(0,r.zG)(g,o({..._,...c.coreConfig,lookalikeModels:i.YP}),a.Hr("stateFlushed",(()=>t.a9(!0))),f(g.consent))))),a.UI((e=>({...e,...c.coreOutput}))))})));return async()=>{const e=I(),t=P(e)(),{eventsCachedInWorker:n}=await e;return{eventsCachedInWorker:n,coreService:t}}}(p,w,S,v,h,y)();m.send({eventsCachedInWorker:E});const P=await I;var q,Y;if(d.nM(P))return v.error(`Failed to start worker: ${P.left}`),void(null===(q=(Y=self).close)||void 0===q||q.call(Y));const L=P.right,N=await w,$=(await L)({stopped:t.a9(!1),previousState:N.previousState});!function(e,n,a){const o=(0,r.zG)(t.vP(n),t.UI((0,r.ls)(j.UI((e=>"function"==typeof e?e:M.of(e))),(0,z.Yt)(M.G5))));let s=o.current();e(s),(0,r.zG)(o,t.YP((t=>{const n=t(),o=(0,r.zG)(n,j.z7(((e,t)=>{var n;return t!==s[e]&&(null===(n=a[e])||void 0===n||!n.isEmpty(t))})),i.DT((0,R.ff)(j.xb)));i.pC(o)&&(s={...s,...o.value},e(o.value))})))}(m.send,{activations:t.vP($.value.activations),cohorts:t.vP($.value.cohorts),context:$.value.context,eventsToPublish:$.value.eventsToPublish,eventsToPublishOnPageUnload:$.value.eventsToPublishOnPageUnload,externalData:$.value.externalData,geoIP:$.value.geoIP,metrics:t.a9((()=>y.consume())),priorCachedEventsRequests:$.value.priorCachedEventsRequests,realtime:$.value.realtime,state:$.state,transitionsSinceInit:$.value.transitionsSinceInit,workerStateFlushed:$.value.stateFlushed,stateMigratedThisInitialisation:$.value.stateMigratedThisInitialisation},{eventsToPublish:{isEmpty:o.xb},metrics:{isEmpty:o.xb}})}function oe(n){const r=()=>Math.floor(Date.now()/1e3)+n,[a,i]=t.Ue(r());return(0,e.UM)((()=>i(r())),1e3),a}const se=t=>{const n=[],r=[],a=()=>{for(;n.length>0&&r.length>0;)r.shift()()},i=t=>new Promise((n=>{r.push((()=>n(t()))),(0,e.HJ)(a)}));return t.addEventListener("message",(0,e.GL)((t=>{null!==t.data&&(n.push(t.data),(0,e.HJ)(a))}))),{next:()=>i((()=>n.shift())),read:()=>i((()=>n.splice(0)))}};!async function(){const t=self;ie({contextsInitTimestampPerformance:e.NC,master:{...se(t),send:e=>t.postMessage(e)}})}()})()})();',"Worker",void 0,void 0)}},477:e=>{e.exports=function(e,t,n,r){var i=self||window;try{try{var a;try{a=new i.Blob([e])}catch(t){(a=new(i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder)).append(e),a=a.getBlob()}var o=i.URL||i.webkitURL,s=o.createObjectURL(a),c=new i[t](s,n);return o.revokeObjectURL(s),c}catch(r){return new i[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(e){if(!r)throw Error("Inline worker is not supported");return new i[t](r,n)}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={},_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__;_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3992),(()=>{var e,t;(0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__.ho)(!0);const n="permutive.main.import_runWebSdk",r=`${n}_start`;null===(e=performance)||void 0===e||null===(t=e.mark)||void 0===t||t.call(e,r),(0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__.SF)((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,4095))))().then((e=>{var t,i;null===(t=performance)||void 0===t||null===(i=t.measure)||void 0===i||i.call(t,n,r),e.runSdk({contextsInitTimestampPerformance:_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__.NC,contextsInitTimestamp:_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__.RP})})).catch(console.error)})()})();