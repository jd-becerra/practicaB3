(()=>{"use strict";const e={portalId:2,cookie:"REGMARCA",allowConsentlessRegister:!0,urlsAllowDisagree:["cuidateplus.marca.com","sportweekend.marca.com","www.marcabusinessforum.com","masmarca.marca.com"],urlsHideDidomi:["compra.marca.com","www.marca.com/micuenta","seguro.marca.com","www.marca.com/corporativo/politica-privacidad.html","pago.marca.com"],urlsNotShowDidomi:["www.marca.com/cookies.html"],expiredDaysConsentlessRegister:5,externalRedirects:{consentlessLogin:"https://www.marca.com/micuenta/v1/es/auth?view=login",consentlessLogout:"https://www.marca.com/micuenta/v1/es/user-area/logout",registerConsentless:"https://www.marca.com/micuenta/v1/es/auth?view=signup",consentlessSubAccess:"https://compra.marca.com/compras/lite/buy/offer/t4FQ96y_p6M",premiumSubAccess:""},paywallApi:{pidPremium:"",pidConsentless:"2523877",apwJS:"apw.js?v=3",apwModJS:"apw.js?f=mod&v=3",apwTimeout:5e3},api:{schema:"https://",base:"seguro.marca.com/ueregistro",version:"v2",cspConsentlessService:20026,checksConsentlessRegister:"/datos-adicionales/obtener-acceso-servicio-usuario",activeConsentlessRegister:"/datos-adicionales/guardar-acceso-servicio-usuario"},cookie_consentState:{nameCookie:"ue_consentState",hoursToExpired:1,steps:{first:1,firstLogin:1.1,optionsPage:2,twoPointOne:2.1,twoPointTwo:2.2,twoPointThree:2.3}},cookie_ueUserInformationChecks:{nameCookie:"ueUserInformationChecks",fallback:{maxAge:3600,value:2},consentAccepted:{maxAge:3600,value:4},consentRejected:{maxAge:3600,value:8},consentPrevious:{maxAge:3600,value:16}},analitycs:{clientSubscriptionPackage:"Marca. Acceso sin consentimiento 14,99€/año",endpointDidomiEvents:"https://api.privacy-center.org/v1/events"},iab:{vendorsListUrl:"https://components.unidadeditorial.es/vendor-list.json"},amp:{cookie_ueAmpConsentAccepted:{nameCookie:"ueAmpConsentAccepted",maxAge:432e3},cookie_ueAmpParentHref:{nameCookie:"ueAmpParentHref",maxAge:300},nameStaticUrl:"https://www.marca.com/assets/consent/v1/amp-consent-mar.html"},countriesExcludedGDPRLaw:["US"]};let o={getRootDomain:e=>{let o=e||window.document.location.hostname;o=o.split(".");const t=o[o.length-1];return(o[o.length-2]||"")+(t?"."+t:"")},didomiHide:()=>{window.Didomi&&window.Didomi.notice&&window.Didomi.notice.hide(),window.Didomi&&window.Didomi.preferences&&window.Didomi.preferences.hide()},getNodeElement:(e,o)=>{let t=0;return new Promise(((i,n)=>{let s=document.querySelector(o);if(s){let o=s.querySelector(e);if(o)return i(o);const a=setInterval((()=>{if(o=s.querySelector(e),o)return clearInterval(a),i(o);20===t&&(clearInterval(a),n(!1)),t++}),200)}else n(!1)}))},getApwFiles:async()=>{window._apw||(await fetch(`${window.location.origin}/${e?.paywallApi?.apwJS}`).then((e=>e.text())).then((e=>{let o=document.createElement("script");o.innerText=e,document.querySelector("head").append(o)})),await fetch(`${window.location.origin}/${e?.paywallApi?.apwModJS}`).then((e=>e.text())).then((e=>{let o=document.createElement("script");o.innerText=e,document.querySelector("head").append(o)})))},getHtmlElementText:e=>{let o="";return e?.innerText?o=e.innerText:e?.textContent&&(o=e.textContent),o},isSecondStep:o=>Boolean(o==e?.cookie_consentState?.steps?.optionsPage||o==e?.cookie_consentState?.steps?.twoPointOne||o==e?.cookie_consentState?.steps?.twoPointTwo||o==e?.cookie_consentState?.steps?.twoPointThree),logout:o=>{window.dispatchEvent(new Event("REGLogout")),o&&o.setCookie(e.cookie_consentState.nameCookie,JSON.stringify({step:e.cookie_consentState.steps.firstLogin}),{"max-age":o.hoursCookieActive(e.cookie_consentState.hoursToExpired),domain:o.domain})},getSplitParamUrl:e=>e.includes("?")?"&":"?",getLang:()=>{const e=["es","en"],o=window.navigator.language;let t="es";return o&&(t=e.find((e=>o.includes(e)))||"es"),t},getHref:()=>window.location.href,setHref:e=>{window.location.href=e},setTopHref:e=>{window.top.location=e},countryExcludedGDPRLaw:()=>!(!Object.prototype.hasOwnProperty.call(e,"countriesExcludedGDPRLaw")||!e.countriesExcludedGDPRLaw)&&e.countriesExcludedGDPRLaw.includes(window.Didomi.getConfig()?.user?.country)};const t=o;let i=null;class n{constructor(){return i||(this.domain=t.getRootDomain(),i=this),i}isValid(e){return!(!navigator.cookieEnabled||!this.getCookie(e))}hoursCookieActive(e=1){return e?60*e*60:0}getCookie(e){let o=null;return navigator.cookieEnabled&&(o=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;\\s*)"+e+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))),o||!1}setCookie(e,o,t={}){let i=encodeURIComponent(e)+"="+encodeURIComponent(o);(t={path:"/",samesite:"lax",...t}).expires instanceof Date&&(t.expires=t.expires.toUTCString());for(const e in t){i+=`;${e}`;const o=t[e];!0!==o&&(i+=`=${o}`)}document.cookie=i}removeCookie(e){return!(!navigator.cookieEnabled||!this.getCookie(e))&&(document.cookie=`${e}=; Path=/; Domain=${this.domain}; Max-Age=0`,!0)}}var s={};["debug","info","log"].forEach((e=>{s[e]=(o,t)=>{window.localStorage.getItem("debug-consent-mode")&&console[e](o,t)}}));let a={syncAmpAndWeb:()=>{const o=new n,i=window.localStorage.getItem(e.amp.cookie_ueAmpConsentAccepted.nameCookie),s=o.getCookie(e.amp.cookie_ueAmpConsentAccepted.nameCookie);(i||s)&&(window.Didomi.shouldUserStatusBeCollected()&&!t.getHref().includes(e.amp.nameStaticUrl)&&window.Didomi.setUserAgreeToAll("click"),o.removeCookie(e.amp.cookie_ueAmpConsentAccepted.nameCookie),window.localStorage.removeItem(e.amp.cookie_ueAmpConsentAccepted.nameCookie))},saveParentHref:()=>{const o=new n;a.isIframe()&&t.getHref().includes(e.amp.nameStaticUrl)&&a.isAmp(document.referrer)&&o.setCookie(e.amp.cookie_ueAmpParentHref.nameCookie,document.referrer,{"max-age":e.amp.cookie_ueAmpParentHref.maxAge,domain:o.domain})},ampPostMessage:e=>{window.parent.postMessage({type:"consent-response",action:e?"accept":"reject",info:window.Didomi?.getUserStatus()?.consent_string,consentMetadata:{gdprApplies:!0,consentStringType:2}},"*")},observerDidomiAnalitycs:o=>{new PerformanceObserver((t=>{t.getEntries().forEach((t=>{"xmlhttprequest"===t.initiatorType&&t.name===e.analitycs.endpointDidomiEvents&&(s.log("Didomi analytic request completed:",t.name),a.ampPostMessage(o))}))})).observe({entryTypes:["resource"]})},sendConsentResponse:o=>{if(a.isIframe()&&t.getHref().includes(e.amp.nameStaticUrl)){if(a.observerDidomiAnalitycs(o),o){window.Didomi.setUserAgreeToAll("click");const o=new n;o.setCookie(e.amp.cookie_ueAmpConsentAccepted.nameCookie,!0,{"max-age":e.amp.cookie_ueAmpConsentAccepted.maxAge,domain:o.domain}),window.localStorage.setItem(e.amp.cookie_ueAmpConsentAccepted.nameCookie,!0)}else window.Didomi.setUserDisagreeToAll("click");window.setTimeout((()=>{a.ampPostMessage(o)}),3e3)}},sendConsentResponseWithCache:o=>{const t=Number(o)!==e.cookie_ueUserInformationChecks.consentRejected.value;a.sendConsentResponse(t)},parentNotHaveSameDomain:()=>{const o=(new n).getCookie(e.amp.cookie_ueAmpParentHref.nameCookie)||document?.referrer;return a.isIframe()&&!a.isAmp(o)},redirectOnTop:()=>{t.setTopHref(t.getHref()?.split("#")[1]+"?step=2")},isAmp:e=>e?.startsWith("https://amp.")||e?.startsWith("https://stories.")||e?.startsWith("https://amp-us."),isIframe:()=>window.parent!==window};const r=a;class c{constructor(e){this.cookieManager=new n,this.userInfoManager=e}async forceGetConsentlessChecks(){const e=this.userIsLogged(),o=this.getUrlAllowDisagree(),i=this.getAllowConsentlessRegister();let n=!1,a=!1,r=!1,c=!1;if(o)s.log("debug-consent-force","url allows reject");else if(s.log("debug-consent-force","url doesn't allow reject"),e){s.log("debug-consent-force","User is logged"),await t.getApwFiles();let e=await this.userActiveSubscriptions();if(e?.consentlessActiveSub)r=e.consentlessActiveSub,s.log("debug-consent-force","User has active consentless sub");else if(s.log("debug-consent-force","User doesn't have active consentless sub"),e?.premiumActiveSub)c=e.premiumActiveSub,s.log("debug-consent-force","User has active premium sub");else if(s.log("debug-consent-force","User doesn't have active premium sub"),i){s.log("debug-consent-force","The url allows consentless temporal with registration");const e=await this.getStatusConsentlessRegister();n=e.isActiveConsentlessRegister,a=e.isExpiredConsentlessRegister}else s.log("debug-consent-force","The url doesn't allow consentless temporal with registration")}else s.log("debug-consent-force","User is not logged");return{userIsLogged:e,allowConsentlessRegister:i,isActiveConsentlessRegister:n,isExpiredConsentlessRegister:a,consentlessActiveSub:r,premiumActiveSub:c,urlAllowDisagree:o}}async getConsentlessChecks(){const o=this.userIsLogged(),i=this.getUrlAllowDisagree(),n=this.getAllowConsentlessRegister();let s=!1,a=!1,c=!1,l=!1;if(!this.userInfoManager.isConsentRequired()){if(!this.userInfoManager.hasSomethingRejectedTemporally())return this.userInfoManager.storeUserInfoInBrowser(e.cookie_ueUserInformationChecks.consentAccepted),r.sendConsentResponse(!0),{};if(this.userInfoManager.hasSomethingRejectedTemporally()&&i)return this.userInfoManager.storeUserInfoInBrowser(e.cookie_ueUserInformationChecks.consentRejected),r.sendConsentResponse(!1),{};if(this.userInfoManager.hasSomethingRejectedTemporally()&&t.countryExcludedGDPRLaw()&&!o)return this.userInfoManager.storeUserInfoInBrowser(e.cookie_ueUserInformationChecks.consentRejected),r.sendConsentResponse(!1),{}}if(o){await t.getApwFiles();try{const o=await this.userActiveSubscriptions();if(c=o.consentlessActiveSub,l=o.premiumActiveSub,c&&(this.userInfoManager.storeUserInfoInBrowser(e.cookie_ueUserInformationChecks.consentRejected),r.sendConsentResponse(!1)),!c&&l&&!this.userInfoManager.isConsentRequired())return this.userInfoManager.storeUserInfoInBrowser(e.cookie_ueUserInformationChecks?.consentPrevious),r.sendConsentResponse(!0),{};if(!c&&!l)if(n){const o=await this.getStatusConsentlessRegister();if(s=o.isActiveConsentlessRegister,a=o.isExpiredConsentlessRegister,s&&!a)this.userInfoManager.storeUserInfoInBrowser(e.cookie_ueUserInformationChecks.consentRejected),r.sendConsentResponse(!1);else if(this.handleCountryExcludedGDPRLaw())return{}}else if(this.handleCountryExcludedGDPRLaw())return{}}catch(o){return this.userInfoManager.storeUserInfoInBrowser(e.cookie_ueUserInformationChecks.fallback),r.sendConsentResponse(!0),{}}}return{userIsLogged:o,allowConsentlessRegister:n,isActiveConsentlessRegister:s,isExpiredConsentlessRegister:a,consentlessActiveSub:c,premiumActiveSub:l,urlAllowDisagree:i}}handleCountryExcludedGDPRLaw(){if(t.countryExcludedGDPRLaw()&&!this.userInfoManager.isConsentRequired()&&this.userInfoManager.hasSomethingRejectedTemporally())return this.userInfoManager.storeUserInfoInBrowser(e.cookie_ueUserInformationChecks.consentRejected),r.sendConsentResponse(!1),{}}getAllowConsentlessRegister(){return e?.allowConsentlessRegister}getUrlAllowDisagree(){return e.urlsAllowDisagree?.some((e=>t.getHref()?.includes(e)))}userIsLogged(){return this.cookieManager.isValid(e.cookie)}async getApwInfo(o){let t=o?.get()?.allowed||{},i=Object.keys(t).map((function(e){return t[e].pids||[]})).reduce((function(e,o){return e.concat(o)}),[]);return{premiumActiveSub:i?.includes(e.paywallApi.pidPremium)||!1,consentlessActiveSub:i?.includes(e.paywallApi.pidConsentless)||!1}}async userActiveSubscriptions(){const o=new Promise(((o,t)=>setTimeout((()=>t("apw couldn't be resolved")),e.paywallApi.apwTimeout))),t=new Promise((e=>{window._apw&&_apw.modules&&_apw.modules.subscribers_ac&&"function"==typeof _apw.modules.subscribers_ac.load&&window._apw.modules.subscribers_ac.load(function(o){e(this.getApwInfo(o))}.bind(this))}));return Promise.race([t,o])}async getStatusConsentlessRegister(){let o=!1,t=!1;const i=`${e.api.schema}${e.api.base}/${e.api.version}${e.api.checksConsentlessRegister}/${e.api.cspConsentlessService}/${e.portalId}`;try{await fetch(i,{method:"POST",credentials:"include"}).then((e=>{if(e.ok||404==e.status)return e.json();throw new Error(`HTTP error! Status: ${e.status}`)})).then((e=>{e.data?.datosAdicionales?.fecha&&(o=!0,t=this.getIsConsentlessRegisterExpired(e.data.datosAdicionales.fecha))}))}catch(e){throw s.log("debug-consent","register failure fallback"),new Error("[debug-consent] - register failure fallback")}return{isActiveConsentlessRegister:o,isExpiredConsentlessRegister:t}}getIsConsentlessRegisterExpired(o){if(o){return((new Date).getTime()-o)/864e5>e.expiredDaysConsentlessRegister}return!1}}const l={id:{ueNoticeButtons:"ue-notice-buttons",uePurposesButton:"ue-purposes-buttons",disagreeNoticeButton:"ue-disagree-notice-button",agreeNoticeButton:"ue-accept-notice-button",savePurposesButton:"ue-save-purposes-button",ueModal:"ue-modal",ueNoticeTexts:"ue-dynamic-text"},class:{hiddenContent:"hidden-content",ueModalOpen:"ue-modal-open",ueModalContainerClass:"popup-disagreed-cookies"},attr:{actionName:"action-name"}},d={class:{containerVendors:"didomi-consent-popup-preferences-vendors",containerPurposes:"didomi-consent-popup-preferences-purposes",consentPoupVendor:"didomi-consent-popup-vendor",containerClickAll:"didomi-consent-popup-container-click-all",didomiConsentPoupHeader:"didomi-consent-popup-header",didomiNotLinkStyle:"didomi-no-link-style",didomiLogo:"didomi-popup-notice-logo",didomiText:"didomi-popup-notice-text-container",didomiConsentPopupCategories:"didomi-consent-popup-categories",didomiConsentPopupFooter:"didomi-consent-popup-footer",didomiPopupFooter:"didomi-popup-footer"},id:{didomiHost:"didomi-host",didomiRadioOptionDisagreeToAll:"didomi-radio-option-disagree-to-all",didomiRadioOptionAgreeToAll:"didomi-radio-option-agree-to-all"},attr:{ariaDescribedby:"didomi-consent-popup-information-save"}},u={8:{portal:"elmundo",textContent:{es:{didomiModal:{header:{loginQuestion:"¿Eres suscriptor?",loginLink:"Iniciar sesión",changeAccountLink:"Cambiar cuenta"},saveButtonText:"Guardar y continuar",disagreeAndSuscribeButtonText:"Rechazar y suscribirse",disagreeButtonText:"Rechazar",configureButtonText:"Configurar"},ueModal:{header:{loginQuestion:"¿Eres suscriptor?",loginLink:"Iniciar sesión",changeAccountLink:"Cambiar cuenta",mainText:"Has elegido rechazar las cookies basadas en consentimiento que utilizamos principalmente para gestionar la publicidad y las recomendaciones de contenido. En adelante, <strong>para acceder a nuestra web tienes que elegir alguna de las siguientes opciones.</strong>"},offers:{consentless:{title:"Acceso rechazando cookies",infoText:"Permite navegar por El Mundo sin cookies basadas en consentimiento, pero con acceso limitado a los artículos gratuitos.",buttonText:"Accede por 14,99€ al año",hintText:"Cancela cuando quieras"},premium:{buttonText:"Ver otras opciones de suscripción"}},footer:{infoText:"Si has cambiado de idea, <strong>puedes aceptar las cookies y continuar leyendo EL MUNDO.</strong>",acceptButtton:"Acepta y accede a EL MUNDO",legalText:"<strong>Nosotros y nuestros socios hacemos el siguiente tratamiento de datos:</strong> Almacenamiento y acceso a información de geolocalización con propósitos de publicidad dirigida, Almacenamiento y acceso a información de geolocalización para realizar estudios de mercado, Almacenar o acceder a información en un dispositivo, Analizar activamente las características del dispositivo para su identificación, Compartir tus análisis de navegación y grupos de interés con terceros, Crear un perfil para la personalización de contenidos, Crear un perfil publicitario personalizado, Desarrollar y mejorar productos, Enriquecer el perfil con información de terceros, Medir el rendimiento de los anuncios, Medir el rendimiento del contenido, Seleccionar anuncios básicos, Seleccionar anuncios personalizados, Seleccionar contenido personalizado, Utilizar datos de localización geográfica precisa, Utilizar estudios de mercado a fin de generar información sobre el público"},accessibility:{ueModalAriaLabel:"Rechazo de cookies y suscripción",offersAriaLabel:"Opciones de pago",offerOneAriaLabel:"Opción 1",offerTwoAriaLabel:"Opción 2"}}},en:{didomiModal:{header:{loginQuestion:"Are you a subscriber?",loginLink:"Login",changeAccountLink:"Change account"},saveButtonText:"Save and continue",disagreeAndSuscribeButtonText:"Reject and subscribe",disagreeButtonText:"Reject",configureButtonText:"Configuration"},ueModal:{header:{loginQuestion:"¿Eres suscriptor?",loginLink:"Iniciar sesión",changeAccountLink:"Cambiar cuenta",mainText:"Has elegido rechazar las cookies basadas en consentimiento que utilizamos principalmente para gestionar la publicidad y las recomendaciones de contenido. En adelante, <strong>para acceder a nuestra web tienes que elegir alguna de las siguientes opciones.</strong>"},offers:{consentless:{title:"Acceso rechazando cookies",infoText:"Permite navegar por El Mundo sin cookies basadas en consentimiento, pero con acceso limitado a los artículos gratuitos.",buttonText:"Accede por 14,99€ al año",hintText:"Cancela cuando quieras"},premium:{buttonText:"Ver otras opciones de suscripción"}},footer:{infoText:"Si has cambiado de idea, <strong>puedes aceptar las cookies y continuar leyendo EL MUNDO.</strong>",acceptButtton:"Acepta y accede a EL MUNDO",legalText:"<strong>Nosotros y nuestros socios hacemos el siguiente tratamiento de datos:</strong> Almacenamiento y acceso a información de geolocalización con propósitos de publicidad dirigida, Almacenamiento y acceso a información de geolocalización para realizar estudios de mercado, Almacenar o acceder a información en un dispositivo, Analizar activamente las características del dispositivo para su identificación, Compartir tus análisis de navegación y grupos de interés con terceros, Crear un perfil para la personalización de contenidos, Crear un perfil publicitario personalizado, Desarrollar y mejorar productos, Enriquecer el perfil con información de terceros, Medir el rendimiento de los anuncios, Medir el rendimiento del contenido, Seleccionar anuncios básicos, Seleccionar anuncios personalizados, Seleccionar contenido personalizado, Utilizar datos de localización geográfica precisa, Utilizar estudios de mercado a fin de generar información sobre el público"},accessibility:{ueModalAriaLabel:"Rechazo de cookies y suscripción",offersAriaLabel:"Opciones de pago",offerOneAriaLabel:"Opción 1",offerTwoAriaLabel:"Opción 2"}}}}},2:{portal:"marca",textContent:{es:{didomiModal:{header:{loginQuestion:"¿Ya tienes cuenta?",loginLink:"Inicia sesión",changeAccountLink:"Cambiar cuenta"},saveButtonText:"Guardar y continuar",disagreeAndSuscribeButtonText:"Rechazar y suscribirse",disagreeButtonText:"Rechazar",configureButtonText:"Configurar"},ueModal:{header:{loginQuestion:"¿Ya tienes cuenta?",loginLink:"Inicia sesión",changeAccountLink:"Cambiar cuenta",mainText:"<strong>Has elegido rechazar las cookies basadas en consentimiento</strong> que utilizamos, principalmente, para gestionar la publicidad y las recomendaciones de contenido. En adelante, <strong>para acceder a nuestra web tienes que elegir alguna de las siguientes opciones.</strong>",mainTextRegisterExpired:"<strong> Has disfrutado de la posibilidad de navegar sin cookies</strong> basadas en el consentimiento durante 5 días, para continuar disfrutando de MARCA <strong>te pedimos que te suscribas a la propuesta</strong> que te hacemos a continuación:"},offers:{consentlessRegister:{title:"Acceso con registro",buttonText:"Regístrate",buttonTextLogged:"Entrar",infoText:"Regístrate en la web de MARCA y navega durante 5 días sin aceptar las cookies.",infoTextLogged:"Ya estas registrado en nuestra web, disfruta de 5 días de la información de MARCA sin aceptar las cookies.",hintText:"Tras este periodo te volveremos a preguntar"},consentless:{title:"Acceso rechazando cookies",infoText:"Permite navegar por MARCA sin cookies basadas en consentimiento.",buttonText:"Accede por 14,99€ al año",hintText:"<strong>Sin compromiso</strong>, cancela en cualquier momento"}},footer:{infoText:"O si has cambiado de idea, <strong>puedes aceptar las cookies</strong> y continuar leyendo MARCA.",acceptButtton:"Acepta y accede a MARCA",legalText:"<strong>Nosotros y nuestros socios hacemos el siguiente tratamiento de datos:</strong> Almacenamiento y acceso a información de geolocalización con propósitos de publicidad dirigida, Almacenamiento y acceso a información de geolocalización para realizar estudios de mercado, Almacenar o acceder a información en un dispositivo,Analizar activamente las características del dispositivo para su identificación, Compartir tus análisis de navegación y grupos de interés con terceros, Crear un perfil para la personalización de contenidos, Crear un perfil publicitario personalizado, Desarrollar y mejorar productos, Enriquecer el perfil con información de terceros, Medir el rendimiento de los anuncios, Medir el rendimiento del contenido, Seleccionar anuncios básicos, Seleccionar anuncios personalizados, Seleccionar contenido personalizado, Utilizar datos de localización geográfica precisa, Utilizar estudios de mercado a fin de generar información sobre el público."},accessibility:{ueModalAriaLabel:"Rechazo de cookies y suscripción",offersAriaLabel:"Opciones de pago",offerOneAriaLabel:"Opción 1",offerTwoAriaLabel:"Opción 2"}}},en:{didomiModal:{header:{loginQuestion:"Have an account?",loginLink:"Login",changeAccountLink:"Change account"},saveButtonText:"Save and continue",disagreeAndSuscribeButtonText:"Reject and subscribe",disagreeButtonText:"Reject",configureButtonText:"Configuration"},ueModal:{header:{loginQuestion:"¿Ya tienes cuenta?",loginLink:"Inicia sesión",changeAccountLink:"Cambiar cuenta",mainText:"<strong>Has elegido rechazar las cookies basadas en consentimiento</strong> que utilizamos, principalmente, para gestionar la publicidad y las recomendaciones de contenido. En adelante, <strong>para acceder a nuestra web tienes que elegir alguna de las siguientes opciones.</strong>",mainTextRegisterExpired:"<strong> Has disfrutado de la posibilidad de navegar sin cookies</strong> basadas en el consentimiento durante 5 días, para continuar disfrutando de MARCA <strong>te pedimos que te suscribas a la propuesta</strong> que te hacemos a continuación:"},offers:{consentlessRegister:{title:"Acceso con registro",buttonText:"Regístrate",buttonTextLogged:"Entrar",infoText:"Regístrate en la web de MARCA y navega durante 5 días sin aceptar las cookies.",infoTextLogged:"Ya estas registrado en nuestra web, disfruta de 5 días de la información de MARCA sin aceptar las cookies.",hintText:"Tras este periodo te volveremos a preguntar"},consentless:{title:"Acceso rechazando cookies",infoText:"Permite navegar por MARCA sin cookies basadas en consentimiento.",buttonText:"Accede por 14,99€ al año",hintText:"<strong>Sin compromiso</strong>, cancela en cualquier momento"}},footer:{infoText:"O si has cambiado de idea, <strong>puedes aceptar las cookies</strong> y continuar leyendo MARCA.",acceptButtton:"Acepta y accede a MARCA",legalText:"<strong>Nosotros y nuestros socios hacemos el siguiente tratamiento de datos:</strong> Almacenamiento y acceso a información de geolocalización con propósitos de publicidad dirigida, Almacenamiento y acceso a información de geolocalización para realizar estudios de mercado, Almacenar o acceder a información en un dispositivo,Analizar activamente las características del dispositivo para su identificación, Compartir tus análisis de navegación y grupos de interés con terceros, Crear un perfil para la personalización de contenidos, Crear un perfil publicitario personalizado, Desarrollar y mejorar productos, Enriquecer el perfil con información de terceros, Medir el rendimiento de los anuncios, Medir el rendimiento del contenido, Seleccionar anuncios básicos, Seleccionar anuncios personalizados, Seleccionar contenido personalizado, Utilizar datos de localización geográfica precisa, Utilizar estudios de mercado a fin de generar información sobre el público."},accessibility:{ueModalAriaLabel:"Rechazo de cookies y suscripción",offersAriaLabel:"Opciones de pago",offerOneAriaLabel:"Opción 1",offerTwoAriaLabel:"Opción 2"}}}}},4:{portal:"expansion",textContent:{es:{didomiModal:{header:{loginQuestion:"¿Es suscriptor?",loginLink:"Inicie sesión",changeAccountLink:"Cambiar cuenta"},saveButtonText:"Guardar y continuar",disagreeAndSuscribeButtonText:"Rechazar y suscribirse",disagreeButtonText:"Rechazar",configureButtonText:"Configurar"},ueModal:{header:{loginQuestion:"¿Es suscriptor?",loginLink:"Inicie sesión",changeAccountLink:"Cambiar cuenta",mainText:"Ha elegido rechazar las cookies basadas en consentimiento que utilizamos para gestionar la publicidad y las recomendaciones de contenido. En adelante, <strong>para acceder a nuestra web tiene que elegir algunas de las siguientes opciones de pago.</strong>"},offers:{consentless:{title:"Acceso rechazando cookies",infoText:"Permite navegar por Expansión sin cookies basadas en consentimiento, pero con acceso limitado a los artículos gratuitos.",buttonText:"Acceda por 14,99€ al año",hintText:"Cancele cuando quiera"},premium:{buttonText:"Ver otras opciones de suscripción"}},footer:{infoText:"Si ha cambiado de idea, <strong>puede aceptar las cookies y continuar leyendo Expansión.</strong>",acceptButtton:"Acepte y acceda a Expansión",legalText:"<strong>Nosotros y nuestros socios hacemos el siguiente tratamiento de datos:</strong> Almacenamiento y acceso a información de geolocalización con propósitos de publicidad dirigida, Almacenamiento y acceso a información de geolocalización para realizar estudios de mercado, Almacenar o acceder a información en un dispositivo, Analizar activamente las características del dispositivo para su identificación, Compartir tus análisis de navegación y grupos de interés con terceros, Crear un perfil para la personalización de contenidos, Crear un perfil publicitario personalizado, Desarrollar y mejorar productos, Enriquecer el perfil con información de terceros, Medir el rendimiento de los anuncios, Medir el rendimiento del contenido, Seleccionar anuncios básicos, Seleccionar anuncios personalizados, Seleccionar contenido personalizado, Utilizar datos de localización geográfica precisa, Utilizar estudios de mercado a fin de generar información sobre el público"},accessibility:{ueModalAriaLabel:"Rechazo de cookies y suscripción",offersAriaLabel:"Opciones de pago",offerOneAriaLabel:"Opción 1",offerTwoAriaLabel:"Opción 2"}}},en:{didomiModal:{header:{loginQuestion:"Are a subscriber?",loginLink:"Login",changeAccountLink:"Change account"},saveButtonText:"Save and continue",disagreeAndSuscribeButtonText:"Reject and subscribe",disagreeButtonText:"Reject",configureButtonText:"Configuration"},ueModal:{header:{loginQuestion:"¿Es suscriptor?",loginLink:"Inicie sesión",changeAccountLink:"Cambiar cuenta",mainText:"Ha elegido rechazar las cookies basadas en consentimiento que utilizamos para gestionar la publicidad y las recomendaciones de contenido. En adelante, <strong>para acceder a nuestra web tiene que elegir algunas de las siguientes opciones de pago.</strong>"},offers:{consentless:{title:"Acceso rechazando cookies",infoText:"Permite navegar por Expansión sin cookies basadas en consentimiento, pero con acceso limitado a los artículos gratuitos.",buttonText:"Acceda por 14,99€ al año",hintText:"Cancele cuando quiera"},premium:{buttonText:"Ver otras opciones de suscripción"}},footer:{infoText:"Si ha cambiado de idea, <strong>puede aceptar las cookies y continuar leyendo Expansión.</strong>",acceptButtton:"Acepte y acceda a Expansión",legalText:"<strong>Nosotros y nuestros socios hacemos el siguiente tratamiento de datos:</strong> Almacenamiento y acceso a información de geolocalización con propósitos de publicidad dirigida, Almacenamiento y acceso a información de geolocalización para realizar estudios de mercado, Almacenar o acceder a información en un dispositivo, Analizar activamente las características del dispositivo para su identificación, Compartir tus análisis de navegación y grupos de interés con terceros, Crear un perfil para la personalización de contenidos, Crear un perfil publicitario personalizado, Desarrollar y mejorar productos, Enriquecer el perfil con información de terceros, Medir el rendimiento de los anuncios, Medir el rendimiento del contenido, Seleccionar anuncios básicos, Seleccionar anuncios personalizados, Seleccionar contenido personalizado, Utilizar datos de localización geográfica precisa, Utilizar estudios de mercado a fin de generar información sobre el público"},accessibility:{ueModalAriaLabel:"Rechazo de cookies y suscripción",offersAriaLabel:"Opciones de pago",offerOneAriaLabel:"Opción 1",offerTwoAriaLabel:"Opción 2"}}}}},1:{portal:"telva",textContent:{es:{didomiModal:{header:{loginQuestion:"¿Ya tienes cuenta?",loginLink:"Inicia sesión",changeAccountLink:"Cambiar cuenta"},saveButtonText:"Guardar y continuar",disagreeAndSuscribeButtonText:"Rechazar y suscribirse",disagreeButtonText:"Rechazar",configureButtonText:"Configurar"},ueModal:{header:{mainText:"Has elegido rechazar las cookies de seguimiento basadas en consentimiento que utilizamos principalmente para gestionar la publicidad y las recomendaciones de contenido. En adelante, <strong>para acceder a nuestra web tienes que elegir alguna de las siguientes opciones.</strong>",mainTextRegisterExpired:"Has navegado sin cookies durante 5 días. <strong>Para continuar disfrutando de TELVA, suscríbete:</strong>",loginQuestion:"¿Ya tienes cuenta?",loginLink:"Inicia sesión",changeAccountLink:"Cambiar cuenta"},offers:{consentlessRegister:{title:"Acceso con registro",buttonText:"Regístrate o inicia sesión",buttonTextLogged:"Entrar",infoText:"Navega en TELVA durante 5 días sin cookies.",hintText:"Tras este periodo te volveremos a preguntar"},consentless:{title:"Acceso rechazando cookies",infoText:"Permite navegar por TELVA sin cookies de seguimiento basadas en consentimiento.",buttonText:"Accede por 14,99€ al año",hintText:"<strong>Sin compromiso</strong>, cancela en cualquier momento"}},footer:{infoText:"O si has cambiado de idea, <strong>puedes aceptar las cookies y continuar leyendo TELVA.</strong>",acceptButtton:"Acepta y accede al contenido",legalText:"<strong>Nosotros y nuestros socios hacemos el siguiente tratamiento de datos:</strong> Almacenamiento y acceso a información de geolocalización con propósitos de publicidad dirigida, Almacenamiento y acceso a información de geolocalización para realizar estudios de mercado, Almacenar o acceder a información en un dispositivo, Analizar activamente las características del dispositivo para su identificación, Compartir tus análisis de navegación y grupos de interés con terceros, Crear un perfil para la personalización de contenidos, Crear un perfil publicitario personalizado, Desarrollar y mejorar productos, Enriquecer el perfil con información de terceros, Medir el rendimiento de los anuncios, Medir el rendimiento del contenido, Seleccionar anuncios básicos, Seleccionar anuncios personalizados, Seleccionar contenido personalizado, Utilizar datos de localización geográfica precisa, Utilizar estudios de mercado a fin de generar información sobre el público"},accessibility:{ueModalAriaLabel:"Rechazo de cookies y suscripción",offersAriaLabel:"Opciones de pago",offerOneAriaLabel:"Opción 1",offerTwoAriaLabel:"Opción 2"}}},en:{didomiModal:{header:{loginQuestion:"Have an account?",loginLink:"Login",changeAccountLink:"Change account"},saveButtonText:"Save and continue",disagreeAndSuscribeButtonText:"Reject and subscribe",disagreeButtonText:"Reject",configureButtonText:"Configuration"},ueModal:{header:{mainText:"Has elegido rechazar las cookies de seguimiento basadas en consentimiento que utilizamos principalmente para gestionar la publicidad y las recomendaciones de contenido. En adelante, <strong>para acceder a nuestra web tienes que elegir alguna de las siguientes opciones.</strong>",mainTextRegisterExpired:"Has navegado sin cookies durante 5 días. <strong>Para continuar disfrutando de TELVA, suscríbete:</strong>",loginQuestion:"¿Ya tienes cuenta?",loginLink:"Inicia sesión",changeAccountLink:"Cambiar cuenta"},offers:{consentlessRegister:{title:"Acceso con registro",buttonText:"Regístrate o inicia sesión",buttonTextLogged:"Entrar",infoText:"Navega en TELVA durante 5 días sin cookies.",hintText:"Tras este periodo te volveremos a preguntar"},consentless:{title:"Acceso rechazando cookies",infoText:"Permite navegar por TELVA sin cookies de seguimiento basadas en consentimiento.",buttonText:"Accede por 14,99€ al año",hintText:"<strong>Sin compromiso</strong>, cancela en cualquier momento"}},footer:{infoText:"O si has cambiado de idea, <strong>puedes aceptar las cookies y continuar leyendo TELVA.</strong>",acceptButtton:"Acepta y accede al contenido",legalText:"<strong>Nosotros y nuestros socios hacemos el siguiente tratamiento de datos:</strong> Almacenamiento y acceso a información de geolocalización con propósitos de publicidad dirigida, Almacenamiento y acceso a información de geolocalización para realizar estudios de mercado, Almacenar o acceder a información en un dispositivo, Analizar activamente las características del dispositivo para su identificación, Compartir tus análisis de navegación y grupos de interés con terceros, Crear un perfil para la personalización de contenidos, Crear un perfil publicitario personalizado, Desarrollar y mejorar productos, Enriquecer el perfil con información de terceros, Medir el rendimiento de los anuncios, Medir el rendimiento del contenido, Seleccionar anuncios básicos, Seleccionar anuncios personalizados, Seleccionar contenido personalizado, Utilizar datos de localización geográfica precisa, Utilizar estudios de mercado a fin de generar información sobre el público"},accessibility:{ueModalAriaLabel:"Rechazo de cookies y suscripción",offersAriaLabel:"Opciones de pago",offerOneAriaLabel:"Opción 1",offerTwoAriaLabel:"Opción 2"}}}}}};class p{constructor(o){this.i18n=u[e?.portalId]?.textContent[t.getLang()],this.checksConsentless=o,this.userIsLogged=this.checksConsentless.userIsLogged,this.bodyStyles="\n            <style> \n                .ue-modal-open {\n                      overflow: hidden !important;\n                }\n            </style>",this.popupStyles=' \n            <style>\n                :root{--ue-c-logo-elmundo-ball-fill:#000}@font-face{font-family:Roboto;font-style:normal;font-weight:400;src:url("https://e00.uecdn.es/fonts/roboto-font/Roboto-Regular.woff2") format("woff2"),url("https://e00.uecdn.es/fonts/roboto-font/Roboto-Regular.woff") format("woff");font-display:swap}@font-face{font-family:Rubik Black;font-style:normal;font-weight:900;src:url("https://e00.uecdn.es/fonts/Rubik/Rubik-Black.woff2") format("woff2"),url("https://e00.uecdn.es/fonts/Rubik/Rubik-Black.woff") format("woff");font-display:swap}.popup-disagreed-cookies{display:flex;flex-direction:row;align-items:center;width:100%;height:100%;overflow:auto;position:fixed;top:0;left:0;z-index:999999;background-color:rgba(0,0,0,.6);-webkit-font-smoothing:antialiased}.popup-disagreed-cookies *{box-sizing:border-box}.popup-disagreed-cookies__content{background-color:#fff;display:flex;flex-flow:column;max-height:90dvh;height:auto;width:calc(100% - 32px);max-width:1100px;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.popup-disagreed-cookies .logo{display:none}.popup-disagreed-cookies .logo svg{max-width:215px}.offers{padding:16px;background-color:#fff}.offers p{line-height:20px}.offers__premium,.offers p{font-family:Roboto,sans-serif;font-size:15px}.offers__premium{text-align:right;display:block;width:100%;margin-bottom:16px;line-height:18px}.offers__login{font-weight:700;color:#2e6d9d;text-decoration:none;cursor:pointer}.offers__login:hover{color:#2e6d9d}.offers__list{list-style-type:none;padding:0;margin:16px 0 0;display:flex;flex-flow:column-reverse}.offers__list li{margin-bottom:16px}.offers button{display:block;width:100%;height:38px;padding:.5rem 1rem;background-color:#fff;color:#000;border:1px solid #797676;border-radius:50px;font-weight:700;font-family:Roboto,sans-serif;font-size:16px;line-height:20px}.offer{display:flex;flex-direction:column;list-style:none;width:100%;padding:16px;text-align:center;border:1px solid #cecece}.offer span{text-align:center;font-family:Roboto,sans-serif;color:#797676;font-size:12px;line-height:14px;display:none;margin-top:8px}.offer:first-child{order:2}.offer h3{text-transform:uppercase;margin-top:0;margin-bottom:12px;font-family:Rubik Black,sans-serif;font-weight:900;font-size:16px;line-height:22px}.offer p{margin:0 0 16px;font-family:Roboto,sans-serif;font-size:16px;line-height:18px}.accept-cookies{position:relative;padding:16px;background-color:#f5f5f5;text-align:center;padding-top:42px}.accept-cookies:before{content:"O";width:60px;height:20px;font-size:16px;line-height:16px;font-family:Roboto,sans-serif;display:block;top:16px;background-color:#f5f5f5;z-index:2}.accept-cookies:after,.accept-cookies:before{position:absolute;left:50%;transform:translateX(-50%)}.accept-cookies:after{top:24px;content:"";width:250px;height:2px;background-color:#bcbcbc}.accept-cookies p{font-size:15px;line-height:20px;font-family:Roboto,sans-serif;margin-bottom:16px;margin-top:0}.accept-cookies p:not(.disclaimer){padding:0 .5rem}.accept-cookies button{font-family:Roboto,sans-serif;background-color:#5278c2;color:#fff;width:100%;height:47px;font-weight:700;border:0;border-radius:50px;margin-bottom:16px;font-size:18px;line-height:25px}.accept-cookies .disclaimer{text-align:left;margin-bottom:0;font-family:Roboto,sans-serif;font-weight:300;font-size:12px;line-height:16px}@media (min-width:46.25em){.popup-disagreed-cookies__content{margin:0;max-height:95dvh}.popup-disagreed-cookies .logo{display:block;text-align:center;margin-bottom:20px}.popup-disagreed-cookies .logo svg{width:auto;height:35px}.popup-disagreed-cookies button{cursor:pointer}.offers{text-align:center;padding:24px 32px 0}.offers p{max-width:730px;margin:0 auto 36px;font-size:20px;line-height:30px}.offers__list{display:flex;align-items:baseline;flex-flow:row-reverse;justify-content:center;padding-bottom:24px}.offers__list li{width:320px}.offers__list li+.offer{margin-right:16px}.offers__list:has(li:not(.offer)){align-items:center;flex-flow:column}.offers__premium{margin-bottom:32px;padding-right:0}.offer{padding:24px 32px;margin-bottom:0}.offer p{margin:0 auto 24px;text-align:center;font-size:16px;line-height:18px}.offer:first-child{order:0}.offer:last-child span{max-width:235px;margin:8px auto 0}.offer h3{text-align:center;max-width:245px;font-size:20px;line-height:24px}.offer span{display:inline-block}.accept-cookies{padding:24px 60px 60px;padding-top:72px}.accept-cookies:before{width:60px;height:30px;top:30px;left:50%;font-size:16px;line-height:16px}.accept-cookies:after{width:250px;height:2px;top:41px;left:50%}.accept-cookies p{font-size:20px;line-height:30px;max-width:520px;margin:0 auto 24px}.accept-cookies button{max-width:330px;margin-bottom:32px;font-size:20px;line-height:30px;background-color:#000}.accept-cookies .disclaimer{max-width:980px}}\n            </style>'}getHtml(){return`\n        <div id="${l.id.ueModal}" class="${l.class.ueModalContainerClass}">\n            ${this.bodyStyles}\n            ${this.popupStyles}\n            <div class="popup-disagreed-cookies__content" tabindex="-1" role="dialog" aria-modal="true" aria-label="${this.i18n.ueModal.accessibility.ueModalAriaLabel}" autofocus>\n                <div class="offers">\n                ${this.userIsLogged?`<span class="offers__premium"><a href="javascript:void(0);" action-name="consentlessChangeAccount" class="offers__login"> ${this.i18n.ueModal.header.changeAccountLink}</a></span>`:`<span class="offers__premium"> ${this.i18n.ueModal.header.loginQuestion} <a href="javascript:void(0);" action-name="consentlessLogin" class="offers__login"> ${this.i18n.ueModal.header.loginLink}</a></span>`}\n                    \n                    <div class="logo">\n                        <svg aria-hidden=true class=ue-c-logo--elmundo fill="var(--ue-c-logo-elmundo-fill, #010101)"role=img viewBox="0 0 761.4 97.5"xmlns=http://www.w3.org/2000/svg><path d="M77.8,60.9h4.7l-2,24.6c-0.2,2.8-0.4,6.2-0.4,9.3H0v-4.2l6.6-2.2c2.3-0.7,4-2,4-4.7V13.8c0-2.6-1.7-3.8-4-4.7L0,6.9V2.7 h78.8c0,3.2,0,6.2,0.2,9.2l1.6,18.8h-4.7l-9.6-17.2c-2.5-4.5-5.4-5.6-11.2-5.6H33.3v35.4h12.9c5.4,0,7.5-2.5,9-5.6l5.8-11.4h4.2 v39.2h-4.2L55.1,54c-1.6-3.1-3.6-5.6-9-5.6H33.3v41.3h20.3c6.5,0,10.7-1.7,14.1-8.5L77.8,60.9z"></path><path d="M159.9,60.9h4.7l-2,24.6c-0.2,2.7-0.4,6.2-0.4,9.3H89.9v-4.2l5.4-2.2c2-0.7,2.6-2,2.6-4.2V13.3c0-2-0.7-3.3-2.6-4.2 l-5.4-2.2V2.7h41.3v4.2l-6.6,2.2c-2.3,0.7-4,1.7-4,4.2v76.2h15.2c6.5,0,10.7-1.7,14.1-8.5L159.9,60.9z"></path><path d="M170.3,45.8c0.4-7.2,2.3-13.9,5.4-19.9h40v19.9H170.3z M215.6,51.7v19.9h-40c-3.1-6-5.1-12.7-5.4-19.9H215.6z M179.4,20 c8.3-11.4,21.2-19.4,36.3-20v20H179.4z M215.6,77.5v20c-15-0.7-28-8.5-36.3-20H215.6z M221.6,20V0c15,0.7,28,8.5,36.3,20H221.6z M221.6,45.8V25.9h40c3.1,6,5.1,12.7,5.4,19.9H221.6z M267,51.7c-0.4,7.2-2.3,13.9-5.4,19.9h-40V51.7H267z M257.8,77.5 c-8.3,11.4-21.2,19.4-36.3,20v-20H257.8z"fill="var(--ue-c-logo-elmundo-ball-fill, #00568C)"></path><path d="M386.4,2.7v4.2l-5.6,2c-2.3,0.7-2.9,2.3-2.9,4.4v70.9c0,2,0.7,3.3,2.6,4.2l5.4,2.2v4.2h-38.2v-4.2l5.3-2.2 c2-0.7,2.6-2,2.6-4.2V14.3h-0.2l-29.2,80.5h-4.9l-31.7-78.2h-0.2v57.1c0,8.7,0.9,13.4,9.2,15.4l6,1.4v4.2h-33.3v-4.2l4-1.1 c6.9-2,7.8-6.9,7.8-15.6V13.9c0-2-0.7-3.8-4.2-5.1l-4.4-1.8V2.7h35.5c0.4,3.6,1.4,7.4,2.5,10l19.2,49.5h0.2l16.7-46.3 c1.1-3.3,2.6-9,2.6-13.3L386.4,2.7L386.4,2.7z"></path><path d="M451.4,6.9V2.7h28.3v4.2L476.3,8c-4.2,1.3-5.6,3.8-5.6,13v43.3c0,23.9-16.9,32.1-34.6,32.1c-20.3,0-36.1-7.4-36.1-31.5 V13.3c0-2-0.7-3.3-2.6-4.2l-5.4-2.2V2.7h38.6v4.2l-5.3,2.2c-2,0.7-2.6,2-2.6,4.2v51.5c0,15.8,7.5,22.5,20.7,22.5 c14.5,0,20.9-8.9,20.9-24.3V21c0-9.2-1.3-11.4-6.9-12.7L451.4,6.9z"></path><path d="M540.4,6.9V2.7H574v4.2l-4,1.1c-7.5,2.2-7.8,6.6-7.8,15.2v71.5h-10.7l-51.6-78.9h-0.2v57.9c0,8.7,1.1,12.9,9.4,15l5.8,1.4 v4.7h-33.7v-4.7l4.2-1.1c6.9-2,7.8-6.6,7.8-15.2V13.6c-0.2-2-1.4-4.2-6.5-5.6l-4-1.1V2.7h36.8c0.7,1.6,2.5,4.4,4,6.7l31.9,49.3 V23.4c0-8.7-1.1-13-9.4-15L540.4,6.9z"></path><path d="M612.8,2.7c33.8,0,50,20,50,46.1s-16.3,46.1-50,46.1h-35.7v-4.2l5.4-2.2c2-0.7,2.6-2,2.6-4.2V13.3c0-2-0.7-3.3-2.6-4.2 l-5.4-2.2V2.7H612.8z M607.8,89.8h6c22.2,0,25.7-18.8,25.7-41s-3.5-41-25.7-41h-6V89.8z"></path><path d="M715.8,0.9c22.1,0,45.5,16.1,45.5,47.9c0,31.7-23.4,47.9-45.5,47.9s-45.3-16.1-45.3-47.9S693.8,0.9,715.8,0.9z M715.8,91.4 c15.2,0,21.9-14.5,21.9-42.6S731,6.1,715.8,6.1c-15.1,0-21.8,14.5-21.8,42.6C694.1,76.9,700.8,91.4,715.8,91.4z"></path></svg>\n                    </div>\n                    <p>\n                       ${this.i18n.ueModal.header.mainText}\n                    </p>\n                    <ul class="offers__list" aria-label="${this.i18n.ueModal.accessibility.offersAriaLabel}">\n                        <li class="offer" aria-label="${this.i18n.ueModal.accessibility.offerOneAriaLabel}">\n                            <h3>${this.i18n.ueModal.offers.consentless.title}</h3>\n                            <p>${this.i18n.ueModal.offers.consentless.infoText}</p>\n                            <button action-name="consentlessSubAccess">${this.i18n.ueModal.offers.consentless.buttonText}</button>\n                            <span>${this.i18n.ueModal.offers.consentless.hintText}</span>\n                        </li>\n                        <li>\n                            <button action-name="premiumSubAccess">${this.i18n.ueModal.offers.premium.buttonText}</button>\n                         </li>\n                    </ul>\n                </div>\n                <div class="accept-cookies">\n                    <p>${this.i18n.ueModal.footer.infoText}</p>\n                    <button action-name="agreeAll"> ${this.i18n.ueModal.footer.acceptButtton}</button>\n                    <p class="disclaimer">\n                        ${this.i18n.ueModal.footer.legalText}\n                    </p>\n                </div>\n            </div>\n        </div>\n        `}}class f{constructor(o){this.i18n=u[e?.portalId]?.textContent[t.getLang()],this.userIsLogged=o.userIsLogged,this.isActiveConsentlessRegister=o.isActiveConsentlessRegister,this.bodyStyles="\n            <style> \n                .ue-modal-open {\n                    overflow: hidden !important;\n                }\n            </style>",this.popupStyles='\n            <style>\n               @font-face{font-family:"Barlow Semi Condensed";font-style:normal;font-weight:900;src:url(https://e00.uecdn.es/fonts/Barlow/Barlow-Black.woff2) format("woff2"),url(https://e00.uecdn.es/fonts/Barlow/Barlow-Black.woff) format("woff");font-display:swap}@font-face{font-family:"Barlow";font-style:normal;font-weight:400;src:url(https://e00.uecdn.es/fonts/Barlow/Barlow-Regular.woff2) format("woff2"),url(https://e00.uecdn.es/fonts/Barlow/Barlow-Regular.woff) format("woff");font-display:swap}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;src:url(https://e00.uecdn.es/fonts/roboto-font/Roboto-Regular.woff2) format("woff2"),url(https://e00.uecdn.es/fonts/roboto-font/Roboto-Regular.woff) format("woff");font-display:swap}.popup-disagreed-cookies{display:flex;flex-direction:row;align-items:center;width:100%;height:100%;overflow:auto;position:fixed;top:0;left:0;z-index:999999;background-color:rgba(0,0,0,.6);-webkit-font-smoothing:antialiased}.popup-disagreed-cookies *{box-sizing:border-box}.popup-disagreed-cookies__content{background-color:#fff;display:flex;flex-flow:column;max-height:90dvh;height:auto;width:calc(100% - 32px);max-width:1100px;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.popup-disagreed-cookies .logo{display:none}.popup-disagreed-cookies .logo svg{max-width:215px}.offers{padding:16px 16px 12px;background-color:#fff}.offers p{font-family:"Roboto",sans-serif;font-size:15px;line-height:17px;margin-bottom:12px}.offers__premium{text-align:right;display:block;width:100%;margin-bottom:16px;font-family:"Roboto",sans-serif;font-size:15px;line-height:22px}.offers__login{font-weight:700;color:#0465c8;text-decoration:none;cursor:pointer}.offers__login:hover{color:#0465c8}.offers__list{list-style-type:none;padding:0;margin:12px 0 0;display:flex;flex-flow:column-reverse}.offers__list li{margin-bottom:12px}.offers__list li:last-child{margin-bottom:0}.offers button{display:block;width:100%;height:38px;padding:.5rem 1rem;background-color:#e1eaf3;color:#0465c8;border:1px solid #e1eaf3;border-radius:5px;font-weight:700;font-family:"Roboto",sans-serif;font-size:16px;line-height:20px}.offer{display:flex;flex-direction:column;list-style:none;width:100%;padding:10px;text-align:center;border:1px solid #cecece}.offer span{text-align:center;font-family:"Roboto",sans-serif;color:#797676;font-size:12px;line-height:14px;display:none;margin-top:8px}.offer:first-child{order:2}.offer h3{text-transform:uppercase;margin:0 0 8px 0;font-family:"Barlow Semi Condensed",sans-serif;font-weight:900;font-size:18px;line-height:20px}.offer p{margin:0 0 8px;font-family:"Roboto",sans-serif;font-size:15px;line-height:17px}.accept-cookies{position:relative;padding:12px 16px 16px;background-color:#f5f5f5;text-align:center}.accept-cookies p{font-size:15px;line-height:17px;font-family:"Roboto",sans-serif;margin-bottom:12px;margin-top:0}.accept-cookies p:not(.disclaimer){padding:0}.accept-cookies button{font-family:"Roboto",sans-serif;background-color:#c00;color:#fff;width:100%;height:47px;font-weight:700;border:0;border-radius:5px;margin-bottom:12px;font-size:18px;line-height:20px}.accept-cookies .disclaimer{text-align:left;margin-bottom:0;font-family:"Roboto",sans-serif;font-weight:300;font-size:12px;line-height:16px}@media (min-width:46.25em){.popup-disagreed-cookies__content{margin:0;max-height:95dvh}.popup-disagreed-cookies .logo{display:block;text-align:center;margin-bottom:20px}.popup-disagreed-cookies .logo svg{width:auto;height:35px}.popup-disagreed-cookies button{cursor:pointer}.offers{text-align:center;padding:24px 32px 0}.offers p{max-width:730px;margin:0 auto 36px;font-size:20px;line-height:30px}.offers__list{display:flex;align-items:baseline;flex-flow:row-reverse;justify-content:center;padding-bottom:24px}.offers__list li{width:320px;margin-bottom:16px}.offers__list li+.offer{margin-right:16px}.offers__list:has(li:not(.offer)){align-items:center;flex-flow:column}.offers__premium{margin-bottom:32px;padding-right:0}.offer{padding:24px 32px;margin-bottom:0}.offer p{margin:0 auto 24px;text-align:center;font-size:16px;line-height:18px}.offer:first-child{order:0}.offer:last-child span{max-width:235px;margin:8px auto 0}.offer h3{text-align:center;max-width:245px;margin:0 0 12px 0;font-size:20px;line-height:24px}.offer span{display:inline-block}.accept-cookies{padding:24px 60px 60px}.accept-cookies p{font-size:20px;line-height:30px;max-width:520px;margin:0 auto 24px}.accept-cookies button{max-width:330px;margin-bottom:32px;font-size:18px;line-height:20px;background-color:#c00}.accept-cookies .disclaimer{max-width:980px}}\n            </style>'}getHtml(){return`\n        <div id="${l.id.ueModal}" class="${l.class.ueModalContainerClass}">\n            ${this.bodyStyles}\n            ${this.popupStyles}\n            <div class="popup-disagreed-cookies__content popup-disagreed-cookies__content--no-login" tabindex="-1" role="dialog" aria-modal="true" aria-label="${this.i18n.ueModal.accessibility.ueModalAriaLabel}" autofocus>\n                <div class="offers">\n                    ${this.userIsLogged?`<span class="offers__premium"><a href="javascript:void(0);" action-name="consentlessChangeAccount" class="offers__login"> ${this.i18n.ueModal.header.changeAccountLink}</a></span>`:`<span class="offers__premium"> ${this.i18n.ueModal.header.loginQuestion} <a href="javascript:void(0);" action-name="consentlessLogin" class="offers__login"> ${this.i18n.ueModal.header.loginLink}</a></span>`}\n                    <div class="logo">\n                        <svg class="logo-marca" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 173 50" fill="#c00" role="img" aria-hidden="true">\n                            <path d="M27.9 1.4h15v10.3h-2.6v26.6h2.6v10.4h-16V38.3h2.5V21.7L22 42l-7.3-20.3v16.6h2.6v10.4H1.1V38.3h2.6V11.7H1V1.4h15.6l5.6 16"></path>\n                            <g class="arca">\n                                <path d="M75.1 38.3l-5.9-37H52.3l-5.9 37h-1.9v10.3h14.7V38.3h-1.9l.1-3.9h6.8v3.9h-2v10.3H77V38.3h-1.9zM58.4 28.2l2.3-14.6 2.4 14.6h-4.7z"></path>\n                                <path d="M107.7 38.3v-9.2l-4-4 4-4V6.4l-4.9-5H78.7v10.2h2.5v26.6h-2.5v10.4h16V38.3h-1.8v-8.5h3.4v18.9h14.1V38.3h-2.7zM96.2 22.4h-3.5V11.6h3.5v10.8z"></path>\n                                <path d="M132.9 1.4l5 5V21h-11.5v-9.2l-3.4-.1v26.6h3.4v-9.2h11.5v14.5l-5 5.1h-16.3l-4.8-5.1V6.4l4.8-5"></path>\n                                <path d="M170.1 38.3l-5.9-37h-16.8l-5.9 37h-1.8v10.3h14.6V38.3h-1.9l.1-3.9h6.8v3.9h-1.9v10.3H172V38.3h-1.9zm-16.7-10.1l2.3-14.6 2.4 14.6h-4.7z"></path>\n                            </g>\n                        </svg>\n                    </div>\n                    <p>\n                       ${this.isActiveConsentlessRegister?this.i18n.ueModal.header.mainTextRegisterExpired:this.i18n.ueModal.header.mainText}\n                    </p>\n                    <ul class="offers__list" aria-label="${this.i18n.ueModal.accessibility.offersAriaLabel}">\n                        <li class="offer" aria-label="${this.i18n.ueModal.accessibility.offerOneAriaLabel}">\n                            <h3>${this.i18n.ueModal.offers.consentless.title}</h3>\n                            <p>${this.i18n.ueModal.offers.consentless.infoText}</p>\n                            <button action-name="consentlessSubAccess">${this.i18n.ueModal.offers.consentless.buttonText}</button>\n                            <span>${this.i18n.ueModal.offers.consentless.hintText}</span>\n                        </li>\n                          ${this.getRegisterOffer()}\n                    </ul>\n                </div>\n                <div class="accept-cookies">\n                    <p>${this.i18n.ueModal.footer.infoText}</p>\n                    <button action-name="agreeAll"> ${this.i18n.ueModal.footer.acceptButtton}</button>\n                    <p class="disclaimer">\n                        ${this.i18n.ueModal.footer.legalText}\n                    </p>\n                </div>\n            </div>\n        </div>\n        `}getRegisterOffer(){return this.isActiveConsentlessRegister?"":this.getRegisterOfferHtml()}getRegisterOfferHtml(){let e=this.userIsLogged?this.i18n.ueModal.offers.consentlessRegister.buttonTextLogged:this.i18n.ueModal.offers.consentlessRegister.buttonText,o=this.userIsLogged?this.i18n.ueModal.offers.consentlessRegister.infoTextLogged:this.i18n.ueModal.offers.consentlessRegister.infoText;return`\n                <li class="offer" aria-label="${this.i18n.ueModal.accessibility.offerTwoAriaLabel}">\n                    <h3>${this.i18n.ueModal.offers.consentlessRegister.title}</h3>\n                    <p>${o}</p>\n                    <button action-name="registerConsentless" class="bind-action">${e}</button>\n                    <span>${this.i18n.ueModal.offers.consentlessRegister.hintText}</span>\n                </li>         \n        `}}class g{constructor(o){this.i18n=u[e?.portalId]?.textContent[t.getLang()],this.checksConsentless=o,this.userIsLogged=this.checksConsentless.userIsLogged,this.bodyStyles="\n            <style> \n                .ue-modal-open {\n                      overflow: hidden !important;\n                }\n            </style>",this.popupStyles=' \n          <style>\n            @font-face{font-family:"Heebo";font-style:normal;font-weight:500;src:url(https://e00.uecdn.es/fonts/heebo/heebo-medium-webfont.woff2) format("woff2"),url(https://e00.uecdn.es/fonts/heebo/heebo-medium-webfont.woff) format("woff");font-display:swap}@font-face{font-family:"Heebo";font-style:normal;font-weight:700;src:url(https://e00.uecdn.es/fonts/heebo/heebo-bold-webfont.woff2) format("woff2"),url(https://e00.uecdn.es/fonts/heebo/heebo-bold-webfont.woff) format("woff");font-display:swap}@font-face{font-family:"Heebo";font-style:normal;font-weight:400;src:url(https://e00.uecdn.es/fonts/heebo/heebo-regular-webfont.woff2) format("woff2"),url(https://e00.uecdn.es/fonts/heebo/heebo-regular-webfont.woff) format("woff");font-display:swap}@font-face{font-family:"Heebo";font-style:normal;font-weight:300;src:url(https://e00.uecdn.es/fonts/heebo/heebo-light-webfont.woff2) format("woff2"),url(https://e00.uecdn.es/fonts/heebo/heebo-light-webfont.woff) format("woff");font-display:swap}@font-face{font-family:"Butler";font-style:normal;font-weight:500;src:url(https://e00.uecdn.es/fonts/butler/Butler-Medium.woff2) format("woff2"),url(https://e00.uecdn.es/fonts/butler/Butler-Medium.woff) format("woff");font-display:swap}@font-face{font-family:"Butler";font-style:normal;font-weight:400;src:url(https://e00.uecdn.es/fonts/butler/Butler-Regular.woff2) format("woff2"),url(https://e00.uecdn.es/fonts/butler/Butler-Regular.woff) format("woff");font-display:swap}.popup-disagreed-cookies{display:flex;flex-direction:row;align-items:center;width:100%;height:100%;overflow:auto;position:fixed;top:0;left:0;z-index:999999;background-color:rgba(0,0,0,.6);-webkit-font-smoothing:antialiased}.popup-disagreed-cookies *{box-sizing:border-box}.popup-disagreed-cookies__content{background-color:#fff;display:flex;flex-flow:column;max-height:90dvh;height:auto;width:calc(100% - 32px);max-width:1100px;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.popup-disagreed-cookies .logo{display:none}.popup-disagreed-cookies .logo svg{max-width:215px}.offers{padding:16px;background-color:#fff}.offers p{font-family:"Heebo",sans-serif;font-size:15px;line-height:16px}.offers__premium{text-align:right;display:block;width:100%;margin-bottom:16px;font-family:"Heebo",sans-serif;font-size:15px;line-height:22px}.offers__login{font-weight:700;color:#315b97;text-decoration:none;cursor:pointer}.offers__login:hover{color:#315b97}.offers__list{list-style-type:none;padding:0;margin:16px 0 0;display:flex;flex-flow:column-reverse}.offers__list li{margin-bottom:16px}.offers__list li:last-child{margin-bottom:0}.offers button{display:block;width:100%;height:38px;padding:.5rem 1rem;background-color:#fff;color:#315b97;border:1px solid #315b97;border-radius:5px;font-weight:700;font-family:"Heebo",sans-serif;font-size:16px;line-height:20px}.offer{display:flex;flex-direction:column;list-style:none;width:100%;padding:16px;text-align:center;border:1px solid #cecece}.offer span{text-align:center;font-family:"Heebo",sans-serif;color:#797676;font-size:12px;line-height:14px;display:none;margin-top:8px}.offer:first-child{order:2}.offer h3{text-transform:inherit;margin:0 0 12px 0;font-family:"Butler",serif;font-weight:900;font-size:21px;line-height:16px}.offer p{margin:0 0 12px;font-family:"Heebo",sans-serif;font-size:16px;line-height:16px}.accept-cookies{position:relative;padding:16px;background-color:#f5f5f5;text-align:center}.accept-cookies p{font-size:15px;line-height:16px;font-family:"Heebo",sans-serif;margin-bottom:16px;margin-top:0}.accept-cookies p:not(.disclaimer){padding:0}.accept-cookies button{font-family:"Heebo",sans-serif;background-color:#315b97;color:#fff;width:100%;height:47px;font-weight:700;border:0;border-radius:5px;margin-bottom:16px;font-size:18px;line-height:20px}.accept-cookies .disclaimer{text-align:left;margin-bottom:0;font-family:"Heebo",sans-serif;font-weight:300;font-size:12px;line-height:16px}@media (min-width:46.25em){.popup-disagreed-cookies__content{margin:0;max-height:95dvh}.popup-disagreed-cookies .logo{display:block;text-align:center;margin-bottom:20px}.popup-disagreed-cookies .logo svg{width:auto;height:35px}.popup-disagreed-cookies button{cursor:pointer}.offers{text-align:center;padding:24px 32px 0}.offers p{max-width:730px;margin:0 auto 36px;font-size:18px;line-height:24px}.offers__list{display:flex;align-items:baseline;flex-flow:row-reverse;justify-content:center;padding-bottom:24px}.offers__list li{width:320px}.offers__list li+.offer{margin-right:16px}.offers__list:has(li:not(.offer)){align-items:center;flex-flow:column}.offers__premium{margin-bottom:32px;padding-right:0}.offer{padding:24px 32px;margin-bottom:0}.offer p{margin:0 auto 24px;text-align:center;font-size:16px;line-height:18px}.offer:first-child{order:0}.offer:last-child span{max-width:235px;margin:8px auto 0}.offer h3{text-align:center;max-width:245px;margin:0 0 12px 0;font-size:21px;line-height:24px}.offer span{display:inline-block}.accept-cookies{padding:24px 60px 60px}.accept-cookies p{font-size:20px;line-height:30px;max-width:520px;margin:0 auto 24px}.accept-cookies button{max-width:330px;margin-bottom:32px;font-size:18px;line-height:20px;background-color:#315b97}.accept-cookies .disclaimer{max-width:980px}}\n          </style>'}getHtml(){return`\n        <div id="${l.id.ueModal}" class="${l.class.ueModalContainerClass}">\n            ${this.bodyStyles}\n            ${this.popupStyles}\n            <div class="popup-disagreed-cookies__content" tabindex="-1" role="dialog" aria-modal="true" aria-label="${this.i18n.ueModal.accessibility.ueModalAriaLabel}" autofocus>\n                <div class="offers">\n                    ${this.userIsLogged?`<span class="offers__premium"><a href="javascript:void(0);" action-name="consentlessChangeAccount" class="offers__login"> ${this.i18n.ueModal.header.changeAccountLink}</a></span>`:`<span class="offers__premium"> ${this.i18n.ueModal.header.loginQuestion} <a href="javascript:void(0);" action-name="consentlessLogin" class="offers__login"> ${this.i18n.ueModal.header.loginLink}</a></span>`}\n                    <div class="logo">\n                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 87 20"><defs><path id="a" d="M0 .12h12.698v14.239H0z"></path><path id="c" d="M.114.011h10.953v9.736H.114z"></path><path id="e" d="M0 18.589h86.957V.132H0z"></path></defs><g fill="none" fill-rule="evenodd" transform="translate(0 .87)"><g transform="translate(0 .012)"><mask id="b" fill="#fff"><use xlink:href="#a"></use></mask><path fill="#0E0E0E" d="M11.805.12H0v.385l1.785.528v12.393L0 13.973v.386h12.272l.426-4.625-.426-.081-1.805 2.333c-.73.933-1.481 1.4-2.719 1.48l-2.738.142V7.706h.75c1.279 0 1.765.446 2.293 1.825l.263.69h.467V4.237h-.467l-.263.73c-.507 1.38-1.035 1.826-2.292 1.826h-.75V.87l2.028.081c1.561.06 2.13.467 2.92 1.603l1.745 2.454.426-.101L11.805.12z" mask="url(#b)"></path></g><path fill="#0E0E0E" d="m18.276 8.388-1.603-2.759.913-.406v-.284h-5.03v.284l.993.406 3.043 4.523-2.819 3.347-1.095.568v.284h3.427v-.284l-.851-.467 1.845-2.718 1.684 2.739-.994.446v.284h5.091v-.284l-.994-.446-3.144-4.524 2.718-3.306 1.177-.568v-.284h-3.469v.284l.791.487zm34.847-.893c0-1.48-.69-2.86-2.556-2.86-1.115 0-2.332.568-3.549 1.724l-.081-.04v-1.38h-3.672v.284l1.177.568v7.769l-1.095.487v.284h4.644v-.284l-.892-.507V6.704c.71-.284 1.156-.385 1.886-.385 1.177 0 1.481.851 1.481 2.008v5.253l-.893.507v.284h4.646v-.284l-1.096-.507V7.495zm8.661 3.915c0-1.806-1.46-2.455-2.799-2.982-1.176-.487-2.312-.892-2.312-1.947 0-.63.446-1.258 1.257-1.258.994 0 1.542.649 2.78 2.333l.405-.081-.06-2.576c-.589-.203-1.786-.366-2.597-.366-2.252 0-3.854 1.339-3.854 2.982 0 1.826 1.46 2.475 2.8 3.023 1.175.486 2.291.892 2.291 1.927 0 .831-.507 1.42-1.318 1.42-1.075 0-1.846-.69-3.367-2.74l-.406.042.06 2.84c.954.364 2.01.567 3.266.567 1.988-.02 3.854-1.237 3.854-3.184m11.704-1.887c0 2.597-.649 4.361-2.13 4.361-1.5 0-2.13-1.764-2.13-4.361 0-2.596.65-4.36 2.13-4.36 1.502 0 2.13 1.764 2.13 4.36m2.86 0c0-2.657-1.52-5.03-4.848-5.03-3.326 0-5.11 2.535-5.11 5.03 0 2.678 1.52 5.051 4.847 5.051 3.347 0 5.11-2.556 5.11-5.051m-45.414.386c0 2.92-.974 3.996-2.029 3.996-.912 0-1.46-.365-1.947-1.136V6.278a6.188 6.188 0 0 1 1.42-.183c1.643-.02 2.556 1.156 2.556 3.814zm-6.633 7.89-1.095.507v.264h5.05v-.264l-1.298-.507v-3.347c.426.082.872.122 1.278.122 3.51 0 5.538-2.515 5.538-5.314 0-2.86-1.664-4.747-3.672-4.747-1.217 0-2.454.71-3.225 1.44l-.081-.04v-.974h-3.692v.284l1.177.568.02 12.008z"></path><path fill="#0E0E0E" d="M62.88 5.791v7.769l-1.156.507v.284h4.908v-.284l-1.095-.507V4.939h-3.854v.284z"></path><g transform="translate(75.89 4.624)"><mask id="d" fill="#fff"><use xlink:href="#c"></use></mask><path fill="#0E0E0E" d="M9.972 2.871c0-1.48-.69-2.86-2.555-2.86-1.116 0-2.333.568-3.55 1.724l-.081-.04V.315H.114V.6l1.177.567v7.77l-1.096.506v.284H4.84v-.284l-.893-.507V2.08c.71-.284 1.157-.385 1.887-.385 1.176 0 1.48.852 1.48 2.008v5.253l-1.033.507v.284h4.786v-.284l-1.095-.507V2.871z" mask="url(#d)"></path></g><path fill="#0E0E0E" d="M62.434 1.795c0-.913.73-1.643 1.642-1.643.913 0 1.643.73 1.643 1.643s-.73 1.643-1.643 1.643c-.892 0-1.642-.73-1.642-1.643M71.318.132h2.941l-2.17 3.286h-1.664zm-32.17 12.88c-.487.264-.832.386-1.238.386-.75 0-1.297-.548-1.297-1.461 0-1.136.649-1.765 2.555-1.886v2.961h-.02zm1.075 1.339h2.698v-.284l-1.096-.507V7.454c0-1.866-1.095-2.84-2.94-2.84-1.948 0-4.707.934-4.707 2.678 0 .73.507 1.38 1.36 1.38.77 0 1.298-.65 1.298-1.319 0-.527-.284-1.156-.873-1.623.365-.06.73-.081 1.014-.081 1.724 0 2.19.832 2.19 2.008v1.907c-3.184.02-5.333 1.034-5.333 2.941 0 1.278.953 2.17 2.515 2.17 1.156 0 2.069-.547 2.819-1.298l.101.04c0 .528.406.934.954.934z"></path><mask id="f" fill="#fff"><use xlink:href="#e"></use></mask><path fill="#005AA0" d="M0 18.589h22.53V17.9l1.118-.541.043-1.8H0zm27.525-3.03-.005 1.8 1.07.541v.689h58.366v-3.03z" mask="url(#f)"></path></g></svg>\n                     </div>\n                    <p>\n                       ${this.i18n.ueModal.header.mainText}\n                    </p>\n                    <ul class="offers__list" aria-label="${this.i18n.ueModal.accessibility.offersAriaLabel}">\n                        <li class="offer" aria-label="${this.i18n.ueModal.accessibility.offerOneAriaLabel}">\n                            <h3>${this.i18n.ueModal.offers.consentless.title}</h3>\n                            <p>${this.i18n.ueModal.offers.consentless.infoText}</p>\n                            <button action-name="consentlessSubAccess">${this.i18n.ueModal.offers.consentless.buttonText}</button>\n                            <span>${this.i18n.ueModal.offers.consentless.hintText}</span>\n                        </li>\n                         <li>\n                            <button action-name="premiumSubAccess">${this.i18n.ueModal.offers.premium.buttonText}</button>\n                         </li>\n                    </ul>\n                </div>\n                <div class="accept-cookies">\n                    <p>${this.i18n.ueModal.footer.infoText}</p>\n                    <button action-name="agreeAll"> ${this.i18n.ueModal.footer.acceptButtton}</button>\n                    <p class="disclaimer">\n                        ${this.i18n.ueModal.footer.legalText}\n                    </p>\n                </div>\n            </div>\n        </div>\n        `}}class h{constructor(o){this.i18n=u[e?.portalId]?.textContent[t.getLang()],this.userIsLogged=o.userIsLogged,this.isActiveConsentlessRegister=o.isActiveConsentlessRegister,this.bodyStyles="<style> \n            .ue-modal-open {\n                  overflow: hidden !important;\n            }\n        </style>",this.popupStyles='\n            <style>\n               @font-face{font-family:"Cormorant Garamond";font-style:normal;font-weight:400;src:url(https://e00.uecdn.es/fonts/CormorantGaramond/CormorantGaramond-Regular.woff2) format("woff2"),url(https://e00.uecdn.es/fonts/CormorantGaramond/CormorantGaramond-Regular.woff) format("woff");font-display:swap}@font-face{font-family:"Raleway";font-style:normal;font-weight:400;src:url(https://e00.uecdn.es/fonts/raleway/Raleway-Regular.woff2) format("woff2"),url(https://e00.uecdn.es/fonts/raleway/Raleway-Regular.woff) format("woff");font-display:swap}@font-face{font-family:"judson";font-style:normal;font-weight:400;src:url(https://e00.uecdn.es/fonts/judson/judson-regular.woff2) format("woff2"),url(https://e00.uecdn.es/fonts/judson/judson-regular.woff) format("woff");font-display:swap}@font-face{font-family:"opensans";font-style:normal;font-weight:400;src:url(https://e00.uecdn.es/fonts/open_sans/OpenSans-Regular.woff2) format("woff2"),url(https://e00.uecdn.es/fonts/open_sans/OpenSans-Regular.woff) format("woff");font-display:swap}.popup-disagreed-cookies{display:flex;flex-direction:row;align-items:center;width:100%;height:100%;overflow:auto;position:fixed;top:0;left:0;z-index:999999;background-color:rgba(0,0,0,.6);-webkit-font-smoothing:antialiased}.popup-disagreed-cookies *{box-sizing:border-box}.popup-disagreed-cookies__content{background-color:#fff;display:flex;flex-flow:column;max-height:90dvh;height:auto;width:calc(100% - 32px);max-width:1100px;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.popup-disagreed-cookies .logo{display:none}.popup-disagreed-cookies .logo svg{max-width:215px}.offers{padding:12px;background-color:#fff}.offers p{font-family:"Cormorant Garamond",serif;font-size:16px;line-height:18px;margin-bottom:12px}.offers__premium{text-align:right;display:block;width:100%;margin-bottom:16px;font-family:"opensans",sans-serif;font-size:15px;line-height:18px}.offers__login{font-weight:700;color:#a40057;text-decoration:none;cursor:pointer}.offers__login:hover{color:#830046}.offers__list{list-style-type:none;padding:0;margin:12px 0 0;display:flex;flex-flow:column-reverse}.offers__list li{margin-bottom:12px}.offers__list li:last-child{margin-bottom:0}.offers button{display:block;width:100%;height:38px;padding:.5rem 1rem;background-color:#fff;color:#000;border:1px solid #000;border-radius:0;font-weight:700;font-family:"opensans",sans-serif;font-size:16px;line-height:20px}.offer{display:flex;flex-direction:column;list-style:none;width:100%;padding:10px;text-align:left;border:1px solid #cecece}.offer span{text-align:center;font-family:"Raleway",sans-serif;color:#797676;font-size:12px;line-height:14px;display:none;margin-top:8px}.offer:first-child{order:2}.offer h3{text-transform:uppercase;margin:0 0 4px 0;font-family:"judson",Georgia,"Times New Roman",Times,serif;font-weight:900;font-size:18px;line-height:22px}.offer p{margin:0 0 4px;font-family:"Raleway",sans-serif;font-size:15px;line-height:17px}.accept-cookies{position:relative;padding:12px;background-color:#f5f5f5;text-align:center}.accept-cookies p{font-size:16px;line-height:18px;font-family:"Cormorant Garamond",serif;margin-bottom:12px;margin-top:0}.accept-cookies p:not(.disclaimer){padding:0}.accept-cookies button{font-family:"opensans",sans-serif;background-color:#000;color:#fff;width:100%;height:47px;font-weight:700;border:0;border-radius:0;margin-bottom:12px;font-size:18px;line-height:20px}.accept-cookies .disclaimer{text-align:left;margin-bottom:0;font-family:"opensans",sans-serif;font-weight:300;font-size:12px;line-height:16px}@media (min-width:46.25em){.popup-disagreed-cookies__content{margin:0;max-height:95dvh}.popup-disagreed-cookies .logo{display:block;text-align:center;margin-bottom:20px}.popup-disagreed-cookies .logo svg{width:auto;height:35px}.popup-disagreed-cookies button{cursor:pointer}.offers{text-align:center;padding:24px 32px 0}.offers p{max-width:730px;margin:0 auto 36px;font-size:22px;line-height:30px}.offers__list{display:flex;align-items:baseline;flex-flow:row-reverse;justify-content:center;padding-bottom:24px}.offers__list li{width:320px;margin-bottom:16px}.offers__list li+.offer{margin-right:16px}.offers__list:has(li:not(.offer)){align-items:center;flex-flow:column}.offers__premium{margin-bottom:32px;padding-right:0}.offer{padding:24px 32px;margin-bottom:0}.offer p{margin:0 auto 24px;text-align:center;font-size:16px;line-height:18px}.offer:first-child{order:0}.offer:last-child span{max-width:235px;margin:8px auto 0}.offer h3{text-align:center;max-width:245px;margin:0 0 12px 0;font-size:20px;line-height:24px}.offer span{display:inline-block}.accept-cookies{padding:24px 60px 60px}.accept-cookies p{font-size:22px;line-height:30px;max-width:520px;margin:0 auto 24px}.accept-cookies button{max-width:330px;margin-bottom:32px;font-size:18px;line-height:20px;background-color:#000}.accept-cookies .disclaimer{max-width:980px}}\n            </style>'}getHtml(){return`\n        <div id="${l.id.ueModal}" class="${l.class.ueModalContainerClass}">\n            ${this.bodyStyles}\n            ${this.popupStyles}\n            <div class="popup-disagreed-cookies__content" tabindex="-1" role="dialog" aria-modal="true" aria-label="${this.i18n.ueModal.accessibility.ueModalAriaLabel}" autofocus>\n                <div class="offers">\n                    ${this.userIsLogged?`<span class="offers__premium"><a href="javascript:void(0);" action-name="consentlessChangeAccount" class="offers__login"> ${this.i18n.ueModal.header.changeAccountLink}</a></span>`:`<span class="offers__premium"> ${this.i18n.ueModal.header.loginQuestion} <a href="javascript:void(0);" action-name="consentlessLogin" class="offers__login"> ${this.i18n.ueModal.header.loginLink}</a></span>`}\n                    <div class="logo">\n                        <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 283.464 85.04"><g fill="#010001" fill-rule="evenodd" clip-rule="evenodd"><path d="m192.826 76.338-13.894-55.546c-.75-1.854-1.166-2.992-2.518-4.467-1.563-1.703-2.602-2.687-4.746-3.545-.429-.002-.866-.262-.854-.688.018-.612.566-1.495 1.074-1.149h24.141c-.354.045.604.271.674.622.065.331-.364.567-.698.512-1.443-.024-2.329-.008-3.712.296-1.186.262-1.909.586-2.748 1.463-1.067 1.112-1.398 2.325-1.02 3.819l11.846 46.238 12.193-43.816c.544-1.746.497-3.1-.443-4.667-.791-1.315-1.685-1.841-3.107-2.417-.581-.234-.942-.344-1.568-.354-.558-.011-1.05-.216-1.168-.743-.11-.492.373-.922.877-.952h17.221c-.257-.391.53.562.635 1.018.097.424-.437.784-.865.707-2.345.128-3.451.366-5.709 1.9-1.904 1.294-2.833 2.351-4.014 4.327-.558.936-.708 1.554-1.095 2.572l-11.859 43.494c-.316 1.081-.534 1.84-.116 2.886.504 1.256 1.537 2.192 3.302 2.551l-.005.263c-2.8.3-4.354.964-6.862 2.242-2.017 1.027-3.023 1.894-4.654 3.463l-.308-.029zM246.377 41.641l-5.714-19.499-5.413 19.533 11.127-.034zm.321 1.498-11.841-.046-5.728 20.667c-.401 1.842-.438 3.104.524 4.658.809 1.305 2.711 2.425 4.723 2.689.554.074 1.058.197 1.183.723.1.42-.307.768-.734.83l-18.077-.041c-.351.034-.65-.304-.622-.656.033-.434.446-.564.854-.721 2.337-.214 3.443-.427 5.674-2.001 1.88-1.327 2.938-2.323 3.937-4.396.474-.982.845-1.521 1.05-2.592l11.855-40.481c.067-.953.502-1.849.065-2.888-.524-1.245-.541-2.214-2.313-2.542v-.263c4.531-.645 8.381-2.678 11.132-5.952l.309.022 14.057 52.306c.622 1.901 1.395 3.22 2.597 4.424 1.943 1.942 3.35 2.898 5.962 3.756.421-.077.79 1.094.865.674.119-.665-.407 1.33-1.082 1.351H245.95c-.399.097-.896-.266-.813-.667a.653.653 0 0 1 .689-.525c1.442 0 2.346.037 3.706-.36.908-.265 1.911-.606 2.723-1.509 1.288-1.431 1.395-2.072.951-3.838l-6.508-22.622zM52.901 10.929c1.13-.152 1.764-.478 2.694-1.139.754-.536 1.101-.968 1.616-1.735 1.293 3.046 1.975 4.784 3.275 7.827 1.229 2.871 1.656 4.6 2.9 7.465-.083.402.008.771-.333 1-.349.233-1.149-.007-1-.399-2.056-3.749-3.585-5.96-7.165-8.299-2.118-1.384-3.483-2.13-5.897-2.7-1.833-.434-2.467-.434-4.066.2-2.634 1.043-2.682 4.242-2.682 4.242l.007 47.796c0 1.394.296 2.156 1.038 3.27 1.083 1.626 2.278 2.551 4.227 2.689-.701-.278 1.17.156 1.921.23.527.052.815.211 1.345.192.461.038.846.152.846.499 0 .34-.315.614-.653.576H23.648a.594.594 0 0 1-.654-.576c0-.347.384-.461.846-.499.529.032 1.874-.226 1.345-.192-.753.048 1.228.067 1.92-.23 1.93-.312 3.144-1.063 4.228-2.689.742-1.113 1.104-2.139 1.144-3.477l-.052-47.589s-.05-3.199-2.684-4.242c-1.599-.634-2.232-.634-4.064-.2-2.415.57-3.765 1.339-5.898 2.7-3.605 2.299-5.121 4.543-7.165 8.299.231.351-.605.255-1 .399-.386.142-.175-.621-.334-1 1.243-2.866 1.672-4.594 2.9-7.465 1.302-3.043 1.981-4.781 3.274-7.827.517.768.863 1.199 1.616 1.735.93.661 1.589 1.139 2.695 1.139h31.136zM66.433 72.25c-.135-.197.718-.295.49-.369.693.048 2.469-.189 1.778-.122-.748.073 1.194-.051 1.9-.306 1.723-.559 2.81-1.011 3.983-2.391 1.31-1.541 1.93-3.192 1.93-4.813l-.051-46.553c0-1.631-.649-2.34-1.654-3.433-.835-.909-1.406-1.442-2.574-1.84-.474-.101-.748-.799-.429-1.165.224-.258.458-.314.796-.366h29.421c1.284 0 2.204-.53 3.555-1.043 1.55-.589 2.261-1.294 3.555-2.329 1.114 2.641 1.904 4.06 3.065 6.681 1.457 3.287 2.352 5.107 3.8 8.397-.154.346.02.729-.306.92-.361.211-1.135-.042-.981-.43-1.407-1.948-2.306-3.002-4.106-4.597-2.927-2.593-4.869-4.059-8.642-5.088-2.697-.734-4.353-1.103-7.661-1.103-2.047 0-3.4.571-4.842 2.021-1.501 1.511-2.269 2.931-2.269 4.967v14.097h10.297c1.823 0 2.924-.881 4.23-2.206 1.122-1.139 1.63-1.98 2.145-3.493.427-1.256.463-2.047.429-3.372-.162-.41.314-.985.736-.858.355.107.674.388.674.675v20.65c0 .669-.461.793-.92.742-.363-.04-.437-.437-.49-.797l-.244-3.188c-.499-2.127-1.052-3.558-2.821-4.841-1.517-1.103-2.66-1.597-4.535-1.595h-9.5v28.442c0 2.216.833 3.395 2.391 4.78 1.97 1.753 3.644 2.192 6.252 2.574 3.29.481 5.249-.401 8.397-1.471 3.917-1.33 6.208-2.682 8.826-5.884 1.495-1.829 2.347-2.943 3.187-5.149-.039-.443.479-.617.92-.675.405-.053.269.585.367.981l-8.335 18.817c-.988-1.694-1.866-2.56-3.555-3.554-1.724-1.016-2.965-1.262-4.965-1.288H66.861c-.231.049-.295-.231-.428-.425zM166.875 76.619c2.216-4.142 3.298-6.572 5.14-10.895 1.244-2.926 2.129-4.504 3.186-7.503.41-.719.486-1.672-.103-1.542-.651.144-1.539.266-1.439.926-1.72 3.361-3.051 5.183-5.858 7.708-2.514 2.263-4.129 3.661-7.398 4.522-3.059.806-4.428 1.326-7.195 1.131-2.012-.143-3.229-.624-4.831-1.851-1.377-1.055-2.466-1.965-2.466-3.7V19.472c0-1.684-.135-2.732.616-4.214.669-1.318 1.529-1.863 2.877-2.467.517-.23.869-.169 1.423-.282.559-.114.979.053 1.433-.294.257-.195.571-.104.587-.586.015-.447-.553-.651-.945-.651 0 0-15.688-.036-23.509-.036-.38-.237-.852.274-.896.721-.031.312.25.508.554.586.868-.138 1.376.054 2.248.163 1.272.159 2.017.487 3.031 1.271 1.376 1.063 2.085 2.254 2.085 3.943l-.009 46.55c0 1.807-.135 3.052-1.327 4.381-.886.985-1.61 1.404-2.868 1.823-.663.222-.997.535-1.693.587-.486.036-.783-.036-1.239.131-.358.13-.52.405-.586.781-.087.496.527.83 1.029.782l26.554.015c2.129-.343 3.377.023 5.525.213 1.134.1 1.773.227 2.869.531.813.226 1.346.348 1.951.936.721.703 1.012 1.282 1.254 2.263z"/></g></svg>\n                    </div>\n                    <p>\n                       ${this.isActiveConsentlessRegister?this.i18n.ueModal.header.mainTextRegisterExpired:this.i18n.ueModal.header.mainText}\n                    </p>\n                    <ul class="offers__list" aria-label="${this.i18n.ueModal.accessibility.offersAriaLabel}">\n                        ${this.getRegisterOffer()}\n                        <li class="offer" aria-label="${this.isActiveConsentlessRegister?this.i18n.ueModal.accessibility.offerOneAriaLabel:this.i18n.ueModal.accessibility.offerTwoAriaLabel}">\n                            <h3>${this.i18n.ueModal.offers.consentless.title}</h3>\n                            <p>${this.i18n.ueModal.offers.consentless.infoText}</p>\n                            <button action-name="consentlessSubAccess">${this.i18n.ueModal.offers.consentless.buttonText}</button>\n                            <span>${this.i18n.ueModal.offers.consentless.hintText}</span>\n                        </li>\n                    </ul>\n                </div>\n                <div class="accept-cookies">\n                    <p>${this.i18n.ueModal.footer.infoText}</p>\n                    <button action-name="agreeAll"> ${this.i18n.ueModal.footer.acceptButtton}</button>\n                    <p class="disclaimer">\n                        ${this.i18n.ueModal.footer.legalText}\n                    </p>\n                </div>\n            </div>\n        </div>\n        `}getRegisterOffer(){return this.isActiveConsentlessRegister?"":this.getRegisterOfferHtml()}getRegisterOfferHtml(){let e=this.userIsLogged?this.i18n.ueModal.offers.consentlessRegister.buttonTextLogged:this.i18n.ueModal.offers.consentlessRegister.buttonText;return`\n                <li class="offer" aria-label="${this.i18n.ueModal.accessibility.offerOneAriaLabel}">\n                    <h3>${this.i18n.ueModal.offers.consentlessRegister.title}</h3>\n                    <p>${this.i18n.ueModal.offers.consentlessRegister.infoText}</p>\n                    <button action-name="registerConsentless" class="bind-action">${e}</button>\n                    <span>${this.i18n.ueModal.offers.consentlessRegister.hintText}</span>\n                </li>         \n        `}}class m{constructor(){return m.instancia||(this.queueFunctions=[],this.client_subscription_package=e?.analitycs?.clientSubscriptionPackage,m.instancia=this),m.instancia}setBeAccessNoConsent(e=0){window?.ueDataLayer&&(window.ueDataLayer.be_access_no_consent=e)}sendAnalyticsParams(e,o,t){"imp"===e&&this.handleExecuteAnalyticsFunction("envioImpConsentimientos",[o,this.client_subscription_package]),"click"===e&&this.handleExecuteAnalyticsFunction("envioClickConsentimientos",[o,t,this.client_subscription_package])}handleExecuteAnalyticsFunction(e,o){window[e]?window[e].apply(window,o):(this.queueFunctions.push({nameFunc:e,params:o}),this.handleUtagLibraryReady())}handleUtagLibraryReady(){window.addEventListener("ueExtensionesCargadas",this.executeQueueFunctions.bind(this))}executeQueueFunctions(){this.queueFunctions.forEach((({nameFunc:e,params:o})=>{window[e].apply(window,o)})),this.queueFunctions=[],window.removeEventListener("ueExtensionesCargadas",this.executeQueueFunctions.bind(this))}}let x={keepFocusInModal:e=>{let o=document.querySelector(e),t=o?.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(t&&t.length>0){let e=t[0],i=t[t.length-1];o.addEventListener("keydown",(function(o){o.shiftKey&&"Tab"===o.key&&document.activeElement===e?(i.focus(),o.preventDefault()):o.shiftKey||"Tab"!==o.key||document.activeElement!==i||(e.focus(),o.preventDefault())}))}}};const b=x;class w{constructor(o,t){this.ueModalHtmlByPortal=this.getModalHtml(),this.ueAnalytics=new m,this.actionsConfig={consentlessLogin:{executeFunction:this.goToLogin.bind(this)},consentlessChangeAccount:{executeFunction:this.goToChangeAccount.bind(this)},consentlessSubAccess:{executeFunction:this.handlePurchaseSubscriptionConsentless.bind(this)},registerConsentless:{executeFunction:this.handleRegisterConsentless.bind(this)},premiumSubAccess:{externalUrl:{url:e.externalRedirects.premiumSubAccess}},agreeAll:{executeFunction:this.handleSaveDidomiStatus.bind(this,!0)}},this.userInfoManager=t,this.checksConsentless=o,this.url_redirect=encodeURIComponent(window.location.href),this.cookieManager=new n,this.ueModalHtml=new this.ueModalHtmlByPortal(o),this.nameCookie=e?.cookie_consentState?.nameCookie,this.init()}init(){this.ueAnalytics.setBeAccessNoConsent(),this.ueAnalytics.sendAnalyticsParams("imp","popup_consentimiento_2"),this.openModal(),this.setStateCookie(e.cookie_consentState.steps.optionsPage)}getModalHtml(o=e?.portalId){switch(o){case 8:return p;case 2:return f;case 4:return g;case 1:return h}}removeModal(){document.querySelector(`#${l.id.ueModal}`).remove()}openModal(){document.body.insertAdjacentHTML("beforeend",this.ueModalHtml.getHtml()),document.body.classList.add(l.class.ueModalOpen),b.keepFocusInModal(`.${l.class.ueModalContainerClass}`),this.handleBindElems()}handleBindElems(){const e=document.querySelector(`#${l.id.ueModal}`)?.querySelectorAll(`[${l.attr.actionName}]`);e?.forEach((e=>{let o=e.getAttribute(l.attr.actionName);const i=t.getHtmlElementText(e);e.onclick=this.handleClickEvent.bind(this,o,i)}))}handleClickEvent(e,o){this.ueAnalytics.sendAnalyticsParams("click","popup_consentimiento_2",o),"agreeAll"!==e&&this.ueAnalytics.setBeAccessNoConsent(1);const t=this.actionsConfig[e];t?.executeFunction?t.executeFunction():t?.externalUrl&&this.handleExternalRedirect(t)}handleExternalRedirect(e){let o=e?.externalUrl?.url;if(o){let i=encodeURIComponent(window.location.href);e.externalUrl?.urlRedirect&&(o+=`${t.getSplitParamUrl(o)}url_redirect=${i}`),e.externalUrl?.csp&&(o+=`&csp=${e.externalUrl.csp}`),t.setHref(o)}}handleSaveDidomiStatus(o){o?(s.log("debug-consent-state --\x3e didomi status --\x3e all accepted"),window.Didomi.setUserAgreeToAll("click"),this.userInfoManager.storeUserInfoInBrowser(e.cookie_ueUserInformationChecks.consentAccepted)):(window.Didomi.setUserDisagreeToAll("click"),this.userInfoManager.storeUserInfoInBrowser(e.cookie_ueUserInformationChecks.consentRejected),s.log("debug-consent-state --\x3e didomi status --\x3e something rejected")),s.log("debug-consent-state --\x3e didomi status --\x3e activation of the cache"),this.removeModal(),this.cookieManager.removeCookie(this.nameCookie),r.sendConsentResponse(!!o)}async handleRegisterConsentless(){const o={externalUrl:{urlRedirect:!0,csp:e.api.cspConsentlessService,url:e.externalRedirects.registerConsentless}};this.checksConsentless.userIsLogged?await this.activeRegisterConsentless():this.handleExternalRedirect(o)}async activeRegisterConsentless(){const o=`${e.api.schema}${e.api.base}/${e.api.version}${e.api.activeConsentlessRegister}/${e.api.cspConsentlessService}/${e.portalId}`;try{await fetch(o,{method:"POST",credentials:"include"}).then((e=>{if(e.ok)return e.json();throw new Error(`HTTP error! Status: ${e.status}`)})).then((()=>{this.handleSaveDidomiStatus()}))}catch(e){s.log(e)}}handlePurchaseSubscriptionConsentless(){this.setStateCookie(e?.cookie_consentState?.steps?.twoPointOne),this.handleExternalRedirect({externalUrl:{url:e.externalRedirects.consentlessSubAccess}})}goToLogin(){switch(this.cookieManager.removeCookie(e.cookie_ueUserInformationChecks?.nameCookie),e.portalId){case 1:case 2:this.setStateCookie(e?.cookie_consentState?.steps?.twoPointThree);break;case 4:case 8:this.setStateCookie(e?.cookie_consentState?.steps?.twoPointTwo)}this.handleExternalRedirect({externalUrl:{urlRedirect:!0,url:e?.externalRedirects?.consentlessLogin}})}goToChangeAccount(){t.logout(this.cookieManager),this.handleExternalRedirect({externalUrl:{urlRedirect:!0,url:e?.externalRedirects?.consentlessLogout}})}setStateCookie(o){const t=JSON.stringify({step:o});this.cookieManager.setCookie(this.nameCookie,t,{"max-age":this.cookieManager.hoursCookieActive(e.cookie_consentState.hoursToExpired),domain:this.cookieManager.domain})}}class k{constructor(o,i){this.checksConsentlessReady=[],this.userInfoManager=o,this.cookieManager=i,this.ueAnalytics=new m,this.handleDidomiEvents(),this.i18n=u[e.portalId].textContent[t.getLang()],this.agreeButtonBinded=!1,this.BUTTON_STEPS={agree:"save",disagree:"disagree",consentless:"consentless"},this.didomiParentNodeId=`#${d.id.didomiHost}`}init(e){this.checksConsentless=e,this.executeFunctionsOnChecksReady()}setStatusValues(){this.requiredPurposeIds=window.Didomi.getRequiredPurposeIds(),this.requiredVendorsIds=window.Didomi.getRequiredVendorIds(),this.selectedPurposes=window.Didomi.getUserStatus().purposes.consent.enabled.concat(window.Didomi.getUserStatus().purposes.consent.disabled),this.disagreePurposes=window.Didomi.getUserStatus().purposes.consent.disabled,this.disagreeVendors=window.Didomi.getUserStatus().vendors.consent.disabled}noticeButtonsListeners(){const o=[l?.id?.agreeNoticeButton,l?.id?.disagreeNoticeButton];o?.forEach((o=>{document.querySelector(`#${o}`).addEventListener("click",(o=>{Boolean(o?.target?.dataset?.agree)&&(this.userInfoManager.storeUserInfoInBrowser(e.cookie_ueUserInformationChecks.consentAccepted),this.cookieManager.removeCookie(e.cookie_consentState.nameCookie),r.sendConsentResponse(!0)),Boolean(o?.target?.dataset?.disagree)&&(this.userInfoManager.storeUserInfoInBrowser(e.cookie_ueUserInformationChecks.consentRejected),r.sendConsentResponse(!1))}))}))}handleDidomiEvents(){window.didomiEventListeners.push({event:"notice.shown",listener:()=>{this.setStatusValues(),this.checksConsentlessReady.push(this.handleNoticeShown.bind(this)),this.executeFunctionsOnChecksReady()}}),window.didomiEventListeners.push({event:"preferences.shown",listener:()=>{this.setStatusValues(),this.checksConsentlessReady.push(this.handlePreferencesPurposesShown.bind(this)),this.executeFunctionsOnChecksReady(),this.handlePreferencesVendorsShown()}}),window.didomiEventListeners.push({event:"preferences.clickviewvendors",listener:()=>{this.handlePreferencesVendorsShown()}}),window.didomiEventListeners.push({event:"preferences.clickpurposeagree",listener:e=>{!this.selectedPurposes.includes(e.purposeId)&&this.selectedPurposes.push(e.purposeId),this.disagreePurposes=this.disagreePurposes.filter((o=>e.purposeId!==o)),this.changePurposesButtons(!1)}}),window.didomiEventListeners.push({event:"preferences.clickpurposedisagree",listener:e=>{!this.selectedPurposes.includes(e.purposeId)&&this.selectedPurposes.push(e.purposeId),!this.disagreePurposes.includes(e.purposeId)&&this.disagreePurposes.push(e.purposeId),this.changePurposesButtons(!1)}}),window.didomiEventListeners.push({event:"preferences.clickvendoragree",listener:e=>{this.disagreeVendors=this.disagreeVendors.filter((o=>e.vendorId!==o))}}),window.didomiEventListeners.push({event:"preferences.clickvendordisagree",listener:e=>{!this.disagreeVendors.includes(e.vendorId)&&this.disagreeVendors.push(e.vendorId)}}),window.didomiEventListeners.push({event:"preferences.clickvendorsavechoices",listener:()=>{this.handlePreferencesPurposesShown()}})}handlePreferencesPurposesShown(){this.handlePurposesPreferencesButtons(),this.handleBindAcceptAndDisagreeAllPurposesBtn()}handleNoticeShown(){t.getNodeElement(`#${l.id.ueNoticeButtons}`,this.didomiParentNodeId).then((()=>{this.handleAnalyticsOnNoticeShown(),this.changeNoticeTexts(),this.changeNoticeButtons(),this.noticeButtonsListeners()})).catch((()=>{console.warn(`elem with selector #${l.id.ueNoticeButtons} is not found`)}))}handlePurposesPreferencesButtons(){t.getNodeElement(`.${l.id.uePurposesButton}`,this.didomiParentNodeId).then((()=>this.changePurposesButtons())).catch((()=>{console.warn(`elem with selector .${l.id.uePurposesButton} is not found`)}))}handlePreferencesVendorsShown(){t.getNodeElement(`.${d.class.containerVendors}`,this.didomiParentNodeId).then((()=>this.handleEventsViewVendors())).catch((()=>{console.warn(`elem with selector .${d.class.containerVendors} is not found`)}))}handleBindAcceptAndDisagreeAllPurposesBtn(){t.getNodeElement(`.${d.class.containerPurposes}`,this.didomiParentNodeId).then((()=>this.bindAcceptAndDisagreeAllPurposesBtn())).catch((()=>{console.warn(`elem with selector .${d.class.containerPurposes} is not found`)}))}getDidomiParentNode(){return document.querySelector(this.didomiParentNodeId)}handleAnalyticsOnNoticeShown(){const e=this.getDidomiParentNode();if(e){const o=e.querySelector(`#${l.id.agreeNoticeButton}`),i=t.getHtmlElementText(o);!this.agreeButtonBinded&&o.addEventListener("click",this.ueAnalytics.sendAnalyticsParams.bind(this.ueAnalytics,"click","popup_consentimiento",i)),this.agreeButtonBinded=!0}}insertLogin(e){let o=document.createElement("span");o.classList.add("didomi-offers__premium"),o.innerHTML=`${this.i18n.didomiModal.header.loginQuestion} <a href="javascript:void(0);" action-name="consentlessLogin" class="didomi-offers__login">${this.i18n.didomiModal.header.loginLink}</a>`,o.querySelector("a").addEventListener("click",(e=>{this.handleLoginClick(e.target.textContent)})),e.querySelector(`.${d.class.didomiText}`)?.prepend(o)}handleLoginClick(o){this.ueAnalytics.sendAnalyticsParams("click","popup_consentimiento",o),this.cookieManager.removeCookie(e.cookie_ueUserInformationChecks?.nameCookie),this.cookieManager.setCookie(e.cookie_consentState.nameCookie,JSON.stringify({step:e.cookie_consentState.steps.firstLogin}),{"max-age":this.cookieManager.hoursCookieActive(e.cookie_consentState.hoursToExpired),domain:this.cookieManager.domain}),r.parentNotHaveSameDomain()?r.redirectOnTop():t.setHref(`${e.externalRedirects.consentlessLogin}&url_redirect=${encodeURIComponent(window.location.href)}`)}insertLogout(e){let o=document.createElement("span");o.classList.add("didomi-offers__premium"),o.innerHTML=`<a href="javascript:void(0);" action-name="consentlessChangeAccount" class="didomi-offers__login">${this.i18n.didomiModal.header.changeAccountLink}</a>`,o.querySelector("a").addEventListener("click",(e=>{this.handleLogoutClick(e.target.textContent)})),e.querySelector(`.${d.class.didomiText}`)?.prepend(o)}handleLogoutClick(o){this.ueAnalytics.sendAnalyticsParams("click","popup_consentimiento",o),t.logout(this.cookieManager),t.setHref(`${e.externalRedirects.consentlessLogout}${t.getSplitParamUrl(e.externalRedirects.consentlessLogout)}url_redirect=${encodeURIComponent(window.location.href)}`)}changeNoticeButtons(){const e=this.getDidomiParentNode();if(e){const o=e.querySelector(`#${l.id.disagreeNoticeButton}`);o&&(o.classList.remove(l.class.hiddenContent),t.countryExcludedGDPRLaw()?(this.hideNoticeText(),o.innerHTML=this.i18n.didomiModal.configureButtonText,o.onclick=window.Didomi.preferences.show):(this.handleInsertLoginOrLogout(),(this.checksConsentless.urlAllowDisagree||this.checksConsentless.premiumActiveSub)&&(o.dataset.disagree=!0,o.innerHTML=this.i18n.didomiModal.disagreeButtonText),this.handleDisagreeButtonEvent(o)))}}hideNoticeText(){t.getNodeElement(`#${l?.id?.ueNoticeTexts}`,this.didomiParentNodeId).then((e=>{e&&e.classList.add(l?.class?.hiddenContent)})).catch((()=>{console.warn(`elem with selector #${l?.id?.ueNoticeTexts} is not found`)}))}bindAcceptAndDisagreeAllPurposesBtn(){const e=this.getDidomiParentNode();if(e){const o=e.querySelector(`#${d.id.didomiRadioOptionAgreeToAll}`),t=e.querySelector(`#${d.id.didomiRadioOptionDisagreeToAll}`);o&&t&&(o.onclick=this.handleAgreeAllPurposesBtn.bind(this),t.onclick=this.handleDisagreeAllPurposesBtn.bind(this))}}handleInsertLoginOrLogout(){const e=this.getDidomiParentNode();e&&(this.checksConsentless.urlAllowDisagree||(this.checksConsentless.userIsLogged?this.insertLogout(e):this.insertLogin(e)))}handleAgreeAllPurposesBtn(){this.selectedPurposes=window.Didomi?.getRequiredPurposeIds(),this.disagreePurposes=[],this.disagreeVendors=[],this.changePurposesButtons(!1)}handleDisagreeAllPurposesBtn(){this.selectedPurposes=window.Didomi?.getRequiredPurposeIds(),this.disagreePurposes=window.Didomi?.getRequiredPurposeIds(),this.disagreeVendors=window.Didomi?.getRequiredVendorIds(),this.changePurposesButtons(!1)}changePurposesButtons(o=!0){const i=this.checksConsentless.consentlessActiveSub,n=this.checksConsentless.isActiveConsentlessRegister&&!this.checksConsentless.isExpiredConsentlessRegister,a=i||n,r=this.userInfoManager.hasSomethingRejected(this.disagreePurposes,this.disagreeVendors),c=this.getDidomiParentNode(),d=c?.querySelector(`#${l.id.savePurposesButton}`);if(c&&d){r?(s.log("debug-consent -> didomiModal -","There're some purpose or vendor rejected"),this.checksConsentless?.premiumActiveSub||this.checksConsentless.urlAllowDisagree?(s.log("debug-consent -> didomiModal -","The user is Premium or url allows reject"),s.log("debug-consent -> didomiModal - Premium",this.checksConsentless?.premiumActiveSub),s.log("debug-consent -> didomiModal - url allows reject",this.checksConsentless.urlAllowDisagree),d.dataset.statePurposesButton=this.BUTTON_STEPS.disagree,d.textContent=this.i18n.didomiModal.saveButtonText):a?(s.log("debug-consent -> didomiModal -","The user is not Premium. The user is consentless or consentless with registration"),s.log("debug-consent -> didomiModal -> config.allowConsentlessRegister",e.allowConsentlessRegister),s.log("debug-consent -> didomiModal -> isActiveConsentlessRegister",this.checksConsentless?.isActiveConsentlessRegister),s.log("debug-consent -> didomiModal -> isExpiredConsentlessRegister",this.checksConsentless?.isExpiredConsentlessRegister),d.dataset.statePurposesButton=this.BUTTON_STEPS.consentless):(s.log("debug-consent -> didomiModal -","The user doesn't have any sub"),d.dataset.statePurposesButton=this.BUTTON_STEPS.disagree,t.countryExcludedGDPRLaw()||(d.textContent=this.i18n.didomiModal.disagreeAndSuscribeButtonText))):(s.log("debug-consent -> didomiModal -","There're all purposes accepted"),a?(s.log("debug-consent -> didomiModal - ","The user is consentless or consentless with registration"),d.dataset.statePurposesButton=this.BUTTON_STEPS.consentless):(s.log("debug-consent -> didomiModal -","The user is not consentless or consentless with registration"),d.dataset.statePurposesButton=this.BUTTON_STEPS.agree,d.textContent=this.i18n.didomiModal.saveButtonText),s.log("debug-consent -> didomiModal -> config.allowConsentlessRegister",e.allowConsentlessRegister),s.log("debug-consent -> didomiModal -> isActiveConsentlessRegister",this.checksConsentless?.isActiveConsentlessRegister),s.log("debug-consent -> didomiModal -> isExpiredConsentlessRegister",this.checksConsentless?.isExpiredConsentlessRegister));const i=this.selectedPurposes.length!==this.requiredPurposeIds.length,n=d.dataset.statePurposesButton===this.BUTTON_STEPS.consentless;d.disabled=i||n,o&&this.handleSaveButtonEvent(d)}}handleDisagreeButtonEvent(e){const o=t.getHtmlElementText(e);e&&(e.onclick=()=>{this.ueAnalytics.sendAnalyticsParams("click","popup_consentimiento",o),this.handleAllowDisagree(),t.didomiHide()})}handleAllowDisagree(){r.parentNotHaveSameDomain()?r.redirectOnTop():this.checksConsentless.urlAllowDisagree||this.checksConsentless.premiumActiveSub?(this.setAllDidomi(!1),s.log("debug-consent","Save configuration rejected"),this.userInfoManager.storeUserInfoInBrowser(e.cookie_ueUserInformationChecks.consentRejected),r.sendConsentResponse(!1)):new w(this.checksConsentless,this.userInfoManager)}handleSaveButtonEvent(e){e&&(e.onclick=()=>{const o=t.getHtmlElementText(e);this.ueAnalytics.sendAnalyticsParams("click","popup_consentimiento",o),this.handleActionSaveButton(e),t.didomiHide()})}handleActionSaveButton(o){o.dataset.statePurposesButton===this.BUTTON_STEPS.agree?(s.log("debug-consent - didomiModal -> ","All purposes and vendors has been set to agree"),this.setAllDidomi(!0),s.log("debug-consent","Save configuration accepted"),this.userInfoManager.storeUserInfoInBrowser(e.cookie_ueUserInformationChecks.consentAccepted),r.sendConsentResponse(!0)):this.checksConsentless.premiumActiveSub||this.checksConsentless.urlAllowDisagree?(s.log("debug-consent -> didomiModal -","The user is Premium or url allows reject -> save all consent true"),s.log("debug-consent -> didomiModal - Premium",this.checksConsentless.premiumActiveSub),s.log("debug-consent -> didomiModal - url allows reject",this.checksConsentless.urlAllowDisagree),this.saveUserStatusInDidomi(),s.log("debug-consent","Save configuration accepted"),this.userInfoManager.storeUserInfoInBrowser(e.cookie_ueUserInformationChecks.consentAccepted),r.sendConsentResponse(!0)):t.countryExcludedGDPRLaw()?this.handleCountryExcludedGDPRLaw():(s.log("debug-consent -> didomiModal -> ","The user doesn't have product and with something rejected"),this.handleAllowDisagree(),t.didomiHide(),s.log("debug-consent","Disagree save purposes"))}handleCountryExcludedGDPRLaw(){this.saveUserStatusInDidomi();this.userInfoManager.hasSomethingRejected(this.disagreePurposes,this.disagreeVendors)?this.userInfoManager.storeUserInfoInBrowser(e.cookie_ueUserInformationChecks.consentRejected):this.userInfoManager.storeUserInfoInBrowser(e.cookie_ueUserInformationChecks.consentAccepted)}saveUserStatusInDidomi(){const e=document.querySelector(`${this.didomiParentNodeId} .${d.class.didomiConsentPopupFooter}.${d.class.didomiPopupFooter} button`);e&&e.click()}handleEventsViewVendors(){const e=this.getDidomiParentNode();if(e){const o=e.querySelector(`.${d.class.consentPoupVendor}.${d.class.containerClickAll}`),t=e.querySelector(`.${d.class.didomiConsentPoupHeader} .${d.class.didomiNotLinkStyle}`);if(o&&t){const e=o.querySelectorAll("button");e[0].onclick=()=>{this.disagreeVendors=this.requiredVendorsIds},e[1].onclick=()=>{this.disagreeVendors=[]},t.onclick=()=>{this.handlePreferencesPurposesShown()}}}}changeNoticeTexts(){this.checksConsentless.urlAllowDisagree&&document.querySelector(`#${l?.id?.ueNoticeTexts}`)?.classList.add("hidden-content")}async executeFunctionsOnChecksReady(){const o=e.urlsNotShowDidomi.some((e=>t.getHref().includes(e)));if((!this.userInfoManager.isConsentRequired()||o)&&!this.checksConsentless){await this.userInfoManager.setVendorList();const e=new c(this.userInfoManager);this.checksConsentless=await e.forceGetConsentlessChecks()}this.checksConsentless&&(this.checksConsentlessReady.forEach((e=>e())),this.checksConsentlessReady=[])}setAllDidomi(e){e?window.Didomi.setUserAgreeToAll("click"):window.Didomi.setUserDisagreeToAll("click")}}class v{async getList(){try{const o=await fetch(`${e.iab.vendorsListUrl}`);if(!o.ok)throw new Error(`${o.status} ${o.statusText}`);return await o.json()}catch(e){return console.warn(e.message),{}}}isSomeVendorRejectedByUser(e,o){const t=e?.filter((e=>(s.log("[debug-iab] Vendor Name: ",o?.vendors?.[e]?.name||e),s.log("[debug-iab] Vendor purposes: ",o?.vendors?.[e]?.purposes),s.log("[debug-iab] Vendor deletedDate: ",o?.vendors?.[e]?.deletedDate),0==(o.vendors?.[e]?.purposes?.length||this.getVendorWhiteListedValue(e))||o?.vendors?.[e]?.purposes?.length>0&&o?.vendors?.[e]?.deletedDate)));return t?.length!==e?.length}isSomeVendorRejectedByUserTemporally(e,o){const t=e.filter((e=>!(0==(o.vendors?.[e]?.purposes?.length||this.getVendorWhiteListedValue(e))||o.vendors?.[e]?.purposes?.length>0&&o.vendors?.[e]?.deletedDate)));return s.log("[debug-iab] New vendors IAB add by Didomi as rejected:",t),t.length>=500}getVendorWhiteListedValue(e){return 0}}class y{constructor(e,o){this.configManager=o,this.iabVendorsManager=new v,this.cookieManager=e,this.vendorList={}}async setVendorList(){this.vendorList=await this.iabVendorsManager.getList()}hasSomethingRejected(e,o){const t=e||window.Didomi?.getUserStatus()?.purposes.consent.disabled||[],i=o||window.Didomi?.getUserStatus()?.vendors.consent.disabled||[],n=t.length>0,s=this.iabVendorsManager.isSomeVendorRejectedByUser(i,this.vendorList);return!(!n&&!s)}hasSomethingRejectedTemporally(){const e=window.Didomi?.getUserStatus()?.purposes.consent.disabled||[],o=window.Didomi?.getUserStatus()?.vendors.consent.disabled||[],t=e.length>0,i=this.iabVendorsManager.isSomeVendorRejectedByUserTemporally(o,this.vendorList);return!(!t&&!i)}isConsentRequired(){return window.Didomi?.shouldUserStatusBeCollected()}storeUserInfoInBrowser(e){e&&this.cookieManager.setCookie(this.configManager?.cookie_ueUserInformationChecks?.nameCookie,e.value,{"max-age":e.maxAge,domain:this.cookieManager.domain})}deleteUserInfoInBrowser(){this.cookieManager.removeCookie(this.configManager.cookie_ueUserInformationChecks?.nameCookie)}getUserInfoInBrowser(){this.cookieManager.getCookie(this.configManager.cookie_ueUserInformationChecks?.nameCookie)}}class A{constructor(){this.initAmpActions(),this.init()}async init(){this.cookieManager=new n,this.userInfoManager=new y(this.cookieManager,e),this.didomiModal=new k(this.userInfoManager,this.cookieManager),this.nameStateCookie=e?.cookie_consentState?.nameCookie;const o=this.cookieManager.getCookie(e?.cookie_ueUserInformationChecks?.nameCookie);o?r.sendConsentResponseWithCache(o):await this.initConsentFlow(),this.addLogoutListener()}initAmpActions(){r.syncAmpAndWeb(),r.saveParentHref()}async initConsentFlow(){this.urlsHideDidomi=e?.urlsHideDidomi||[],this.urlsNotShowDidomi=e?.urlsNotShowDidomi||[],this.ueAnalytics=new m;const o=this.cookieManager.getCookie(this.nameStateCookie);this.consentStep=o&&JSON.parse(o)?.step?Number(JSON.parse(o)?.step):e.cookie_consentState?.steps.first,await this.userInfoManager.setVendorList(),await this.handleInitChecks()}async handleInitChecks(){const o=this.urlsHideDidomi?.some((e=>t.getHref().includes(e))),i=this.urlsNotShowDidomi?.some((e=>t.getHref().includes(e))),n=this.consentStep===e.cookie_consentState.steps.firstLogin;(t.isSecondStep(this.consentStep)||n)&&o||i||(this.handleLastConsentlessStep(),await this.handleConsentlessChecks())}async handleConsentlessChecks(){const e=new c(this.userInfoManager),o=await e.getConsentlessChecks();Object.keys(o)?.length&&this.handleDomContentLoaded(this.handleInitModals.bind(this,o))}handleDomContentLoaded(e){document.querySelector("body")?e():addEventListener("DOMContentLoaded",(()=>{e()}))}handleInitModals(e){this.didomiModal.init(e),this.handleShowModal(e)}handleShowModal(e){const o=e.consentlessActiveSub,t=e.isActiveConsentlessRegister&&!e.isExpiredConsentlessRegister;!o&&!t||this.userInfoManager.hasSomethingRejected()?this.handleShowDidomiOrUeModal(e):(window.Didomi.setUserDisagreeToAll("click"),this.cookieManager.removeCookie(this.nameStateCookie))}handleShowDidomiOrUeModal(e){const o=e.premiumActiveSub||e.consentlessActiveSub,i=e.isActiveConsentlessRegister&&!e.isExpiredConsentlessRegister;t.isSecondStep(this.consentStep)&&!o&&!i?new w(e,this.userInfoManager):this.handleShowDidomi(e)}handleShowDidomi(e){const o=e.premiumActiveSub||e.consentlessActiveSub,t=e.isActiveConsentlessRegister&&!e.isExpiredConsentlessRegister,i=this.userInfoManager.hasSomethingRejectedTemporally()&&!o&&!t;(this.userInfoManager.isConsentRequired()||i)&&(window.Didomi.notice.show(),this.ueAnalytics.sendAnalyticsParams("imp","popup_consentimiento"))}handleLastConsentlessStep(){const o=JSON.parse(this.cookieManager.getCookie(this.nameStateCookie)||"{}");if(!o?.step){const o=JSON.stringify({step:e.cookie_consentState?.steps?.first});this.cookieManager.setCookie(this.nameStateCookie,o,{"max-age":this.cookieManager.hoursCookieActive(e.cookie_consentState.hoursToExpired),domain:this.cookieManager.domain})}}addLogoutListener(){window.addEventListener("REGLogout",function o(){s.log("debug-consent-lite","Delete cookie user info manager"),this.cookieManager.removeCookie(e.cookie_consentState?.nameCookie),this.cookieManager.removeCookie(e.cookie_ueUserInformationChecks?.nameCookie),window.removeEventListener("REGLogout",o)}.bind(this))}}window.addEventListener("ue.didomi.onready",(()=>{new A})),window.didomiOnReady=window.didomiOnReady||[],window.didomiEventListeners=window.didomiEventListeners||[],window.didomiOnReady.push((function(){window.Didomi&&window.Didomi.notice&&window.Didomi.notice.hide(),window.Didomi&&window.Didomi.preferences&&window.Didomi.preferences.hide()})),window.didomiOnReady.push((function(){let e=new Event("ue.didomi.onready");window.dispatchEvent(e)}))})();