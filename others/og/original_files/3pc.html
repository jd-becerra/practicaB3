<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>3pc</title><meta name="viewport" content="width=device-width,initial-scale=1"><script>!function(){"use strict";class e{static enable(){var n,t,i,r;if(e.shouldEnableLogging()){o.output("Sensic crash reporting enabled","log","fcall");const e=document.createElement("script"),s=document.getElementsByTagName("script")[0];if(s){e.type="text/javascript",e.src=null===(t=null===(n=window.s2sSdkConfig)||void 0===n?void 0:n.crashReporting)||void 0===t?void 0:t.scriptUrl,e.setAttribute("crossorigin","anonymous"),s.parentNode.insertBefore(e,s);const o=document.createElement("script");o.innerHTML=`\n          Sentry.onLoad(function() {\n            class GfKIntegration {\n              name = "GfKIntegration";\n            \n              setupOnce() {\n                Sentry.addGlobalEventProcessor(event => {\n                  const clientHasSentry = window.gfkSentryHub.getClient().getDsn().projectId !== Sentry.getCurrentHub().getClient().getDsn().projectId;\n                  if (event?.tags?.sentryClient === 'gfkClient') { // prevent recursive calls\n                    return event;\n                  }\n                  /*  some event filters */\n                  const frames = event.exception?.values[0]?.stacktrace?.frames;\n                  if(frames && (frames[frames.length-1].filename.indexOf('.sensic.net') !== -1 || frames[frames.length-1].filename.indexOf('localhost:8082') !== -1)){\n                    window.gfkSentryHub.captureEvent(event);\n                    return null;\n                  } else if(!clientHasSentry) {\n                    return null;\n                  }\n                  /*  some event filters end */\n                  return event;\n                });\n              }\n            }\n            window.gfkSentry = new Sentry.BrowserClient({\n              dsn: '${null===(r=null===(i=window.s2sSdkConfig)||void 0===i?void 0:i.crashReporting)||void 0===r?void 0:r.dsn}',\n              enabled: true,\n              environment: '${window.s2sSdkConfig.projectName||"development"}',\n              attachStacktrace: true,\n              transport: Sentry.makeFetchTransport,\n              integrations: [new GfKIntegration()],\n              beforeSend: (event, hint) => {\n                const ctvEnv = '${window.gfkS2sConf.url.includes("/ctv/")?"ctv-":""}';\n                let ver = "agent-${window.s2sSdkConfig.projectName||"development"}"+"-"+ctvEnv+window.s2sSdkConfig.sdkVersion;\n                const frames = event.exception?.values[0]?.stacktrace?.frames;\n                if(frames && frames[frames.length-1].filename.indexOf('s2s-web.js') === -1){\n                  ver = "extension-${window.s2sSdkConfig.projectName||"development"}"+"-"+ctvEnv+window.extensionConfig.version;\n                }\n                event.release = ver;\n                event.environment = '${window.s2sSdkConfig.projectName||"development"}';\n                return event;\n              },\n              allowUrls: [\n                ".sensic.net",\n                "http://localhost:8082/"\n              ],\n\n              // Set tracesSampleRate to 1.0 to capture 100%\n              // of transactions for performance monitoring.\n              // We recommend adjusting this value in production\n              // tracesSampleRate: 1.0\n            });\n            window.gfkSentryHub = new Sentry.Hub(window.gfkSentry);\n            window.gfkSentryHub.run(currentHub => {\n              currentHub.configureScope(function (scope) {\n                scope.setTag("sentryClient", "gfkClient");\n              });\n            });\n          });\n        `,e.onload=()=>{e.parentNode.appendChild(o)}}}}static log(e,n){var t,o;"error"===n&&(null===(o=null===(t=window.s2sSdkConfig)||void 0===t?void 0:t.crashReporting)||void 0===o?void 0:o.sampling)>0&&window.gfkS2sConf.crashReporting&&window.gfkSentryHub&&window.gfkSentryHub.captureMessage(e)}static isScriptMissingCrossorigin(e){const n=document.querySelector(`script[src*='${e}']`);return n&&"anonymous"!==n.getAttribute("crossorigin")}static checkImplementation(e){e&&(this.isScriptMissingCrossorigin("playerextension.js")&&o.warn('WARN: Crash reporting is enabled but "crossorigin" attribute is missing from playerextension.js script. Please check our documentation here: https://confluence-docu.gfk.com/pages/viewpage.action?pageId=102334502#GenericPlayerExtension(JSSDK)-Theidea-somepseudocode'),this.isScriptMissingCrossorigin("s2s-web.js")&&o.warn('WARN: Crash reporting is enabled but "crossorigin" attribute is missing from the tag. Please check our documentation here: https://confluence-docu.gfk.com/pages/viewpage.action?pageId=13044049'))}static shouldEnableLogging(){var e,n,t,i,r,s;if(window&&(null===(n=null===(e=null===window||void 0===window?void 0:window.s2sSdkConfig)||void 0===e?void 0:e.crashReporting)||void 0===n?void 0:n.sampling)>0&&(null===(t=null===window||void 0===window?void 0:window.gfkS2sConf)||void 0===t?void 0:t.crashReporting)){const e=(null===(r=null===(i=window.s2sSdkConfig)||void 0===i?void 0:i.crashReporting)||void 0===r?void 0:r.sampling)||0;let n;if(sessionStorage){if(sessionStorage.getItem("sensicCrashReporting"))return this.checkImplementation("true"===sessionStorage.getItem("sensicCrashReporting")),"true"===sessionStorage.getItem("sensicCrashReporting");n=100*Math.random(),sessionStorage.setItem("sensicCrashReporting",(e>n)+"")}else n=100*Math.random();return this.checkImplementation(e>n),e>n}if(null===(s=null===window||void 0===window?void 0:window.gfkS2sConf)||void 0===s?void 0:s.crashReporting)return!1;{const e=(null===window||void 0===window?void 0:window.extensionConfig)?"https://confluence-docu.gfk.com/pages/viewpage.action?pageId=102334502":"https://confluence-docu.gfk.com/display/SENSIC/Configuration+for+Websites";return o.warn(`WARN: Crash reporting is disabled at the moment. Please consider its activation as documented here: ${e}`),!1}}}const n={none:0,error:1,warn:2,info:3,log:4,debug:5},t=["none","debug","log","info","warn","error"];class o{static debug(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.output(e,"debug",n.coloring,n.extraObj)}static log(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.output(e,"log",n.coloring,n.extraObj)}static info(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.output(e,"info",n.coloring,n.extraObj)}static warn(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.output(e,"warn",n.coloring,n.extraObj)}static error(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.output(e,"error",n.coloring,n.extraObj)}static output(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log",r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;var a,c;if(!(n[i]>n[o.logLevel])){if(t.match(null===(c=null===(a=window.s2sSdkConfig)||void 0===a?void 0:a.crashReporting)||void 0===c?void 0:c.ignoreErrors)||e.log(t,i),o.url&&XMLHttpRequest){const e=new XMLHttpRequest,n=o.url+"?"+i+"="+encodeURIComponent(t+(s?"\n"+JSON.stringify(s):""))+"&src=S2S";e.open("GET",n,!0),e.send()}if("undefined"!=typeof console){const e=(r?"%c ":"")+t+(r?" %c":""),n=console;"function"==typeof n[i]?"fcall"===r?s?n[i]("GFK: "+e,"background: #060; color: #fff","","object"==typeof s&&Array.from?Array.from(s):s):n[i]("GFK: "+e,"background: #060; color: #fff",""):"request"===r?n[i]("GFK: "+e,"background: #059; color: #fff","",s):n[i]("GFK: "+e):n.error("GFK: "+e)}}}static formatDuration(e){const n=e%1e3,t=(e=(e-n)/1e3)%60,o=(e=(e-t)/60)%60,i=(e-o)/60;return(i?i+":":"")+("0"+o).slice(-2)+":"+("0"+t).slice(-2)+"."+("00"+n).slice(-3)}static readFromTagConf(){this.readFromConf(window.gfkS2sConf)}static readFromConnectorConf(){this.readFromConf(window.gfkConnectorConf)}static readFromLocalStorage(){try{if(window.localStorage){const e=window.localStorage.getItem("sensic-logLevel");i(e)&&(o.logLevel=e)}}catch(e){console.warn("Couldn't read log settings from local storage:",e)}}static readFromConf(e){i(null==e?void 0:e.logLevel)&&(o.logLevel=e.logLevel),(null==e?void 0:e.logUrl)&&(o.url=e.logUrl)}}function i(e){return t.includes(e)}o.logLevel="none",o.url=null;class r{static getCookie(e){const n=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return n?decodeURIComponent(n[2]):null}static deleteCookie(e,n){this.setCookie(e,"",{days:-1,domain:n})}static setCookie(e,n){let{days:t=730,domain:o,sameSite:i="None"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Date;r.setTime(r.getTime()+24*t*60*60*1e3);let s=e+"="+encodeURIComponent(n)+";path=/;expires="+r.toUTCString();o&&(s+=";domain="+o),s+=";sameSite="+i,"https:"===window.location.protocol&&(s+=";secure"),document.cookie=s}static isHttp(){if("undefined"!=typeof window){const e=window.document.getElementsByTagName("script");for(let n=0;n<e.length;n++)if(e[n]&&e[n].src.match(/\/\/[^/]*sensic.net\/\S*\.js$/))return null!==e[n].src.match(/^http:/);if("http:"===window.location.protocol)return!0}return!1}}const s="sui_3pc";function a(){if(!r.getCookie(s)){const e=function(){let e=Date.now().toString().substring(0,13).padStart(13,"0");const n="ABCDEF0123456789",t=n.length,o=56-e.length;for(let i=0;i<o;i++)e+=n.charAt(Math.floor(Math.random()*t));return e}();r.setCookie(s,e,{sameSite:"None",domain:".sensic.net"})}window.parent.postMessage({sensic_sui_3pc:r.getCookie(s)},"*")}function c(){let e=r.getCookie("sui");e&&(e=JSON.parse(e)),window.parent.postMessage({sensic_sui_old_3pc:e},"*")}o.readFromTagConf(),o.readFromLocalStorage(),window.addEventListener("message",(e=>{e.data.readNewCookie&&a()})),c(),window.addEventListener("message",(e=>{e.data.readOldCookie&&c()})),window.parent.postMessage("iframeContentLoaded","*")}();
//# sourceMappingURL=3pc.js.map</script></head><body></body></html>