function t(t,e,r,n,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,i)}function e(e){return function(){var r=this,n=arguments;return new Promise((function(i,o){var a=e.apply(r,n);function u(e){t(a,i,o,u,c,"next",e)}function c(e){t(a,i,o,u,c,"throw",e)}u(void 0)}))}}function r(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var o;function a(t){return function(t){return document.querySelector('script[data-mrf-script="'.concat(t,'"]'))}(t)||function(t){var e=document.createElement("script");return e.setAttribute("type","application/json"),e.dataset.mrfScript=t,document.head.appendChild(e)}(t)}function u(t){return t&&"object"==typeof t}function c(t,e){return u(t)&&u(e)?(Object.keys(e).forEach((r=>{var n=t[r],i=e[r];Array.isArray(n)&&Array.isArray(i)?t[r]=n.concat(i):u(n)&&u(i)?t[r]=c(Object.assign({},n),i):t[r]=i})),t):e}function l(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce(((t,e)=>c(t,e)),{})}function f(t,e,r,n,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,i)}function s(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){f(o,n,i,a,u,"next",t)}function u(t){f(o,n,i,a,u,"throw",t)}a(void 0)}))}}function d(){var t,e;return window.marfeel=null!==(t=window.marfeel)&&void 0!==t?t:{},window.marfeel.cmd=null!==(e=window.marfeel.cmd)&&void 0!==e?e:[],window.marfeel.cmd}!function(t){t.HEADLINE_AB="HeadlineAB"}(o||(o={}));var p="marfeel-sdk-store";function y(t){return t.update=Date.now(),e=p,r=btoa(JSON.stringify(t)),new Promise((t=>{d().push(["consent",n=>{try{if(n.getConsent("cookies"))return window.localStorage.setItem(e,r),t(!0)}catch(t){}return t(!1)}])}));var e,r}function v(){return m.apply(this,arguments)}function m(){return(m=s((function*(){var t,e,r=yield(t=p,new Promise((e=>{d().push(["consent",r=>{try{if(r.getConsent("cookies"))return e(window.localStorage.getItem(t))}catch(t){}return e(null)}])})));return r?JSON.parse(atob(r)):(y(e={creation:Date.now(),update:Date.now(),entries:{}}),e)}))).apply(this,arguments)}function h(t){return w.apply(this,arguments)}function w(){return(w=s((function*(t){return(yield v()).entries[t]}))).apply(this,arguments)}function g(){return(g=s((function*(t,e){var r=yield v();return r.entries[t]=e,y(r)}))).apply(this,arguments)}var b="croupier-experimentation-entry",O={percent:function(){var t=e((function*(t){var e=Math.random();for(var r of t)if((e-=r.strategy.value)<=0)return r;return t[t.length-1]}));return function(e){return t.apply(this,arguments)}}()},P=function(){var t=e((function*(t,e){if(Array.isArray(e)&&0!==e.length){var r=(yield h(b))||{};if(r[t])return e.find((e=>e.id===r[t]));if(!e.some((t=>!t.strategy))){var n=e[0].strategy,o=O[n.type],a=yield o(e);return yield function(t,e){return g.apply(this,arguments)}(b,i(i({},(yield h(b))||{}),{},{[t]:a.id})),a}}}));return function(e,r){return t.apply(this,arguments)}}(),j=(t,e)=>{window.marfeel=window.marfeel||{},window.marfeel.cmd=window.marfeel.cmd||[],window.marfeel.cmd.push(["synchronizer",r=>{r.resolve(t,e)}])},E="mrfhud",S=t=>window.location.search.includes(t),A=function(){var t=e((function*(){if(S("activate-overlay")||S(E)||(t=E,window.location.hash.includes(t)))return!0;var t,e,r,n=null===(e=window.__mrfCompass)||void 0===e?void 0:e.accountId;return void 0!==n&&(r="".concat("mrfHudStorage","-").concat(n),!!window.localStorage.getItem(r))}));return function(){return t.apply(this,arguments)}}(),D=function(){var t=e((function*(t){return"FINISHED"===t.status?t.variants.sort(((t,e)=>{var r,n;return((null===(r=e.result)||void 0===r?void 0:r.ctr)||0)-((null===(n=t.result)||void 0===n?void 0:n.ctr)||0)}))[0]:P(t.id||"",t.variants)}));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=e((function*(t){var r,n=yield Promise.all(t.map(function(){var t=e((function*(t){var e=yield D(t);return e?l({id:e.id,status:t.status,applyChangesOnFinish:!!t.applyChangesOnFinish},t.detail,e.detail||{}):{}}));return function(e){return t.apply(this,arguments)}}())),i={headlines:n.filter((t=>{return e=t,!(0===Object.keys(e).length);var e}))};0===i.headlines.length||(yield A())?j("headline",!1):(r=i,a("experimentation-headlineab").innerHTML=JSON.stringify(r))}));return function(e){return t.apply(this,arguments)}}(),x={[o.HEADLINE_AB]:I},N=function(){var t=e((function*(t){var e,r=t.reduce(((t,e)=>i(i({},t),{},{[e.experimentType]:[...t[e.experimentType]||[],e]})),{});e=t.length>0,j("experimentation",e),yield Promise.all(Object.values(o).map((t=>(t=>x[t])(t)(r[t]||[]))))}));return function(e){return t.apply(this,arguments)}}();!function(){try{N([])}catch(t){j("experimentationFailed")}}();